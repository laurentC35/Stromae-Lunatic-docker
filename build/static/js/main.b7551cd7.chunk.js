(this.webpackJsonpstromae=this.webpackJsonpstromae||[]).push([[0],{120:function(e,t){},192:function(e){e.exports=JSON.parse('{"b":"2.4.0","a":{"@craco/craco":"^6.4.0","@inseefr/lunatic":"^2.4.1-fix-controls","@material-ui/core":"^4.11.2","@material-ui/icons":"^4.11.2","@material-ui/lab":"^4.0.0-alpha.57","@material-ui/styles":"^4.11.2","@testing-library/jest-dom":"^5.11.4","@testing-library/react":"^11.1.0","@testing-library/user-event":"^12.1.10","date-fns":"^2.29.3","keycloak-js":"16.1.1","oidc-client":"^1.10.1","react":"^18.2.0","react-dom":"^18.2.0","react-error-boundary":"^3.1.3","react-markdown":"^5.0.3","react-modal":"^3.12.1","react-router-dom":"^5.2.0","react-scripts":"4.0.1","react-swipeable-views":"^0.13.9","react-swipeable-views-utils":"^0.14.0-alpha.0","sass":"^1.32.6","web-vitals":"^0.2.4"}}')},321:function(e,t,n){},766:function(e,t,n){},767:function(e,t,n){},768:function(e,t,n){},769:function(e,t,n){},770:function(e,t,n){},773:function(e,t,n){"use strict";n.r(t);var a,r,o,i,c,s,u,l,d,b,f,j,p,O,h,m,v,g=n(0),x=n.n(g),y=n(281),k=n(14),w=n(22),q=n(29),E=(n(321),n(775)),C=(n.p,n(823)),T=n(1),P=n(826),S=function(){var e=Object(C.a)((function(e){return{backdrop:{zIndex:e.zIndex.drawer+1}}}));return Object(T.jsx)(E.a,{open:!0,className:e().backdrop,children:Object(T.jsx)(P.a,{})})},_=function(e){return function(t){return Object.keys(t).reduce((function(n,a){return n[a]=t[a][e],n}),{})}},N={survey:{fr:"Questionnaire",en:"Survey"},cookieTitle:{fr:"Utilisation des cookies",en:"Cookie Usage"},cookieConsent:{fr:"Pour son bon fonctionnement, le site utilise des cookies, en remplissant le questionnaire, vous acceptez l'installation et l'utilisation de cookies sur votre poste.",en:"For its proper functioning, the site uses cookies. By filling out the questionnaire, you accept the installation and use of cookies on your computer."},assistanceTitle:{fr:"Contacter l'assistance",en:"Contact Support"},assistanceBody:{fr:"Vous \xeates sur le point de contacter l'assistance, en \xeates-vous s\xfbr ?",en:"You are about to contact support, are you sure?"},welcomeBackTitle:{fr:"Bienvenue",en:"Welcome"},welcomeBackBody:{fr:"Vous avez d\xe9j\xe0 commenc\xe9 \xe0 renseigner le questionnaire. \n\n Pour poursuivre votre saisie dans le questionnaire,\n\n que souhaitez-vous faire ?",en:"You have already started to fill in the questionnaire. What do you want to do to continue your entry in the questionnaire?"},appInfo:{fr:"Informations sur l'application",en:"Application informations"},appVersion:{fr:"Version de l'application",en:"Application version"},lunaticVersion:{fr:"Version de la d\xe9pendance @inseefr/lunatic",en:"Version of the @inseefr/lunatic dependency"}},D={getError401:{fr:"Vous semblez avoir \xe9t\xe9 d\xe9connect\xe9.",en:"Changing the sequence"},getError403:{fr:function(e){return"q"===e?"Vous n'\xeates pas autoris\xe9 \xe0 acc\xe9der au questionnaire.":"m"===e?"Vous n'\xeates pas autoris\xe9 \xe0 acc\xe9der aux m\xe9tadonn\xe9es du questionnaire.":"d"===e?"Vous n'\xeates pas autoris\xe9 \xe0 acc\xe9der aux donn\xe9es du r\xe9pondant.":""},en:function(e){return"q"===e?"You are not authorized to access the questionnaire.":"m"===e?"You are not authorized to access the metadata of the questionnaire.":"d"===e?"You are not authorized to access the respondent's data.":""}},getError404:{fr:function(e){return"q"===e?"Le questionnaire n'existe pas.":"m"===e?"Les m\xe9tadonn\xe9es du questionnaire n'existe pas.":"d"===e?"Il n'y a aucune donn\xe9e pour ce r\xe9pondant.":""},en:function(e){return"q"===e?"The questionnaire does not exist.":"m"===e?"The metadata of the questionnaire does not exist.":"d"===e?"There is no data for this respondent.":""}},getErrorServeur:{fr:"Il semble qu'il y ait une erreur c\xf4t\xe9 serveur.",en:"There seems to be an error on the server side."},getUnknownError:{fr:"Une erreur inconnue s'est produite, veuillez contacter l'assistance ou r\xe9essayer plus tard.",en:"An unknown error occurred, please contact support or try again later."},detailsError:{fr:"D\xe9tails de l'erreur",en:"Error details"},noAuthFile:{fr:"Aucun fichier de configuration pour l'authentification n'a \xe9t\xe9 trouv\xe9 (oidc.json ou keycloak.json).",en:"No configuration file for authentication was found (oidc.json or keycloak.json)."},errorModalTitle:{fr:"Des points requi\xe8rent votre attention.",en:"Some points need your attention."}},L={start:{fr:"Commencer",en:"Start"},saveAndNext:{fr:"Continuer",en:"Continue"},MODAL_IGNORE:{fr:"Poursuivre",en:"Ignore"},MODAL_CORRECT:{fr:"Corriger ma r\xe9ponse",en:"Correct"},back:{fr:"Retour",en:"Go back"},send:{fr:"Envoyer",en:"Send"},download:{fr:"T\xe9l\xe9charger",en:"Download"},logout:{fr:"D\xe9connexion",en:"Logout"},logoutAndClose:{fr:"Se d\xe9connecter et quitter",en:"Logout and exit"},yes:{fr:"Oui",en:"Yes"},no:{fr:"Non",en:"No"},understand:{fr:"Je comprends",en:"I understand"},goBackToCurrentPage:{fr:"Revenir \xe0 la derni\xe8re page acc\xe9d\xe9e",en:"Return to the last accessed page"},goToFirstPage:{fr:"Aller \xe0 la premi\xe8re page",en:"Go to the first page"},visualize:{fr:"Visualiser",en:"Visualize"}},A={help:{fr:"Contacter l'assistance",en:"Contact Support"},exit:{fr:"D\xe9connexion",en:"Exit"},menu:{fr:"Menu",en:"Menu"}},I="orchestrator",R="OIDC",U="NONE",V="household",B="readonly",M="simpsons",z="default",F=[M,"tic","logement","famille"],Q=function(e){return"".concat(window.location.origin,"/static/questionnaire/").concat(e,"/form.json")},H=function(e){return"".concat(window.location.origin,"/static/questionnaire/").concat(e,"/metadata.json")},W=function(e){return"".concat(window.location.origin,"/static/questionnaire/").concat(e,"/data.json")},J=W(z),Y=H(z),G="".concat(window.location.origin,"/static/metadata/full.json"),K=(a=z,{"L_DEPNAIS-1-0-0":"".concat(window.location.origin,"/static/questionnaire/").concat(a,"/nomenclatures/L_DEPNAIS-1-0-0.json")}),X="".concat(window.location.origin,"/visualize?questionnaire=").concat(encodeURIComponent(Q(M)),"&metadata=").concat(encodeURIComponent(G)),Z={visualizationTitlePage:{fr:"Page de visualisation de questionnaire",en:"Questionnaire preview page"},labelQuest:{fr:"Questionnaire",en:"Questionnaire"},helperTextQuest:{fr:"L'url d'un json de questionnaire au format Lunatic-model",en:"The url of a json of questionnaire in Lunatic-model format"},helperTextNomenclature:{fr:"Dictionnaire avec en cl\xe9 le nom de la nomenclaure et en valeur l'url",en:"Dictionary with the name of the nomenclature as key and the url as value"},labelMetadata:{fr:"Metadonn\xe9es",en:"Metadata"},helperTextMetadata:{fr:"L'url d'un json de metadonn\xe9es de questionnaire",en:"The url of a json of questionnaire metadata."},labelData:{fr:"Donn\xe9es",en:"Data"},labelReadonly:{fr:"Lecture seule",en:"Readonly"},helperTextData:{fr:"L'url d'un json de donn\xe9es (de r\xe9ponse)",en:"The url of a data (response) json."},accordionHelperTitle:{fr:"Aide",en:"Help"},accordionHelperSubtitle:{fr:"Comment visualiser un questionnaire ?",en:"How do I preview a questionnaire ?"},accordionHelperBody:{fr:'Seul le champ "Questionnaire" est obligatoire, si aucune valeur n\'est renseign\xe9e pour les autres champs, les valeurs par d\xe9faut sont appliqu\xe9es. \n\n Les valeurs par d\xe9faut des json sont disponible ici : \n - [metadonn\xe9es]('.concat(Y,") \n - [m\xe9tadonn\xe9es compl\xe8tes](").concat(G,") \n - [donn\xe9es](").concat(J,') \n\n Vous pouvez \xe9galement choisir un exemple de questionnaire directement. \n\n Une fois les valeurs renseign\xe9es, il vous suffit de cliquer sur le bouton "').concat(null===L||void 0===L||null===(r=L.visualize)||void 0===r?void 0:r.fr,'". \n\n (_Vous pouvez \xe9galement visualiser un exemple de questionnaire enti\xe8rement surcharg\xe9 en cliquant [ici](').concat(X,")_)."),en:'Only the "Questionnaire" field is mandatory, if no value is filled in for the other fields, the default values are applied. \n\n Default json values are available here : \n - [metadata]('.concat(Y,") \n - [full metadata](").concat(G,") \n - [data](").concat(J,') \n\n You can also choose an example questionnaire directly. \n\n Once you have filled in the values, just click on the "').concat(null===L||void 0===L||null===(o=L.visualize)||void 0===o?void 0:o.en,'" button. \n\n (_You can also view an example of a fully overloaded questionnaire by clicking [here](').concat(X,")._)")},chooseExamples:{fr:"Ou choisir un exemple :",en:"Or choose an example"},labelExamples:{fr:"Exemples",en:"Examples"},labelNone:{fr:"Aucun",en:"None"},labelNomenclature:{fr:" Dictionnaire de nomenclatures",en:"Nomenclature dictionnary"}},$={household:{title:{fr:"Accueil",en:"Welcome"},body:{fr:{value:['"Bienvenue sur le questionnaire de r\xe9ponse \xe0 l\'" || Enq_LibelleEnquete || ".\n\n"',"Enq_ObjectifsCourts",'"**Qui doit r\xe9pondre \xe0 ce questionnaire ?**"','whoAnswers1 || "\n\n" || whoAnswers2 || "\n\n" || whoAnswers3 || "\n\n"','""'],bindingDependencies:["Enq_LibelleEnquete","Enq_ObjectifsCourts","whoAnswers1","whoAnswers2","whoAnswers3"]},en:{value:["\"Welcome to ''\" || Enq_LibelleEnquete || \"'' questionnaire. \n\n\"","Enq_ObjectifsCourts",'"**Who should answer this questionnaire ?**"','whoAnswers1 || "\n\n" || whoAnswers2 || "\n\n" || whoAnswers3 || "\n\n"','""'],bindingDependencies:["Enq_LibelleEnquete","Enq_ObjectifsCourts","whoAnswers1","whoAnswers2","whoAnswers3"]}},legalTermsTitle:{fr:"Conna\xeetre le cadre l\xe9gal de l'enqu\xeate ?",en:"Know the legal terms of the survey ?"},legalTermsDetails:{fr:{value:['(if nvl(cast(Enq_TestNonLabellise, boolean), false)\n\t\t\t\t  then "Cette enqu\xeate non obligatoire rel\xe8ve de l\'exercice des missions de service public dont est investi l\'Insee (articles 4, 5 et 5 bis du r\xe8glement 223/2009 relatif aux statistiques europ\xe9ennes, article 1 de la [loi n\xb0 51-711 du 7 juin 1951](" || Loi_statistique ||") sur l\'obligation, la coordination et le secret en mati\xe8re de statistiques, d\xe9cret du 14 juin 1946 organisant l\'Insee)."\n\t\t\t\t  else\n\t\t\t\t    "Vu l\'avis favorable du Conseil national de l\'information statistique, cette enqu\xeate" \n\t\t\t\t\t  || (if cast(Enq_CaractereObligatoire, boolean) \n\t\t\t\t\t      then ", reconnue d\u2019int\xe9r\xeat g\xe9n\xe9ral" \n\t\t\t\t\t\t      || (if cast(Enq_QualiteStatistique, boolean) then " et de qualit\xe9 statistique" else "") \n\t\t\t\t\t\t      || ", est obligatoire" \n\t\t\t\t\t      else " est reconnue d\'int\xe9r\xeat g\xe9n\xe9ral" \n\t\t\t\t\t\t      || (if cast(Enq_QualiteStatistique, boolean) then " et de qualit\xe9 statistique" else "") \n\t\t\t\t\t\t      || "sans avoir de caract\xe8re obligatoire") \n\t\t\t\t\t  || ", en application de la [loi n\xb0 51-711 du 7 juin 1951](" || Loi_statistique ||") sur l\'obligation, la coordination et le secret en mati\xe8re de statistiques."\n\t\t\t\t)','(if nvl(cast(Enq_TestNonLabellise, boolean), false)\n\t\t\t\t  then ""\n\t\t\t\t  else "Visa n\xb0" || Enq_NumeroVisa || " du Ministre " || Enq_MinistereTutelle || ", valable pour l\'ann\xe9e " || cast(Enq_AnneeVisa, string) || " - Arr\xeat\xe9 en " || (if cast(Enq_ParutionJo,boolean) then " date du " || Enq_DateParutionJo else "cours de parution") || "."\n\t\t\t\t)','"Les r\xe9ponses \xe0 ce questionnaire sont prot\xe9g\xe9es par le secret statistique et destin\xe9es \xe0 " || Enq_RespOperationnel || ". Le [r\xe8glement g\xe9n\xe9ral 2016/679 du 27 avril 2016 sur la protection des donn\xe9es (RGPD)](" || Loi_rgpd || ") ainsi que la [loi n\xb0 78-17 du 6 janvier 1978 relative \xe0 l\'informatique, aux fichiers et aux libert\xe9s](" || Loi_informatique || "), s\'appliquent \xe0 la pr\xe9sente enqu\xeate. Ils garantissent aux personnes concern\xe9es un droit d\'acc\xe8s, de limitation ou de rectification pour les donn\xe9es les concernant. Ce droit peut \xeatre exerc\xe9 aupr\xe8s de " || Enq_RespTraitement || "."'],bindingDependencies:["Enq_CaractereObligatoire","Loi_statistique","Enq_NumeroVisa","Enq_QualiteStatistique","Enq_MinistereTutelle","Enq_AnneeVisa","Enq_ParutionJo","Enq_DateParutionJo","Enq_RespOperationnel","Loi_rgpd","Loi_informatique","Enq_RespTraitement","Enq_TestNonLabellise"]},en:{value:['(if nvl(cast(Enq_TestNonLabellise, boolean), false) \n\t\t\t\t  then "This non-compulsory survey is part of INSEE\'s public service remit (Articles 4, 5 and 5a of Regulation 223/2009 on European statistics, Article 1 of [Law 51-711 of 7 June 1951](" || Loi_statistique ||") on the obligation, coordination and secrecy of statistics, Decree of 14 June 1946 organising INSEE)."\n\t\t\t\t  else\n\t\t\t\t    "In view of the favourable opinion of the National Council for Statistical Information, this survey" \n\t\t\t\t    || (if cast(Enq_CaractereObligatoire, boolean) \n\t\t\t\t        then ", recognized as being of general interest" \n\t\t\t\t\t        || (if cast(Enq_QualiteStatistique, boolean) then " and of statistical quality" else "") \n\t\t\t\t\t        || ", is mandatory" \n\t\t\t\t        else " is recognized as being of general interest" \n\t\t\t\t\t        || (if cast(Enq_QualiteStatistique, boolean) then " and of statistical quality" else "") \n\t\t\t\t\t        ||  " without being mandatory") \n\t\t\t\t    || ", in application of [Law n\xb0 51-711 of 7 June 1951](" || Loi_statistique ||") on the obligation, coordination and secrecy in matters of statistics."\n\t\t\t\t)','(if nvl(cast(Enq_TestNonLabellise, boolean), false)\n\t\t\t\t  then ""\n\t\t\t\t  else "Visa n\xb0" || Enq_NumeroVisa || " of the Ministry " || Enq_MinistereTutelle || ", valid for the year " || Enq_AnneeVisa || " - Decree" || (if cast(Enq_ParutionJo,boolean) then (" dated " || Enq_DateParutionJo) else " in progress") || "."\n\t\t\t\t)','"The answers to this questionnaire are protected by statistical secrecy and are intended for " || Enq_RespOperationnel || ". The [General Regulation 2016/679 of April 27, 2016 on data protection (RGPD)](" || Loi_rgpd || ") as well as the [law n\xb0 78-17 of January 6, 1978 relating to data processing, files and liberties](" || Loi_informatique || "), apply to this survey. They guarantee data subjects a right of access, limitation or rectification for data concerning them. This right can be exercised with " || Enq_RespTraitement || "."'],bindingDependencies:["Enq_CaractereObligatoire","Enq_QualiteStatistique","Loi_statistique","Enq_NumeroVisa","Enq_MinistereTutelle","Enq_AnneeVisa","Enq_ParutionJo","Enq_DateParutionJo","Enq_RespOperationnel","Loi_rgpd","Loi_informatique","Enq_RespTraitement","Enq_TestNonLabellise"]}}},business:{title:{fr:"D\xe9but",en:"Start"},body:{fr:{value:['"Page de commencement entreprise'],bindingDependencies:[]},en:{value:['"Start page for business"'],bindingDependencies:[]}}},default:{title:{fr:"D\xe9but",en:"Start"},body:{fr:{value:['"Page de commencement g\xe9n\xe9rique."'],bindingDependencies:[]},en:{value:['"Generic start page."'],bindingDependencies:[]}}}},ee={title:{fr:"Validation",en:"Validation"},body:{fr:['Vous \xeates arriv\xe9 \xe0 la fin du questionnaire. \n\n Merci de cliquer sur le bouton "'.concat(null===L||void 0===L||null===(i=L.send)||void 0===i?void 0:i.fr,"\" pour le transmettre \xe0 l'Insee."),'Apr\xe8s envoi, vous ne pourrez plus modifier vos r\xe9ponses en ligne. \n\n Pour toute modification, cliquer sur le bouton "'.concat(null===L||void 0===L||null===(c=L.back)||void 0===c?void 0:c.fr,'".')],en:['You have reached the end of the questionnaire. \n\n Please click on the "'.concat(null===L||void 0===L||null===(s=L.send)||void 0===s?void 0:s.en,'" button to send it to INSEE.'),'After sending, you will not be able to modify your answers online. \n\n For any modification, click on the "'.concat(null===L||void 0===L||null===(u=L.back)||void 0===u?void 0:u.en,'" button.')]}},te={title:{fr:"Validation",en:"Validation"},body:{fr:['Vous \xeates arriv\xe9 \xe0 la fin du questionnaire. \n\n Merci de cliquer sur le bouton "'.concat(null===L||void 0===L||null===(l=L.send)||void 0===l?void 0:l.fr,"\" pour le transmettre \xe0 l'Insee."),'Apr\xe8s envoi, vous ne pourrez plus modifier vos r\xe9ponses en ligne. \n\n Pour toute modification, cliquer sur le bouton "'.concat(null===L||void 0===L||null===(d=L.back)||void 0===d?void 0:d.fr,'".')],en:['You have reached the end of the questionnaire. \n\n Please click on the "'.concat(null===L||void 0===L||null===(b=L.send)||void 0===b?void 0:b.en,'" button to send it to INSEE.'),'After sending, you will not be able to modify your answers online. \n\n For any modification, click on the "'.concat(null===L||void 0===L||null===(f=L.back)||void 0===f?void 0:f.en,'" button.')]}},ne={household:ee,business:{title:{fr:"Validation",en:"Validation"},body:{fr:['Vous \xeates arriv\xe9 \xe0 la fin du questionnaire. \n\n Merci de cliquer sur le bouton "'.concat(null===L||void 0===L||null===(j=L.send)||void 0===j?void 0:j.fr,"\" pour le transmettre \xe0 l'Insee."),'Apr\xe8s envoi, vous ne pourrez plus modifier vos r\xe9ponses en ligne. \n\n Pour toute modification, cliquer sur le bouton "'.concat(null===L||void 0===L||null===(p=L.back)||void 0===p?void 0:p.fr,'".')],en:['You have reached the end of the questionnaire. \n\n Please click on the "'.concat(null===L||void 0===L||null===(O=L.send)||void 0===O?void 0:O.end,'" button to send it to INSEE.'),'After sending, you will not be able to modify your answers online. \n\n For any modification, click on the "'.concat(null===L||void 0===L||null===(h=L.back)||void 0===h?void 0:h.en,'" button.')]}},default:te},ae={household:{title:{fr:"Fin",en:"End"},body:{fr:['"Votre questionnaire a bien \xe9t\xe9 exp\xe9di\xe9 " || validatedDate || "."','"L\'Insee vous remercie de votre collaboration \xe0 cette enqu\xeate."'],en:['"Your questionnaire has been sent " || validatedDate || "."','"INSEE thanks you for your collaboration in this survey."']},pdfMessage:{fr:"T\xe9l\xe9charger la preuve de votre participation \xe0 l'enqu\xeate",en:"Download the proof of your participation in the survey"},youCanQuit:{fr:"Vous pouvez \xe0 pr\xe9sent vous d\xe9connecter.",en:"You can now log out."}},business:{title:{fr:"Fin",en:"End"},body:{fr:['"Page de fin entreprise."','"Merci !"'],en:['"End page for business"','"Thanks !"']},pdfMessage:{fr:"T\xe9l\xe9charger la preuve de votre participation \xe0 l'enqu\xeate",en:"Download the proof of your participation in the survey"}},default:{title:{fr:"Fin",en:"End"},body:{fr:['"Page de fin g\xe9n\xe9rique."','"L\'Insee vous remercie de votre collaboration \xe0 cette enqu\xeate."'],en:['"Generic end page."','"INSEE thanks you for your collaboration in this survey."']}}},re={household:{title:{fr:"Confirmation de validation",en:"Validation confirmation"},body:{fr:["Vous \xeates sur le point de valider votre questionnaire, en \xeates-vous s\xfbr ? \n\n Apr\xe8s validation, vous ne pourrez plus modifier vos r\xe9ponses."],en:["You are about to validate your questionnaire, are you sure?"]}},business:{title:{fr:"Confirmation de validation",en:"Validation confirmation"},body:{fr:["Vous \xeates sur le point de valider votre questionnaire, en \xeates-vous s\xfbr ?"],en:["You are about to validate your questionnaire, are you sure?"]}},default:{title:{fr:"Confirmation de validation",en:"Validation confirmation"},body:{fr:["Vous \xeates sur le point de valider votre questionnaire, en \xeates-vous s\xfbr ? "],en:["You are about to validate your questionnaire, are you sure?"]}}},oe=_("fr")(D),ie=_("fr")(L),ce=_("fr")(Z),se=_("fr")(N),ue=_("fr")(A),le=function(e){return _("fr")(function(e){return $[e]}(e))},de=function(e){return _("fr")(function(e){return ne[e]}(e))},be=function(e){return _("fr")(function(e){return ae[e]}(e))},fe=function(e){return _("fr")(function(e){return re[e]}(e))},je=function(e){var t,n;return(null===(t=window)||void 0===t||null===(n=t._env_)||void 0===n?void 0:n[e])||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_LUNATIC_LABEL_WORKER_PATH:"/workers/lunatic-label-worker-0.2.4-experimental.js",REACT_APP_LUNATIC_LOADER_WORKER_PATH:"/workers/lunatic-append-worker-0.2.4-experimental.js",REACT_APP_LUNATIC_SEARCH_WORKER_PATH:"/workers/lunatic-searching-worker-0.2.4-experimental.js"})["REACT_APP_".concat(e)]},pe="".concat(window.location.origin),Oe=null!==(m=je("NAME_CONFIG_FILE"))&&void 0!==m?m:"configuration.json",he=null!==(v=je("NAME_OIDC_FILE"))&&void 0!==v?v:"keycloak.json",me=function(e){return fetch(e).then((function(e){return e.json()}))},ve=n(12),ge=n(5),xe=n(4),ye=function(){function e(t){Object(ge.a)(this,e),this._metadata=t,this._events=[]}return Object(xe.a)(e,[{key:"getEventsToSend",value:function(){var e;return{idSU:null===(e=this._metadata)||void 0===e?void 0:e.idSurveyUnit,events:this._events}}},{key:"addMetadata",value:function(e){this._metadata=Object(ve.a)(Object(ve.a)({},this._metadata),e)}},{key:"log",value:function(e){this._events.push(Object(ve.a)(Object(ve.a)(Object(ve.a)({timestamp:(new Date).getTime()},this._metadata),e),{},{idParadataObject:(null===e||void 0===e?void 0:e.typeParadataObject)===I?"".concat(null===e||void 0===e?void 0:e.idParadataObject,"-").concat(this._metadata.idOrchestrator):null===e||void 0===e?void 0:e.idParadataObject},{userAgent:navigator.userAgent,battery:navigator.battery}))}},{key:"clear",value:function(){this._events=[]}}]),e}(),ke=function(){function e(){Object(ge.a)(this,e)}return Object(xe.a)(e,null,[{key:"_createInstance",value:function(e){return new ye(e)}},{key:"createEventLogger",value:function(e){return this._instance||(this._instance=this._createInstance(e)),this._instance}},{key:"getLogger",value:function(){return this._instance}}]),e}(),we=function(e){var t;return null===(t=ke.getLogger())||void 0===t?void 0:t.log(e)},qe=function(e){return function(t){return function(n){we(t),e(n)}}},Ee={typeParadataObject:I,type:"click"},Ce={idParadataObject:"init",typeParadataObject:I,type:"orchestrator-create"},Te={idParadataObject:"init-session",typeParadataObject:"session",type:"session-started"},Pe=function(){var e=["mousedown","mousemove","keydown","scroll","touchstart"];return new Promise((function(t){var n=function(){t()};e.forEach((function(e){window.addEventListener(e,n,{once:!0})}))}))},Se=n(282),_e=n.n(Se),Ne=function(e){var t=e.split("/questionnaire/");if(t.length>1){var n=t[1].slice(0,t[1].indexOf("/"));return n.substr(0,n.indexOf("2")).toLowerCase()}return""},De=function(){var e=Object(q.a)(Object(w.a)().mark((function e(t){var n,a,r,o,i,c,s,u,l,d;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,a=t.realm,r=t.clientId,o=t.identityProvider,i=t.urlPortail,c=t.evtUserActivity,s=_e()({url:n,realm:a,clientId:r}),e.next=4,s.init({onLoad:"check-sso",silentCheckSsoRedirectUri:"".concat(window.location.origin,"/silent-sso.html"),checkLoginIframe:!1}).catch((function(e){return e}));case 4:if(u=e.sent,l=function(){var e=Object(q.a)(Object(w.a)().mark((function e(){return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.login({redirectUri:window.location.href,idpHint:window.location.pathname.startsWith("/".concat(B))?o:null});case 2:return e.abrupt("return",new Promise((function(){})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u){e.next=8;break}return e.abrupt("return",{isUserLoggedIn:!1,login:l});case 8:return e.t0=s.token,e.next=11,s.loadUserInfo();case 11:return e.t1=e.sent,e.t2=function(){var e=Object(q.a)(Object(w.a)().mark((function e(t){return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.logout({redirectUri:function(){switch(t){case"portail":return"".concat(i,"/").concat(Ne(window.location.href));case"home":return window.location.origin;default:return i}}()});case 2:return e.abrupt("return",new Promise((function(){})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d={isUserLoggedIn:!0,accessToken:e.t0,oidcUser:e.t1,logout:e.t2},function e(){var t=1e3*s.tokenParsed.exp-Date.now();setTimeout(Object(q.a)(Object(w.a)().mark((function t(){return Object(w.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("OIDC access token will expire in ".concat(Le," seconds, waiting for user activity before renewing")),t.next=3,c();case 3:return console.log("User activity detected. Refreshing access token now"),t.next=6,s.updateToken(-1).then((function(){}),(function(e){return e}));case 6:if(!t.sent){t.next=11;break}return console.log("Can't refresh OIDC access token, getting a new one"),t.next=11,l();case 11:d.accessToken=s.token,e();case 13:case"end":return t.stop()}}),t)}))),t-1e3*Le)}(),e.abrupt("return",d);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=25,Ae=x.a.createContext(),Ie={isUserLoggedIn:!0,accessToken:null,logout:function(){return window.location.href="/"}},Re=function(e){var t=e.children,n=Object(g.useContext)(ha),a=n.authenticationType,r=n.portail,o=n.identityProvider,i=Object(g.useState)((function(){switch(a){case R:return null;case U:return Ie;default:throw new Error(oe.noAuthFile)}})),c=Object(k.a)(i,2),s=c[0],u=c[1];return Object(g.useEffect)((function(){a===R&&Object(q.a)(Object(w.a)().mark((function e(){var t,n;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me("".concat(pe,"/").concat(he));case 2:return t=e.sent,e.next=5,De({url:t["auth-server-url"],realm:t.realm,clientId:t.resource,identityProvider:o,urlPortail:r,evtUserActivity:Pe});case 5:n=e.sent,u(n);case 7:case"end":return e.stop()}}),e)})))()}),[a,o,r]),null===s?Object(T.jsx)(S,{}):Object(T.jsx)(Ae.Provider,{value:s,children:t})},Ue=function(e){return function(t){var n=Object(g.useContext)(Ae),a=n.isUserLoggedIn,r=n.login,o=t.otherProps,i=Object(T.jsx)(e,Object(ve.a)({},o));return a?i:(r(),null)}},Ve=n(28),Be=n(853),Me=n(84),ze=function(){var e=Object(q.a)(Object(w.a)().mark((function e(t){return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.json();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",{});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(q.a)(Object(w.a)().mark((function e(t,n,a,r){var o,i,c,s,u,l;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={Accept:"application/json","Content-Type":"application/json"},e.prev=1,e.next=4,fetch(t,{headers:n?Object(ve.a)(Object(ve.a)({},o),{},{Authorization:"Bearer ".concat(n)}):o,method:a,body:r?JSON.stringify(r):null});case 4:if(i=e.sent,c=i.ok,s=i.status,u=i.statusText,!c){e.next=19;break}return e.prev=7,e.next=10,ze(i);case 10:return l=e.sent,e.abrupt("return",{data:l,status:s,statusText:u});case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",{error:!0,status:s,statusText:e.t0.message});case 17:e.next=20;break;case 19:return e.abrupt("return",{error:!0,status:s,statusText:u});case 20:e.next=25;break;case 22:return e.prev=22,e.t1=e.catch(1),e.abrupt("return",{error:!0,statusText:e.t1.message});case 25:case"end":return e.stop()}}),e,null,[[1,22],[7,14]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Qe=function(e){var t=/filename="(.*)"/.exec(e);return t&&t.length>0?t[1]:"default.pdf"},He=function(){var e=Object(q.a)(Object(w.a)().mark((function e(t,n){var a,r,o,i,c,s,u,l;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,{headers:n?{Authorization:"Bearer ".concat(n)}:{},method:"GET"});case 3:if(a=e.sent,r=a.ok,o=a.status,i=a.statusText,c=a.headers,!r){e.next=24;break}return e.prev=6,e.next=9,a.blob();case 9:return s=e.sent,u=window.URL.createObjectURL(s),(l=document.createElement("a")).href=u,l.download=Qe(c.get("Content-disposition")),l.click(),l.remove(),e.abrupt("return",{status:o,statusText:i});case 19:return e.prev=19,e.t0=e.catch(6),e.abrupt("return",{error:!0,status:o,statusText:e.t0.message});case 22:e.next=25;break;case 24:return e.abrupt("return",{error:!0,status:o,statusText:i});case 25:e.next=30;break;case 27:return e.prev=27,e.t1=e.catch(0),e.abrupt("return",{error:!0,statusText:e.t1.message});case 30:case"end":return e.stop()}}),e,null,[[0,27],[6,19]])})));return function(t,n){return e.apply(this,arguments)}}(),We=function(e){return function(t){return Fe(e,t,"GET",null)}},Je=function(e){return function(t){return function(n){return Fe(e,t,"PUT",n)}}},Ye=We,Ge=function(e){return function(t){return function(n){return We("".concat(e,"/api/survey-unit/").concat(t))(n)}}},Ke=function(e){return function(t){return function(n){return function(a){return Je("".concat(e,"/api/survey-unit/").concat(t))(n)(a)}}}},Xe=function(e){return function(t){return function(n){return We("".concat(e,"/api/questionnaire/").concat(t))(n)}}},Ze=function(e){return function(t){return function(n){return We("".concat(e,"/api/questionnaire/").concat(t,"/required-nomenclatures"))(n)}}},$e=function(e){return function(t){return function(n){return We("".concat(e,"/api/nomenclature/").concat(t))(n)}}},et=function(e){return function(t){return function(n){return We("".concat(e,"/api/questionnaire/").concat(t,"/metadata"))(n)}}},tt=function(e){return function(t){return function(n){return He("".concat(e,"/api/survey-unit/").concat(t,"/deposit-proof"),n)}}},nt=function(e){return function(t){return function(n){return(a="".concat(e,"/api/paradata"),function(e){return function(t){return Fe(a,e,"POST",t)}})(t)(n);var a}}},at=function(e){return function(t){return function(n){return function(a){return Je("".concat(e,"/api/survey-unit/").concat(t,"/data"))(n)(a)}}}},rt=function(e){return function(t){return function(n){return function(a){return Je("".concat(e,"/api/survey-unit/").concat(t,"/state-data"))(n)(a)}}}};function ot(e){var t=Object(g.useRef)();return t.current=e,Object(g.useState)((function(){return function(){return t.current.apply(t,arguments)}}))[0]}var it=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"q",n=e.status;return 401===n?oe.getError401:403===n?oe.getError403(t):404===n?oe.getError404(t):n>=500&&n<600?oe.getErrorServeur:oe.getUnknownError},ct=function(){var e=Object(g.useContext)(Ae),t=ot((function(t,n){return(a=e.accessToken,function(){var e=Object(q.a)(Object(w.a)().mark((function e(t,n){var r;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(null===n||void 0===n?void 0:n.headers)||{},e.abrupt("return",fetch(t,Object(ve.a)(Object(ve.a)({},n),{},{headers:a?Object(ve.a)(Object(ve.a)({},r),{},{Authorization:"Bearer ".concat(a)}):r})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())(t,n);var a}));return{lunaticFetcher:t}},st=function(e,t){var n=Object(g.useContext)(Ae),a=Object(g.useContext)(ha).apiUrl,r=ot((function(){return Ze(a)(t)(n.accessToken)})),o=ot((function(){return $e(a)(t)(n.accessToken)})),i=ot((function(){return Xe(a)(t)(n.accessToken)})),c=ot((function(){return et(a)(t)(n.accessToken)})),s=ot((function(){return Ge(a)(e)(n.accessToken)})),u=ot((function(){return tt(a)(e)(n.accessToken)})),l=ot((function(t){return Ke(a)(e)(n.accessToken)(t)})),d=ot((function(t){return at(a)(e)(n.accessToken)(t)})),b=ot((function(t){return rt(a)(e)(n.accessToken)(t)}));return{getRequiredNomenclatures:r,getNomenclature:o,getQuestionnaire:i,getMetadata:c,getSuData:s,getPDF:u,putSuData:l,postParadata:ot((function(e){return nt(a)(n.accessToken)(e)})),putData:d,putStateData:b}},ut=n(13),lt=n(9),dt=n(187),bt=n(829),ft=n(848),jt=n(858),pt=n(834),Ot=n(833),ht=n(832),mt=n(830),vt=n(831),gt=n(90),xt=n.n(gt),yt=n(116),kt=n(827),wt=["className","color","children","disabled","onClick","startIcon","endIcon"],qt=Object(C.a)((function(e){return{root:{backgroundColor:e.palette.secondary.main,color:e.palette.primary.main,textTransform:"none","&:hover,&:focus":{backgroundColor:e.palette.primary.main,color:e.palette.secondary.main}}}})),Et=function(e){var t=e.className,n=(e.color,e.children),a=e.disabled,r=e.onClick,o=e.startIcon,i=e.endIcon,c=Object(lt.a)(e,wt),s=qt();return Object(T.jsx)(kt.a,Object(ve.a)(Object(ve.a)({className:"".concat(s.root," ").concat(t),disabled:a,onClick:r,startIcon:o,endIcon:i},c),{},{children:n}))},Ct=n(828),Tt=n(286),Pt=n.n(Tt),St=Object(C.a)((function(e){return{header:{marginTop:e.spacing(2)}}})),_t={heading:function(e){var t,n=St();switch(e.level){case 1:t="h5";break;case 2:default:t="h6";break;case 3:t="subtitle1";break;case 4:t="subtitle2"}return Object(T.jsx)(Me.a,{className:n.header,gutterBottom:!0,variant:t,children:e.children})},paragraph:function(e){return Object(T.jsx)(Me.a,{children:e.children})},link:function(e){return Object(T.jsx)(Ct.a,Object(ve.a)({target:"_blank"},e))},listItem:function(e){return Object(T.jsx)("li",{children:Object(T.jsx)(Me.a,{component:"span",children:e.children})})}},Nt=function(e){return Object(T.jsx)(Pt.a,Object(ve.a)({className:"stromae-md",skipHtml:!1,renderers:_t},e))},Dt=n(856),Lt=(n(294),function(e){return Array.isArray(e)?e.reduce((function(e,t){var n=t.name,a=t.value;return e[n]=a,e}),{}):{}}),At=Dt.a,It=Object(C.a)((function(e){return{card:{marginLeft:"1em",marginRight:"1em"},accordionDetails:{display:"block"},accordion:{backgroundColor:"#b9b9b969"},legalTermsTitle:{fontWeight:"bold"}}})),Rt=function(e){var t,n,a=e.metadata,r=a.inseeContext,o=a.variables,i=a.genericPages,c=e.personalization,s=It(),u=(null===i||void 0===i?void 0:i.welcome)||le(r),l=u.title,d=u.body,b=u.legalTermsTitle,f=u.legalTermsDetails,j=function(e,t){return Object(yt.interpret)(e,Object(ve.a)(Object(ve.a)(Object(ve.a)({},function(e){return Array.isArray(e)?e.reduce((function(e,t){return e[t]=null,e}),{}):{}}(t)),Lt(o)),Lt(c)))},p=function(e){return e||"Not yet Implemented for ".concat(r)};return Object(T.jsxs)(bt.a,{className:s.card,children:[Object(T.jsx)(mt.a,{title:p(l)}),Object(T.jsx)(vt.a,{}),Object(T.jsxs)(ht.a,{children:[null===d||void 0===d||null===(t=d.value)||void 0===t?void 0:t.map((function(e,t){var n;return Object(T.jsxs)(x.a.Fragment,{children:[Object(T.jsx)(Nt,{children:j(p(e),null===d||void 0===d?void 0:d.bindingDependencies)}),t!==(null===d||void 0===d||null===(n=d.value)||void 0===n?void 0:n.length)-1&&Object(T.jsx)("br",{})]},"line-".concat(t))})),b&&Object(T.jsxs)(jt.a,{className:s.accordion,children:[Object(T.jsx)(Ot.a,{expandIcon:Object(T.jsx)(xt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(T.jsx)(Me.a,{className:s.legalTermsTitle,children:b})}),Object(T.jsx)(pt.a,{className:s.accordionDetails,children:null===f||void 0===f||null===(n=f.value)||void 0===n?void 0:n.map((function(e,t){return Object(T.jsxs)(x.a.Fragment,{children:[Object(T.jsx)(Nt,{children:j(e,null===f||void 0===f?void 0:f.bindingDependencies)}),t!==f.length-1&&Object(T.jsx)("br",{})]},"line-".concat(t))}))})]})]})]})},Ut=n(836),Vt=n(835),Bt=n(854),Mt=n(298),zt=Object(C.a)((function(e){return{card:{marginLeft:"1em",marginRight:"1em"},root:{display:"flex",flexDirection:"column"},download:{marginTop:e.spacing(2),margin:"auto"},actions:{display:"flex",justifyContent:"flex-end"}}})),Ft=function(e){var t=e.logoutAndClose,n=e.metadata,a=n.inseeContext,r=n.variables,o=n.genericPages,i=e.personalization,c=e.stateData.date,s=e.currentPage,u=zt(),l=function(e){return Object(ve.a)(Object(ve.a)({},Ee),{},{idParadataObject:"".concat(e,"-button"),page:s})},d=c||0,b=Object(Ve.h)().pathname,f=Object(Ve.i)(),j=f.idQ,p=f.idSU,O=st(p,j).getPDF,h=(null===o||void 0===o?void 0:o.end)||be(a),m=h.title,v=h.body,g=h.pdfMessage,y=h.youCanQuit,k=function(){var e=Object(q.a)(Object(w.a)().mark((function e(){var t,n,a;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O();case 2:t=e.sent,n=t.error,a=t.status,console.log("".concat(a," : ").concat(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E="".concat(Object(Bt.a)(d,new Date,{addSuffix:!0,locale:At})," (").concat(Object(Mt.a)(d,"dd/MM/yyyy \xe0 HH:mm"),")");return Object(T.jsxs)(bt.a,{className:u.card,children:[Object(T.jsx)(mt.a,{title:m}),Object(T.jsx)(vt.a,{}),Object(T.jsxs)(ht.a,{className:u.root,children:[v.map((function(e,t){return Object(T.jsxs)(x.a.Fragment,{children:[Object(T.jsx)(Nt,{children:(n=e,Object(yt.interpret)(n,Object(ve.a)(Object(ve.a)({validatedDate:E},Lt(r)),Lt(i))))}),t!==v.length-1&&Object(T.jsx)("br",{})]},"line-".concat(t));var n})),!b.includes("visualize")&&Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)("br",{}),Object(T.jsx)(Me.a,{children:g}),Object(T.jsx)(kt.a,{className:u.download,variant:"contained",color:"primary",endIcon:Object(T.jsx)(Vt.a,{}),onClick:qe(k)(l("download")),children:ie.download})]}),Object(T.jsx)("br",{}),Object(T.jsx)(Me.a,{children:y})]}),Object(T.jsx)(Ut.a,{className:u.actions,children:Object(T.jsx)(Et,{onClick:qe(t)(l("logout-close")),children:ie.logoutAndClose})})]})},Qt=n(287),Ht=n.n(Qt),Wt=Object(C.a)((function(e){return{card:{marginLeft:"1em",marginRight:"1em"},root:{display:"flex",flexDirection:"column"},send:{marginTop:e.spacing(2),margin:"auto"}}})),Jt=function(e){var t=e.metadata,n=t.inseeContext,a=t.genericPages,r=e.setValidationConfirmation,o=e.currentPage,i=Wt(),c=(null===a||void 0===a?void 0:a.validation)||de(n),s=c.title,u=c.body,l=Object(ve.a)(Object(ve.a)({},Ee),{},{idParadataObject:"validate-button",page:o});return Object(T.jsxs)(bt.a,{className:i.card,children:[Object(T.jsx)(mt.a,{title:s}),Object(T.jsx)(vt.a,{}),Object(T.jsxs)(ht.a,{className:i.root,children:[u.map((function(e,t){return Object(T.jsxs)(x.a.Fragment,{children:[Object(T.jsx)(Nt,{children:e}),t!==u.length-1&&Object(T.jsx)("br",{})]},"line-".concat(t))})),Object(T.jsx)(kt.a,{className:i.send,variant:"contained",color:"primary",endIcon:Object(T.jsx)(Ht.a,{}),onClick:qe((function(){return r(!0)}))(l),children:ie.send}),Object(T.jsx)("br",{})]})]})},Yt=n(23),Gt=n(837),Kt=n(838),Xt=n(839),Zt=n(843),$t=n(841),en=n(842),tn=n(840),nn=Object(C.a)((function(e){return{error:{color:"#a71616"}}}));function an(e){var t=e.errorMessage,n=nn();return Object(T.jsx)(Gt.a,{className:n.error,children:Object(T.jsx)("div",{children:t})})}function rn(e){var t=e.errors.map((function(e,t){return Object(g.createElement)(an,Object(ve.a)(Object(ve.a)({},e),{},{key:t}))}),[]);return Object(T.jsx)(Kt.a,{children:t})}var on=function(e){var t=e.onClose,n=e.goNext,a=e.currentPage,r=e.errors,o=void 0===r?{}:r,i=Object(g.useCallback)((function(e){return Object(ve.a)(Object(ve.a)({},Ee),{},{idParadataObject:"".concat(e,"-error-modal-button"),page:a})}),[a]),c=o.currentErrors,s=o.isCritical,u=Object(g.useCallback)((function(e){n(e,!0)}),[n]),l=Object(g.useCallback)((function(){t()}),[t]),d=Object(T.jsx)(rn,{errors:Object.entries(c).reduce((function(e,t){var n=Object(k.a)(t,2)[1];return[].concat(Object(Yt.a)(e),Object(Yt.a)(n))}),[])});return Object(T.jsxs)(Xt.a,{open:!0,onClose:qe(t)(i("close")),disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(T.jsx)(tn.a,{id:"alert-dialog-slide-title",children:oe.errorModalTitle}),Object(T.jsx)($t.a,{children:Object(T.jsx)(en.a,{id:"alert-dialog-slide-description",component:"div",children:d})}),Object(T.jsxs)(Zt.a,{children:[Object(T.jsx)(Et,{onClick:qe(l)(i("correct")),children:ie.MODAL_CORRECT}),!s&&Object(T.jsx)(Et,{onClick:qe(u)(i("ignore")),children:ie.MODAL_IGNORE})]})]})},cn=function(e){var t=e.open,n=e.setOpen,a=e.metadata.inseeContext,r=e.validateQuestionnaire,o=e.currentPage,i=fe(a),c=i.title,s=i.body,u=function(e){return Object(ve.a)(Object(ve.a)({},Ee),{},{idParadataObject:"".concat(e,"-sending-modal-button"),page:o})},l=function(){return n(!1)};return Object(T.jsxs)(Xt.a,{open:t,onClose:qe(l)(u("close")),disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(T.jsx)(tn.a,{id:"alert-dialog-slide-title",children:c}),Object(T.jsx)($t.a,{children:Object(T.jsx)(en.a,{id:"alert-dialog-slide-description",component:"div",children:s.map((function(e,t){return Object(T.jsxs)(x.a.Fragment,{children:[Object(T.jsx)(Nt,{children:e}),t!==s.length-1&&Object(T.jsx)("br",{})]},"line-".concat(t))}))})}),Object(T.jsxs)(Zt.a,{children:[Object(T.jsx)(Et,{onClick:qe(l)(u("disagree")),children:ie.no}),Object(T.jsx)(Et,{onClick:qe((function(){n(!1),r()}))(u("agree")),children:ie.yes})]})]})},sn=function(e){return Object(ve.a)(Object(ve.a)({},Ee),{},{idParadataObject:"".concat(e,"-welcomeBack-modal-button")})},un=function(e){var t=e.open,n=e.setOpen,a=e.goToFirstPage,r=function(){n(!1)};return Object(T.jsxs)(Xt.a,{open:t,disableEscapeKeyDown:!0,onClose:qe(r)(sn("close")),"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(T.jsx)(tn.a,{id:"alert-dialog-slide-title",children:se.welcomeBackTitle}),Object(T.jsx)($t.a,{children:Object(T.jsx)(en.a,{id:"alert-dialog-slide-description",component:"div",children:Object(T.jsx)(Nt,{children:se.welcomeBackBody})})}),Object(T.jsxs)(Zt.a,{children:[Object(T.jsx)(Et,{onClick:qe(r)(sn("goToCurrentPage")),children:ie.goBackToCurrentPage}),Object(T.jsx)(Et,{onClick:qe((function(){a(),n(!1)}))(sn("goToFirstPage")),children:ie.goToFirstPage})]})]})},ln=n(844),dn=n(845),bn=n(846),fn=n.p+"static/media/insee.87290282.png",jn=(n(766),Object(C.a)((function(e){return{title:{flexGrow:1}}}))),pn=function(e){var t=e.title,n=e.metadata.mainLogo,a=jn();return Object(g.useEffect)((function(){n&&document.head.querySelectorAll("link[rel*='icon']").forEach((function(e){e.href="".concat(n)}))}),[n]),Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(ln.a,{position:"static",children:Object(T.jsxs)(dn.a,{id:"generalToolbar",children:[Object(T.jsx)("img",{id:"inseeLogoGeneralToolbar",src:n||fn,alt:"Logo de l'Insee"}),Object(T.jsx)(Me.a,{id:"appBarTitle",variant:"h6",className:a.title,children:t||Object(T.jsx)(bn.a,{variant:"text"})})]})})})},On=n(776),hn=n(291),mn=n.n(hn),vn=n(288),gn=n.n(vn),xn=n(289),yn=n.n(xn),kn=n(290),wn=n.n(kn),qn=function(e,t){return Object(ve.a)(Object(ve.a)({},Ee),{},{idParadataObject:"".concat(e,"-assistance-modal-button"),page:t})},En=function(e){var t=e.open,n=e.setOpen,a=e.metadata.inseeContext,r=e.currentPage,o=Object(Ve.i)(),i=o.idQ,c=o.idSU,s=Object(g.useContext)(ha).portail,u=function(){n(!1)};return Object(T.jsxs)(Xt.a,{open:t,onClose:qe(u)(qn("close",r)),disableEscapeKeyDown:!0,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",children:[Object(T.jsx)(tn.a,{id:"alert-dialog-slide-title",children:se.assistanceTitle}),Object(T.jsx)($t.a,{children:Object(T.jsx)(en.a,{id:"alert-dialog-slide-description",children:se.assistanceBody})}),Object(T.jsxs)(Zt.a,{children:[Object(T.jsx)(Et,{onClick:qe(u)(qn("disagree",r)),children:ie.no}),Object(T.jsx)(Et,{onClick:qe((function(){n(!1),a===V&&i&&window.open("".concat(s,"/").concat(i.substr(0,i.indexOf("2")).toLowerCase(),"/contacter-assistance/auth?idue=").concat(c),"_blank")}))(qn("agree",r)),children:ie.yes})]})]})},Cn=(n(767),n(192)),Tn=Cn.b,Pn=Cn.a["@inseefr/lunatic"].replace("^",""),Sn=Object(C.a)({root:{textAlign:"center",padding:"2px 0 2px 0"}}),_n=function(e){var t=e.className,n=Sn();return Object(T.jsx)(Me.a,{className:"".concat(t," ").concat(n.root),children:"Stromae : ".concat(Tn," | Lunatic : ").concat(Pn)})},Nn=function(e){var t=e.metadata,n=e.currentPage,a=e.logoutAndClose,r=Object(g.useState)(!1),o=Object(k.a)(r,2),i=o[0],c=o[1],s=Object(g.useState)(!1),u=Object(k.a)(s,2),l=u[0],d=u[1],b=t.inseeContext,f=Object(g.useContext)(Ae).isUserLoggedIn;Object(g.useEffect)((function(){return window.addEventListener("scroll",O),function(){window.removeEventListener("scroll",O)}}),[]);var j,p,O=function(){c(!1)};return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsxs)("div",{id:"burgerMenu",className:i?"opened":"closed",children:[Object(T.jsxs)("div",{id:"burgerMenuSlideBar",children:[Object(T.jsxs)(On.a,{className:"burgerMenuButton","aria-label":"Assistance",color:"inherit",onClick:function(){return d(!0)},children:[Object(T.jsx)(gn.a,{}),"\xa0",Object(T.jsx)("span",{className:"slideBarButtonText",children:ue.help})]}),f&&b===V&&Object(T.jsxs)(On.a,{className:"burgerMenuButton","aria-label":"D\xe9connexion",color:"inherit",onClick:qe(a)((j="logout",p=n,Object(ve.a)(Object(ve.a)({},Ee),{},{idParadataObject:"".concat(j,"-button"),page:p}))),children:[Object(T.jsx)(yn.a,{}),"\xa0",Object(T.jsx)("span",{className:"slideBarButtonText",children:ue.exit})]}),Object(T.jsx)(_n,{className:"appVersion"})]}),Object(T.jsxs)("div",{id:"burgerMenuToggleTab",children:[Object(T.jsx)(Me.a,{id:"toggleSlidebarText",children:ue.menu}),Object(T.jsx)(On.a,{id:"toggleSlidebarButton",edge:"start",color:"inherit","aria-label":"menu",onClick:function(){c(!i)},children:i?Object(T.jsx)(wn.a,{}):Object(T.jsx)(mn.a,{})})]})]}),Object(T.jsx)(En,{open:l,setOpen:d,metadata:t,currentPage:n})]})},Dn="welcomePage",Ln="validationPage",An="endPage",In=function(e){return![Dn,Ln,An].includes(e)},Rn=function(e,t){var n="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e,null,"\t")),a=document.createElement("a");a.setAttribute("href",n),a.setAttribute("download",t+".json"),document.body.appendChild(a),a.click(),a.remove()},Un=(n(768),Object(C.a)((function(e){return{root:{backgroundColor:"whitesmoke",bottom:0,left:0,top:"auto",width:"100%",position:"fixed",display:"flex",justifyContent:"flex-end",alignItems:"center",flex:"0 0 auto",borderTop:"1px solid grey",paddingTop:"3px",paddingBottom:"2px",zIndex:"100"},navButton:{"&:last-child":{marginRight:"5px",marginLeft:"5px"}}}}))),Vn=function(e){var t=e.currentPage,n=e.onPrevious,a=e.onNext,r=e.validateQuestionnaire,o=Un(),i=t===Ln?r:a,c=function(e){return Object(ve.a)(Object(ve.a)({},Ee),{},{idParadataObject:"".concat(e,"-button"),page:t})};return Object(T.jsxs)("footer",{role:"navigation",className:o.root,children:[t!==Dn&&Object(T.jsx)(Et,{className:o.navButton,onClick:qe(n)(c("previous")),children:ie.back}),Object(T.jsx)(Et,{className:o.navButton,onClick:qe(i)(c("next")),id:"next-button",children:t===Dn?ie.start:t===Ln?ie.send:ie.saveAndNext})]})},Bn=function(e){try{!function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.head.appendChild(t)}(e)}catch(t){!function(e){fetch(e).then((function(e){return e.text()})).then((function(e){var t=document.createElement("style");t.type="text/css",t.innerText=e,document.head.appendChild(t)}))}(e)}},Mn=n(293),zn=n(847),Fn=x.a.createContext(),Qn=function(e){var t=e.children,n=Object(g.useState)({palette:{type:"light",primary:{main:"#0f417a"},secondary:{main:"#ffc400"},background:{}}}),a=Object(k.a)(n,2),r=a[0],o=a[1],i=Object(g.useState)([]),c=Object(k.a)(i,2),s=c[0],u=c[1],l=Object(g.useMemo)((function(){return Object(Mn.a)(r)}),[r]);Object(g.useEffect)((function(){Array.isArray(s)&&s.length>0&&s.forEach((function(e){e.endsWith(".css")&&Bn(e)}))}),[s]);var d={setTheme:o,setStyleSheets:u};return Object(T.jsx)(Fn.Provider,{value:d,children:Object(T.jsx)(zn.a,{theme:l,children:t})})},Hn=function(e){var t=e.children,n=e.metadata,a=Object(g.useContext)(Fn),r=a.setTheme,o=a.setStyleSheets;return Object(g.useEffect)((function(){if(null!==n&&void 0!==n&&n.style){var e=n.style,t=e.theme,a=e.styleSheets;a&&o(a),t&&r(t)}}),[n,r,o]),t},Wn=["id","componentType","response","storeName"],Jn=function(e){var t=e.source,n=e.logoutAndClose,a=e.stromaeData,r=e.metadata,o=e.save,i=e.savingType,c=e.preferences,s=e.features,u=e.activeControls,l=e.readonly,d=e.suggesters,b=e.autoSuggesterLoading,f=Yn(),j=Object(g.useRef)(),p=Object(g.useState)(!1),O=Object(k.a)(p,2),h=O[0],m=O[1],v=Object(g.useState)(!1),x=Object(k.a)(v,2),y=x[0],E=x[1],C=a.stateData,P=a.data,_=a.personalization,N=Object(g.useState)(C),D=Object(k.a)(N,2),L=D[0],A=D[1],I=Object(g.useState)(C&&("VALIDATED"===C.state||"EXTRACTED"===C.state||"TOEXTRACT"===C.state)),R=Object(k.a)(I,2),U=R[0],V=R[1],B=ct().lunaticFetcher,M=function(e){return we(Object(ve.a)(Object(ve.a)({},e),{},{page:ne}))},z=dt.useLunatic(t,P,{savingType:i,preferences:c,features:s,activeControls:u,suggesters:d,autoSuggesterLoading:b,suggesterFetcher:B,logFunction:M}),F=z.getComponents,Q=z.waiting,H=z.pageTag,W=z.pager.page,J=z.goNextPage,Y=z.goPreviousPage,G=z.isFirstPage,K=z.isLastPage,X=z.compileControls,Z=z.getData,$=F(),ee=Object(g.useState)((function(){return U?An:null!==C&&void 0!==C&&C.currentPage?W:Dn})),te=Object(k.a)(ee,2),ne=te[0],ae=te[1],re=Object(g.useCallback)((function(e){var t={state:null!==e&&void 0!==e?e:"INIT",date:(new Date).getTime(),currentPage:ne};return A(t),t}),[ne]),oe=function(){var e=Object(q.a)(Object(w.a)().mark((function e(){var t,a;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(U){e.next=5;break}return t=re(),a={stateData:t,data:Z()},e.next=5,o(a);case 5:n();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=Object(g.useState)({}),ce=Object(k.a)(ie,2),se=ce[0],ue=ce[1],le=Object(g.useState)(null),de=Object(k.a)(le,2),be=de[0],fe=de[1],je=Object(g.useCallback)((function(){return fe(void 0)}),[]),pe=Object(g.useCallback)((function(e,t){if(e)t();else{var n=X(),a=n.currentErrors,r=n.isCritical;ue(Object(ve.a)(Object(ve.a)({},se),{},Object(ut.a)({},H,a||{}))),a&&Object.keys(a).length>0?fe({currentErrors:a,isCritical:r}):t()}}),[X,se,H]),Oe=Object(g.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(je(),ne===Dn)ae(W);else{var n={stateData:re(),data:Z()};K?(o(n),pe(t,(function(){return ae(Ln)}))):(function(e){return e.some((function(e){return"Sequence"===e.componentType}))}($)&&o(n),pe(t,J))}j&&j.current&&(j.current.tabIndex=-1,j.current.focus(),j.current.blur(),window.scrollTo({top:0}),j.current.removeAttribute("tabindex"))}),[je,$,ne,Z,J,pe,K,W,o,re]);Object(g.useEffect)((function(){In(ne)&&ae(W)}),[ne,W]);return Object(T.jsxs)(Hn,{metadata:r,children:[Object(T.jsx)(Nn,{title:null===t||void 0===t?void 0:t.label.value,metadata:r,currentPage:ne,logoutAndClose:oe}),Object(T.jsx)(pn,{title:null===t||void 0===t?void 0:t.label.value,metadata:r}),Object(T.jsxs)(ft.a,{maxWidth:"md",component:"main",role:"main",id:"main",ref:j,className:f.root,children:[ne===Dn&&Object(T.jsx)(Rt,{metadata:r,personalization:_}),In(ne)&&Object(T.jsx)(bt.a,{className:"lunatic lunatic-component ".concat(f.component),children:$.map((function(e){var t=e.id,n=e.componentType,a=e.response,r=(e.storeName,Object(lt.a)(e,Wn)),o=dt[n];return Object(T.jsx)("div",{className:"lunatic-component outerContainer-".concat(n),children:Object(T.jsx)(o,Object(ve.a)(Object(ve.a)({id:t,response:a,savingType:i,preferences:c,readOnly:l,disabled:l,labelPosition:"TOP",logFunction:M,filterDescription:!1,errors:se[H]},r),e))},"component-".concat(t))}))},"component"),ne===Ln&&Object(T.jsx)(Jt,{metadata:r,setValidationConfirmation:E,currentPage:ne}),ne===An&&Object(T.jsx)(Ft,{logoutAndClose:oe,metadata:r,stateData:L,currentPage:ne,personalization:_})]}),!U&&Object(T.jsx)(Vn,{onNext:Oe,onPrevious:function(){ne===Ln?ae(W):G?ae(Dn):Y()},currentPage:ne,validateQuestionnaire:function(){return E(!0)}}),be&&Object(T.jsx)(on,{currentPage:ne,errors:be,goNext:Oe,onClose:je}),Object(T.jsx)(un,{open:!h&&!U&&!(null===C||void 0===C||!C.currentPage),setOpen:function(e){return m(!e)},goToFirstPage:function(){ae(Dn)}}),Object(T.jsx)(cn,{open:y,setOpen:E,metadata:r,validateQuestionnaire:function(){V(!0);var e={stateData:re("VALIDATED"),data:Z()};o(e),ae(An)},currentPage:ne}),Q&&Object(T.jsx)(S,{})]})},Yn=Object(C.a)((function(e){return{root:{flex:"1 1 auto",backgroundColor:"whitesmoke",padding:"0",paddingTop:"1em",paddingBottom:"3em",marginBottom:"30px"},component:{padding:"10px",overflow:"visible","& *":{fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif'}}}})),Gn=Object(C.a)((function(e){return{root:{display:"flex",minHeight:"100%",flexDirection:"column"}}})),Kn=function(){var e=Object(g.useContext)(ha).apiUrl,t=Gn(),n=Object(g.useState)(!1),a=Object(k.a)(n,2),r=a[0],o=a[1],i=Object(Ve.i)(),c=i.readonly,s=i.idQ,u=i.idSU,l=ke.createEventLogger({idQuestionnaire:s,idSurveyUnit:u,idOrchestrator:c===B?"orchestrator-readonly":"orchestrator-collect"}),d=function(e,t){var n=Object(g.useState)(null),a=Object(k.a)(n,2),r=a[0],o=a[1],i=Object(g.useState)(null),c=Object(k.a)(i,2),s=c[0],u=c[1],l=Object(g.useState)(null),d=Object(k.a)(l,2),b=d[0],f=d[1],j=Object(g.useState)(null),p=Object(k.a)(j,2),O=p[0],h=p[1],m=Object(g.useState)(!0),v=Object(k.a)(m,2),x=v[0],y=v[1],E=Object(g.useState)(null),C=Object(k.a)(E,2),T=C[0],P=C[1],S=st(e,t),_=S.getSuData,N=S.getRequiredNomenclatures,D=S.getQuestionnaire,L=S.getMetadata;return Object(g.useEffect)((function(){if(t&&e){P(null),h(null);var n=function(){var e=Object(q.a)(Object(w.a)().mark((function e(){var t,n,a,r;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D();case 2:return t=e.sent,e.next=5,N();case 5:if(n=e.sent,t.error){e.next=25;break}return o(t.data.value),h(n.data),e.next=11,L();case 11:if((a=e.sent).error){e.next=21;break}return u(a.data),e.next=16,_();case 16:(r=e.sent).error?P(it(r,"d")):(f(r.data),y(!1)),y(!1),e.next=22;break;case 21:P(it(a,"m"));case 22:y(!1),e.next=26;break;case 25:P(it(t,"q"));case 26:y(!1);case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n()}}),[e,t]),{loading:x,errorMessage:T,suData:b,questionnaire:r,metadata:s,nomenclatures:O}}(u,s),b=d.suData,f=d.questionnaire,j=d.nomenclatures,p=d.metadata,O=d.loading,h=d.errorMessage,m=st(u,s),v=m.putData,x=m.putStateData,y=m.postParadata,E=Object(g.useContext)(Ae),C=E.logout,P=E.oidcUser,_=E.isUserLoggedIn,N=Object(g.useState)(null),D=Object(k.a)(N,2),L=D[0],A=D[1],I=Object(g.useState)(null),R=Object(k.a)(I,2),U=R[0],V=R[1],M=function(){var e=Object(q.a)(Object(w.a)().mark((function e(t){var n,a,r,o,i,s,u,d,b;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=17;break}return n=t.data,a=t.stateData,e.next=4,v(n);case 4:return r=e.sent,o=r.error,e.next=8,x(a);case 8:return i=e.sent,s=i.error,u=l.getEventsToSend(),e.next=13,y(u);case 13:d=e.sent,b=d.error,(o||s||b)&&b&&V("Error during sending"),l.clear();case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.useEffect)((function(){_&&f&&(l.addMetadata({idSession:null===P||void 0===P?void 0:P.sub}),l.log(Te))}),[_,l,f]),Object(g.useEffect)((function(){if(!O&&f&&j){var t=f.label.value;window.document.title=t,o(f);var n=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Array.isArray(t)?t.reduce((function(t,n){return Object(ve.a)(Object(ve.a)({},t),{},Object(ut.a)({},n,function(e){return function(t){return{url:"".concat(e,"/api/nomenclature/").concat(t)}}}(e)(n)))}),{}):{}}}(e)(j);A(n),l.log(Ce)}}),[f,O,j,e,l]),Object(T.jsxs)(Be.a,{className:t.root,children:[O&&Object(T.jsx)(S,{}),!O&&h&&Object(T.jsx)(Me.a,{children:h}),!O&&p&&b&&f&&L&&r&&Object(T.jsx)(Jn,{stromaeData:b,source:r,metadata:p,logoutAndClose:function(){C("portail")},autoSuggesterLoading:!0,suggesters:L,save:M,savingType:"COLLECTED",preferences:["COLLECTED"],features:["VTL","MD"],pagination:!0,activeControls:!0,readonly:c}),U&&Object(T.jsx)("h2",{children:"Error lors de l'envoie"})]})},Xn=n(857),Zn=n(852),$n=n(862),ea=Object(C.a)((function(e){return{heading:{fontSize:e.typography.pxToRem(15),flexBasis:"4em",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},accordionDetails:{display:"block"}}})),ta=function(){var e=ea();return Object(T.jsxs)(jt.a,{children:[Object(T.jsxs)(Ot.a,{expandIcon:Object(T.jsx)(xt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:[Object(T.jsx)(Nt,{className:e.heading,children:ce.accordionHelperTitle}),Object(T.jsx)(Nt,{className:e.secondaryHeading,children:ce.accordionHelperSubtitle})]}),Object(T.jsx)(pt.a,{className:e.accordionDetails,children:Object(T.jsx)(Nt,{children:ce.accordionHelperBody})})]})},na=n(849),aa=n(855),ra=n(860),oa=Object(C.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}})),ia=function(e){var t=e.selected,n=e.setSelected,a=e.className,r=oa();return Object(T.jsxs)(na.a,{className:"".concat(r.formControl," ").concat(a),children:[Object(T.jsx)(ra.a,{htmlFor:"native-simple",children:ce.labelExamples}),Object(T.jsxs)(aa.a,{native:!0,value:t,onChange:function(e){n(e.target.value)},inputProps:{name:"questionnaire",id:"native-simple"},children:[Object(T.jsx)("option",{value:"",children:ce.labelExamples}),F.map((function(e,t){return Object(T.jsx)("option",{value:e,children:e.toUpperCase()},e)}))]})]})},ca=Object(C.a)((function(e){return{root:{paddingBottom:e.spacing(3)},title:{textAlign:"center"},selectionParent:{display:"flex",alignItems:"baseLine"},selection:{marginLeft:e.spacing(3)},buttonParent:{marginTop:e.spacing(1),display:"flex",justifyContent:"center"},button:{paddingRight:e.spacing(5),paddingLeft:e.spacing(5)}}})),sa=function(){var e=ca(),t=Object(g.useState)(""),n=Object(k.a)(t,2),a=n[0],r=n[1],o=Object(g.useState)(""),i=Object(k.a)(o,2),c=i[0],s=i[1],u=Object(g.useState)(""),l=Object(k.a)(u,2),d=l[0],b=l[1],f=Object(g.useState)(""),j=Object(k.a)(f,2),p=j[0],O=j[1],h=Object(g.useState)(!1),m=Object(k.a)(h,2),v=m[0],x=m[1],y=Object(g.useState)(""),w=Object(k.a)(y,2),q=w[0],E=w[1];Object(g.useEffect)((function(){r(q?Q(q):q),s(q?H(q):q),b(q?W(q):q)}),[q]);var C=Object(Ve.g)();return Object(T.jsxs)(ft.a,{maxWidth:"lg",className:e.root,children:[Object(T.jsx)(Me.a,{variant:"h3",className:e.title,children:ce.visualizationTitlePage}),Object(T.jsxs)("form",{onSubmit:function(e){C.push({pathname:"/visualize",search:"?questionnaire=".concat(encodeURIComponent(a),"\n      ").concat(c?"&metadata=".concat(encodeURIComponent(c)):"").concat(d?"&data=".concat(encodeURIComponent(d)):"").concat(p?"&nomenclature=".concat(encodeURIComponent(p)):"","\n      ").concat(v?"&readonly=".concat(v):"")}),e.preventDefault()},children:[Object(T.jsx)($n.a,{id:"questionnaire-url-form",required:!0,label:ce.labelQuest,placeholder:Q(M),helperText:ce.helperTextQuest,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:a,onChange:function(e){var t=e.target.value;r(t)},variant:"outlined"}),Object(T.jsx)($n.a,{id:"metadata-url-form",label:ce.labelMetadata,placeholder:Y,helperText:ce.helperTextMetadata,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:c,onChange:function(e){var t=e.target.value;s(t)},variant:"outlined"}),Object(T.jsx)($n.a,{id:"data-url-form",label:ce.labelData,placeholder:J,helperText:ce.helperTextData,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:d,onChange:function(e){var t=e.target.value;b(t)},variant:"outlined"}),Object(T.jsx)($n.a,{id:"nomenclature-url-form",label:ce.labelNomenclature,placeholder:JSON.stringify(K),helperText:ce.helperTextNomenclature,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},value:p,onChange:function(e){var t=e.target.value;O(t)},variant:"outlined"}),Object(T.jsx)(Zn.a,{control:Object(T.jsx)(Xn.a,{checked:v,onChange:function(e){var t=e.target.checked;return x(t)},name:"readonly",color:"primary"}),label:ce.labelReadonly}),Object(T.jsxs)("div",{className:e.selectionParent,children:[Object(T.jsx)(Me.a,{children:ce.chooseExamples}),Object(T.jsx)(ia,{className:e.selection,selected:q,setSelected:E})]}),Object(T.jsx)("div",{className:e.buttonParent,children:Object(T.jsx)(Et,{type:"submit",className:e.button,children:ie.visualize})})]}),Object(T.jsx)("br",{}),Object(T.jsx)(ta,{})]})},ua=Object(C.a)((function(){return{root:{display:"flex",minHeight:"100%",flexDirection:"column",backgroundColor:"whitesmoke"}}})),la=function(){var e=ua(),t=Object(g.useState)(!1),n=Object(k.a)(t,2),a=n[0],r=n[1],o=Object(Ve.g)(),i=ke.createEventLogger({idQuestionnaire:"fake q",idSurveyUnit:"fake Su",idOrchestrator:"orchestrator-vizualisation"}),c=function(){var e=new URLSearchParams(Object(Ve.h)().search),t=e.get("questionnaire"),n=e.get("metadata"),a=e.get("data"),r="true"===e.get("readonly"),o=e.get("nomenclature");return{questionnaireUrl:t,metadataUrl:n,dataUrl:a,readonly:r,nomenclatures:JSON.parse(o)}}(),s=c.questionnaireUrl,u=c.metadataUrl,l=c.dataUrl,d=c.readonly,b=c.nomenclatures,f=function(e,t,n){var a=Object(g.useState)(null),r=Object(k.a)(a,2),o=r[0],i=r[1],c=Object(g.useState)(null),s=Object(k.a)(c,2),u=s[0],l=s[1],d=Object(g.useState)(null),b=Object(k.a)(d,2),f=b[0],j=b[1],p=Object(g.useState)(null),O=Object(k.a)(p,2),h=O[0],m=O[1],v=Object(g.useState)(!0),x=Object(k.a)(v,2),y=x[0],E=x[1],C=Object(g.useState)(null),T=Object(k.a)(C,2),P=T[0],S=T[1];return Object(g.useEffect)((function(){if(e){S(null),i(null),m(null),j(null);var a=null,r=function(){var r=Object(q.a)(Object(w.a)().mark((function r(){var o,c,s;return Object(w.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Ye(e)(a);case 2:if((o=r.sent).error){r.next=22;break}return i(o.data),m([]),r.next=8,Ye(t||Y)(a);case 8:if((c=r.sent).error){r.next=18;break}return l(c.data),r.next=13,Ye(n||J)(a);case 13:(s=r.sent).error?S(it(s,"d")):(j(s.data),E(!1)),E(!1),r.next=19;break;case 18:S(it(c,"m"));case 19:E(!1),r.next=23;break;case 22:S(it(o,"q"));case 23:E(!1);case 24:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();r()}}),[e,t,n]),{loading:y,errorMessage:P,suData:f,questionnaire:o,metadata:u,nomenclatures:h}}(s,u,l),j=f.suData,p=f.questionnaire,O=f.metadata,h=f.loading,m=f.errorMessage,v=function(){var e=Object(q.a)(Object(w.a)().mark((function e(t){var n,a,r;return Object(w.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rn(t,"data-".concat(null===t||void 0===t||null===(n=t.stateData)||void 0===n?void 0:n.date)),r=i.getEventsToSend(),Rn(r,"paradata-".concat(null===t||void 0===t||null===(a=t.stateData)||void 0===a?void 0:a.date)),o.push("/"),i.clear();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.useEffect)((function(){if(!h&&p){var e=p.label.value;window.document.title=e,r(p),i.log(Ce)}}),[p,h]),Object(T.jsxs)(T.Fragment,{children:[s&&Object(T.jsxs)(Be.a,{className:e.root,children:[h&&Object(T.jsx)(S,{}),!h&&m&&Object(T.jsx)(Me.a,{children:m}),!h&&O&&j&&p&&a&&Object(T.jsx)(Jn,{stromaeData:j,source:a,metadata:O,save:function(e){},autoSuggesterLoading:!0,suggesters:function(e){return e?Object.entries(e).reduce((function(e,t){var n=Object(k.a)(t,2),a=n[0],r=n[1];return Object(ve.a)(Object(ve.a)({},e),{},Object(ut.a)({},a,{url:r}))}),{}):{}}(b),savingType:"COLLECTED",preferences:["COLLECTED"],features:["VTL","MD"],logoutAndClose:v,pagination:!0,activeControls:!0,readonly:d})]}),!s&&Object(T.jsx)(sa,{})]})},da=(n(769),function(){return Object(T.jsxs)("div",{className:"notFound",children:[Object(T.jsxs)("div",{className:"face",children:[Object(T.jsxs)("div",{className:"band",children:[Object(T.jsx)("div",{className:"red"}),Object(T.jsx)("div",{className:"white"}),Object(T.jsx)("div",{className:"blue"})]}),Object(T.jsx)("div",{className:"eyes"}),Object(T.jsx)("div",{className:"dimples"}),Object(T.jsx)("div",{className:"mouth"})]}),Object(T.jsx)(Me.a,{component:"div",children:Object(T.jsx)(Be.a,{textAlign:"center",fontSize:"h3.fontSize",m:1,children:"Oups! Page non trouv\xe9e !"})})]})}),ba=function(){return Object(T.jsxs)(Ve.d,{children:[Object(T.jsx)(Ve.b,{path:"/:".concat(B,"?/questionnaire/:idQ/unite-enquetee/:idSU"),component:Ue(Kn)}),Object(T.jsx)(Ve.b,{path:"/visualize",component:la}),Object(T.jsx)(Ve.b,{path:"/404",component:da}),Object(T.jsx)(Ve.a,{to:"/404"})]})},fa=Object(C.a)((function(e){return{root:{position:"relative",top:"3em",padding:"1em",textAlign:"center"},error:{backgroundColor:"white",textAlign:"left"},resetButton:{marginTop:"1em"},title:{color:"white",margin:"0.5em"},alignBlock:{textAlign:"left",display:"block"}}})),ja=function(e){var t=e.error,n=e.resetErrorBoundary,a=fa();return Object(T.jsx)(ft.a,{maxWidth:"md",children:Object(T.jsxs)(Be.a,{className:a.root,bgcolor:"error.main",role:"alert",children:[Object(T.jsx)(Me.a,{variant:"h4",className:a.title,children:oe.getUnknownError}),Object(T.jsxs)(jt.a,{children:[Object(T.jsx)(Ot.a,{expandIcon:Object(T.jsx)(xt.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(T.jsx)(Me.a,{className:a.heading,children:oe.detailsError})}),Object(T.jsxs)(pt.a,{className:a.alignBlock,children:[Object(T.jsx)("pre",{children:t.message}),Object(T.jsx)("pre",{children:t.stack})]})]}),Object(T.jsxs)(jt.a,{children:[Object(T.jsx)(Ot.a,{expandIcon:Object(T.jsx)(xt.a,{}),"aria-controls":"panel2a-content",id:"panel2a-header",children:Object(T.jsx)(Me.a,{className:a.heading,children:se.appInfo})}),Object(T.jsxs)(pt.a,{className:a.alignBlock,children:[Object(T.jsxs)(Me.a,{children:["".concat(se.appVersion," : "),Object(T.jsx)("b",{children:Tn})]}),Object(T.jsxs)(Me.a,{children:["".concat(se.lunaticVersion," : "),Object(T.jsx)("b",{children:Pn})]})]})]}),Object(T.jsx)(Et,{className:a.resetButton,onClick:n,children:ie.back})]})})},pa=n(292),Oa=n(77),ha=(n(770),x.a.createContext()),ma=function(){var e=Object(g.useState)(null),t=Object(k.a)(e,2),n=t[0],a=t[1];return Object(g.useEffect)((function(){n||me("".concat(pe,"/").concat(Oe)).then((function(e){a(e)}))}),[n]),Object(T.jsx)(Qn,{children:Object(T.jsx)(pa.ErrorBoundary,{FallbackComponent:ja,onReset:function(){return a(null)},resetKeys:[n],children:n&&Object(T.jsx)(ha.Provider,{value:n,children:Object(T.jsx)(Re,{children:Object(T.jsx)(Oa.a,{children:Object(T.jsx)(ba,{})})})})})})},va=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,863)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))},ga=document.getElementById("root");Object(y.createRoot)(ga).render(Object(T.jsx)(ma,{})),va()}},[[773,1,2]]]);
//# sourceMappingURL=main.b7551cd7.chunk.js.map