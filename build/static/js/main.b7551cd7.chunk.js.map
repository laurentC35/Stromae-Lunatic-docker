{"version":3,"sources":["utils/constants/index.js","img/Logo-Insee.jpg","components/shared/loader/simple.js","i18n/build-dictionary.js","i18n/dictionary.js","i18n/errorMessage.js","i18n/buttonMessage.js","i18n/burgerMenu.js","utils/constants/paradata.js","i18n/visualizeMessage.js","i18n/genericPages/welcome.js","i18n/genericPages/validation.js","i18n/genericPages/end.js","i18n/confirmationMessage.js","i18n/index.js","utils/configuration/env.js","utils/configuration/get-configuration.js","utils/events/logger.js","utils/events/paradata.js","utils/events/listenActivity.js","utils/keycloak/keycloakOidcClient.js","components/auth/provider/component.js","components/auth/hoc/hoc.js","utils/api/fetcher.js","utils/api/index.js","utils/hooks/useConstCallback.js","utils/hooks/api.js","components/designSystem/Button.js","components/designSystem/Markdown.js","utils/personalization/index.js","components/genericPages/welcome.js","components/genericPages/end.js","components/genericPages/validation.js","components/modals/errors/errorModal.js","components/modals/sendingConfirmation/sendingConfirmation.js","components/modals/welcomeBack/welcomeBack.js","img/insee.png","components/navigation/appBar/appBar.js","components/modals/assistance/assistance.js","utils/app/index.js","components/designSystem/AppVersion.js","components/navigation/burgerMenu/burgerMenu.js","utils/pagination/index.js","utils/questionnaire/dataDownload.js","components/orchestrator/navigation/navigation.js","utils/style/index.js","components/style/style.js","components/orchestrator/styleWrapper/index.js","components/orchestrator/collector/index.js","utils/questionnaire/stateData.js","utils/questionnaire/index.js","components/orchestrator/manager/orchestratorManager.js","utils/questionnaire/nomenclatures.js","components/orchestrator/visualizer/questionnaireForm/helper.js","components/orchestrator/visualizer/questionnaireForm/examples.js","components/orchestrator/visualizer/questionnaireForm/questionnaireForm.js","components/orchestrator/visualizer/visualizer.js","utils/hooks/useVisuQuery.js","components/pages/404/component.js","components/router/router.js","components/shared/error/ErrorFallback.js","App.js","reportWebVitals.js","index.js"],"names":["q","Simple","useStyles","makeStyles","theme","backdrop","zIndex","drawer","_jsx","Backdrop","open","className","children","CircularProgress","createDictionary","lang","dico","Object","keys","reduce","_","k","dictionary","survey","fr","en","cookieTitle","cookieConsent","assistanceTitle","assistanceBody","welcomeBackTitle","welcomeBackBody","appInfo","appVersion","lunaticVersion","errorMessage","getError401","getError403","type","getError404","getErrorServeur","getUnknownError","detailsError","noAuthFile","errorModalTitle","buttonMessage","start","saveAndNext","MODAL_IGNORE","MODAL_CORRECT","back","send","download","logout","logoutAndClose","yes","no","understand","goBackToCurrentPage","goToFirstPage","visualize","burgerMessage","help","exit","menu","ORCHESTRATOR_CATEGORY","OIDC","NONE","HOUSEHOLD","READ_ONLY","SIMPSONS","DEFAULT","QUESTIONNAIRE_EXAMPLES","QUESTIONNAIRE_EXAMPLE_URL","concat","window","location","origin","METADATA_EXAMPLE_URL","DATA_EXAMPLE_URL","DEFAULT_DATA_URL","DEFAULT_METADATA_URL","FULL_METADATA_URL","DEFAULT_NOMENCLATURE_URL","FULL_OVERLOAD_EXAMPLE_URL","encodeURIComponent","visualizeMessage","visualizationTitlePage","labelQuest","helperTextQuest","helperTextNomenclature","labelMetadata","helperTextMetadata","labelData","labelReadonly","helperTextData","accordionHelperTitle","accordionHelperSubtitle","accordionHelperBody","_buttonMessage$visual","_buttonMessage$visual2","chooseExamples","labelExamples","labelNone","labelNomenclature","welcomeMessage","household","title","body","value","bindingDependencies","legalTermsTitle","legalTermsDetails","business","default","validationHousehold","_buttonMessage$send","_buttonMessage$back","_buttonMessage$send2","_buttonMessage$back2","validationDefault","_buttonMessage$send3","_buttonMessage$back3","_buttonMessage$send4","_buttonMessage$back4","validationMessage","_buttonMessage$send5","_buttonMessage$back5","_buttonMessage$send6","end","_buttonMessage$back6","endMessage","pdfMessage","youCanQuit","confirmMessage","errorDictionary","buttonDictionary","visualizeDictionary","defaultDictionary","burgerDictionary","welcomePageDictionary","inseeContext","getWelcomePageMessage","validationPageDictionary","getValidationPageMessage","endPageDictionary","getEndPageMessage","confirmationDictionary","getConfirmationMessage","getEnvVar","key","_window","_window$_env_","_env_","process","basePath","nameConfigFile","_getEnvVar","nameOidcFile","_getEnvVar2","getFile","url","fetch","then","r","json","Logger","metadata","_classCallCheck","this","_metadata","_events","_createClass","_this$_metadata","idSU","idSurveyUnit","events","_objectSpread","event","push","timestamp","Date","getTime","idParadataObject","typeParadataObject","idOrchestrator","userAgent","navigator","battery","EventsManager","_instance","_createInstance","simpleLog","info","_EventsManager$getLog","getLogger","log","paradataHandler","f","e","SIMPLE_CLICK_EVENT","INIT_ORCHESTRATOR_EVENT","INIT_SESSION_EVENT","listenActivity","activityEvents","Promise","resolve","listener","forEach","eventName","addEventListener","once","getCurrentSurvey","path","temp","split","length","idQ","slice","indexOf","substr","toLowerCase","createKeycloakOidcClient","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee4","_ref","realm","clientId","identityProvider","urlPortail","evtUserActivity","keycloakInstance","isAuthenticated","login","oidcClient","wrap","_context4","prev","next","Keycloak","init","onLoad","silentCheckSsoRedirectUri","checkLoginIframe","catch","error","sent","_ref3","_callee","_context","redirectUri","href","idpHint","pathname","startsWith","abrupt","stop","apply","arguments","isUserLoggedIn","t0","token","loadUserInfo","t1","t2","_logout","_callee2","redirectTo","_context2","_x2","accessToken","oidcUser","callee","msBeforeExpiration","tokenParsed","exp","now","setTimeout","_callee3","_context3","console","minValiditySecond","updateToken","_x","AuthContext","React","createContext","dummyOidcClient","AuthProvider","_useContext","useContext","AppContext","authType","authenticationType","portail","_useState","useState","Error","_useState2","_slicedToArray","setOidcClient","useEffect","oidcConf","LoaderSimple","Provider","secure","WrappedComponent","props","otherProps","ReturnedComponent","readJsonResponse","response","fetcher","method","headers","ok","status","statusText","data","Accept","Authorization","JSON","stringify","message","_x3","_x4","_x5","getFilenameFromHeader","header","res","exec","fetcherFile","blob","file","a","URL","createObjectURL","document","createElement","get","click","remove","_x6","_x7","getRequest","putRequest","API","apiUrl","id","postRequest","useConstCallback","callback","callbackRef","useRef","current","getErrorMessage","undefined","useLunaticFetcher","lunaticFetcher","options","_ref4","otherHeader","_x8","_x9","useAPI","surveyUnitID","questionnaireID","getRequiredNomenclatures","getNomenclature","getQuestionnaire","getMetadata","getSuData","getPDF","putSuData","putData","putStateData","postParadata","root","backgroundColor","palette","secondary","main","color","primary","textTransform","Button","disabled","onClick","startIcon","endIcon","other","_objectWithoutProperties","_excluded","classes","MuiButton","marginTop","spacing","renderers","heading","variant","level","Typography","gutterBottom","paragraph","link","MuiLink","target","listItem","component","MarkdownTypo","ReactMarkdown","skipHtml","buildBuidings","variables","Array","isArray","acc","name","dateFnsLocal","card","marginLeft","marginRight","accordionDetails","display","accordion","fontWeight","WelcomePage","_body$value","_legalTermsDetails$va","_ref$metadata","genericPages","personalization","welcome","getBodyWithVariables","myBody","interpret","buildDefaultBindings","getFinalLabel","label","_jsxs","Card","CardHeader","Divider","CardContent","map","line","i","_body$value2","Fragment","Accordion","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","flexDirection","margin","actions","justifyContent","EndPage","date","stateData","currentPage","utilInfo","page","finalDate","useLocation","_useParams","useParams","_yield$getPDF","validatedDate","formatDistance","addSuffix","locale","format","includes","_Fragment","GetApp","CardActions","InseeButton","ValidationPage","setValidationConfirmation","validation","Send","ListItem","ComponentErrors","content","errors","index","_createElement","List","ErrorsModal","onClose","goNext","_ref3$errors","orignalErrors","useCallback","currentErrors","isCritical","ignoreErrors","correctErrors","entries","_toConsumableArray","Dialog","disableEscapeKeyDown","DialogTitle","DialogContent","DialogContentText","DialogActions","SendingConfirmation","setOpen","validateQuestionnaire","_confirmationDictiona","close","WelcomeBack","goToCurrentPage","flexGrow","AppBarMenu","mainLogo","head","querySelectorAll","AppBar","position","Toolbar","src","logo","alt","Skeleton","Assistance","disagree","stromaeVersion","version","dependencies","replace","textAlign","padding","AppVersion","BurgerMenu","isOpen","setIsOpen","_useState3","_useState4","assistance","setAssistance","closeMenu","removeEventListener","IconButton","Help","ExitToApp","edge","Close","MenuIcon","AssistanceConfirm","WELCOME_PAGE","VALIDATION_PAGE","END_PAGE","isLunaticPage","downloadDataAsJson","fileName","dataStr","downloadAnchorNode","setAttribute","appendChild","bottom","left","top","width","alignItems","flex","borderTop","paddingTop","paddingBottom","navButton","ButtonsNavigation","onPrevious","onNext","nextFunction","role","addStyleSheet","styleSheet","rel","loadStyleSheetWithLink","text","innerText","loadStyleSheetAsText","StyleContext","StyleProvider","background","setTheme","styleSheets","setStyleSheets","finalTheme","useMemo","createTheme","styleSheetUrl","endsWith","context","ThemeProvider","StyleWrapper","style","_metadata$style","Orchestrator","source","quit","stromaeData","save","savingType","preferences","features","activeControls","readonly","suggesters","autoSuggesterLoading","topRef","setInit","validationConfirmation","_useState5","_useState6","currentStateData","setCurrentStateData","_useState7","state","_useState8","validated","setValidated","suggesterFetcher","logFunction","_lunatic$useLunatic","lunatic","getComponents","waiting","pageTag","pager","goNextPage","goPreviousPage","isFirstPage","isLastPage","compileControls","getData","components","_useState9","_useState10","setCurrentPage","updateStateData","newState","newStateData","logoutAndCloseUpdateState","dataToSave","_useState11","_useState12","errorActive","setErrorActive","_useState13","_useState14","errorsForModal","setErrorsForModal","closeErrorsModal","handleGoNext","skipValidation","_compileControls","_defineProperty","some","componentType","isNewSequence","tabIndex","focus","blur","scrollTo","removeAttribute","Container","maxWidth","ref","storeName","Component","readOnly","labelPosition","filterDescription","o","marginBottom","overflow","fontFamily","minHeight","OrchestratorManager","setSource","LOGGER","createEventLogger","idQuestionnaire","_useAPIRemoteData","questionnaire","setQuestionnaire","setMetadata","suData","setSuData","nomenclatures","setNomenclatures","loading","setLoading","setErrorMessage","_useAPI","load","qR","nR","mR","dR","useAPIRemoteData","_useContext2","setSuggesters","errorSending","setErrorSending","sendData","_yield$putData","dataError","_yield$putStateData","stateDataError","paradatas","_yield$postParadata","paradataPostError","getEventsToSend","clear","addMetadata","idSession","sub","questionnaireTitle","suggestersBuilt","nomenclature","buildSuggesterUrl","buildSuggesterFromNomenclatures","Box","pagination","fontSize","typography","pxToRem","flexBasis","flexShrink","secondaryHeading","Helper","formControl","minWidth","selectEmpty","Examples","selected","setSelected","FormControl","InputLabel","htmlFor","Select","native","onChange","inputProps","v","toUpperCase","selectionParent","selection","buttonParent","button","paddingRight","paddingLeft","QuestionnaireForm","setData","setNomenclature","setReadonly","history","useHistory","onSubmit","search","preventDefault","TextField","required","placeholder","helperText","fullWidth","InputLabelProps","shrink","FormControlLabel","control","Checkbox","checked","_ref5","Visualizer","_useVisuQuery","searchUrl","URLSearchParams","questionnaireUrl","metadataUrl","dataUrl","stringNomenclature","parse","useVisuQuery","_useRemoteData","_useState15","_useState16","_useState17","_useState18","_useState19","_useState20","_useState21","_useState22","_useState23","_useState24","fakeToken","useRemoteData","surveyUnit","_surveyUnit$stateData","_surveyUnit$stateData2","newObj","val","buildSuggester","NotFound","m","Router","Switch","Route","Redirect","to","resetButton","alignBlock","ErrorFallback","resetErrorBoundary","bgcolor","stack","App","configuration","setConfiguration","conf","ErrorBoundary","FallbackComponent","onReset","resetKeys","BrowserRouter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","container","getElementById","createRoot","render"],"mappings":"o+BAiCyCA,E,sGCjC1B,I,wBCmBAC,EAdA,WACb,IAAMC,EAAYC,aAAW,SAACC,GAAK,MAAM,CACvCC,SAAU,CACRC,OAAQF,EAAME,OAAOC,OAAS,GAEjC,IAED,OACEC,cAACC,IAAQ,CAACC,MAAI,EAACC,UAAWT,IAAYG,SAASO,SAC7CJ,cAACK,IAAgB,KAGvB,ECXaC,EAAmB,SAACC,GAAI,OAAK,SAACC,GAAI,OAC7CC,OAAOC,KAAKF,GAAMG,QAAO,SAACC,EAAGC,GAE3B,OADAD,EAAEC,GAAKL,EAAKK,GAAGN,GACRK,CACT,GAAG,CAAC,EAAG,CAAD,ECsBOE,EAhCI,CACjBC,OAAQ,CACNC,GAAI,gBACJC,GAAI,UAGNC,YAAa,CAAEF,GAAI,0BAA2BC,GAAI,gBAClDE,cAAe,CACbH,GAAG,uKACHC,GAAG,yJAELG,gBAAiB,CAAEJ,GAAG,yBAA2BC,GAAG,mBACpDI,eAAgB,CACdL,GAAG,gFACHC,GAAG,mDAELK,iBAAkB,CAAEN,GAAG,YAAcC,GAAG,WACxCM,gBAAiB,CACfP,GAAG,6JACHC,GAAG,8HAELO,QAAS,CACPR,GAAG,iCACHC,GAAG,4BAELQ,WAAY,CAAET,GAAG,2BAA6BC,GAAG,uBACjDS,eAAgB,CACdV,GAAG,+CACHC,GAAG,+CCkCQU,EA9DM,CACnBC,YAAa,CACXZ,GAAI,iDACJC,GAAI,yBAENY,YAAa,CACXb,GAAI,SAACc,GACH,MAAa,MAATA,EACI,mEACK,MAATA,EACI,yFACK,MAATA,EACI,iFACD,EACT,EACAb,GAAI,SAACa,GACH,MAAa,MAATA,EACI,sDACK,MAATA,EACI,sEACK,MAATA,EACI,0DACD,EACT,GAEFC,YAAa,CACXf,GAAI,SAACc,GACH,MAAa,MAATA,EAAoB,iCACX,MAATA,EAAoB,uDACX,MAATA,EAAoB,kDACjB,EACT,EACAb,GAAI,SAACa,GACH,MAAa,MAATA,EAAoB,oCACX,MAATA,EACI,oDACK,MAATA,EAAoB,wCACjB,EACT,GAEFE,gBAAiB,CACfhB,GAAG,uDACHC,GAAG,kDAELgB,gBAAiB,CACfjB,GAAG,iGACHC,GAAG,yEAELiB,aAAc,CACZlB,GAAG,yBACHC,GAAG,iBAELkB,WAAY,CACVnB,GAAI,+GACJC,GAAI,oFAENmB,gBAAiB,CACfpB,GAAI,4CACJC,GAAI,qCC5BOoB,EA9BO,CACpBC,MAAO,CAAEtB,GAAG,YAAcC,GAAG,SAC7BsB,YAAa,CACXvB,GAAG,YACHC,GAAG,YAELuB,aAAc,CAAExB,GAAI,aAAcC,GAAI,UACtCwB,cAAe,CAAEzB,GAAI,yBAAuBC,GAAI,WAChDyB,KAAM,CACJ1B,GAAG,SACHC,GAAG,WAEL0B,KAAM,CAAE3B,GAAI,UAAWC,GAAI,QAC3B2B,SAAU,CAAE5B,GAAI,oBAAeC,GAAI,YACnC4B,OAAQ,CAAE7B,GAAI,iBAAeC,GAAI,UACjC6B,eAAgB,CAAE9B,GAAI,+BAA6BC,GAAI,mBACvD8B,IAAK,CAAE/B,GAAI,MAAOC,GAAI,OACtB+B,GAAI,CAAEhC,GAAI,MAAOC,GAAI,MACrBgC,WAAY,CAAEjC,GAAI,eAAgBC,GAAI,gBACtCiC,oBAAqB,CACnBlC,GAAG,iDACHC,GAAG,oCAELkC,cAAe,CACbnC,GAAG,iCACHC,GAAG,wBAELmC,UAAW,CAAEpC,GAAG,aAAeC,GAAG,cCrBrBoC,EANO,CACpBC,KAAM,CAAEtC,GAAG,yBAA2BC,GAAG,mBACzCsC,KAAM,CAAEvC,GAAG,iBAAgBC,GAAG,QAC9BuC,KAAM,CAAExC,GAAG,OAASC,GAAG,SCFZwC,EAAwB,eRDxBC,EAAO,OACPC,EAAO,OAGPC,EAAY,YAKZC,EAAY,WAOZC,EAAW,WAEXC,EAAU,UAIVC,EAAyB,CAACF,EALpB,MAEK,WACD,WAMVG,EAA4B,SAACzE,GAAC,SAAA0E,OACtCC,OAAOC,SAASC,OAAM,0BAAAH,OAAyB1E,EAAC,eACxC8E,EAAuB,SAAC9E,GAAC,SAAA0E,OACjCC,OAAOC,SAASC,OAAM,0BAAAH,OAAyB1E,EAAC,mBACxC+E,EAAmB,SAAC/E,GAAC,SAAA0E,OAC7BC,OAAOC,SAASC,OAAM,0BAAAH,OAAyB1E,EAAC,eAKxCgF,EAAmBD,EAAiBR,GACpCU,EAAuBH,EAAqBP,GAC5CW,EAAiB,GAAAR,OAAMC,OAAOC,SAASC,OAAM,8BAC7CM,GAN4BnF,EAMwBuE,EANjB,CAC9C,kBAAkB,GAADG,OAAKC,OAAOC,SAASC,OAAM,0BAAAH,OAAyB1E,EAAC,yCAO3DoF,EAAyB,GAAAV,OACpCC,OAAOC,SAASC,OAAM,6BAAAH,OACIW,mBAC1BZ,EAA0BH,IAC3B,cAAAI,OAAaW,mBAAmBH,IS2BlBI,EAhEU,CACvBC,uBAAwB,CACtB/D,GAAI,yCACJC,GAAI,8BAEN+D,WAAY,CACVhE,GAAI,gBACJC,GAAI,iBAENgE,gBAAiB,CACfjE,GAAG,2DACHC,GAAG,8DAELiE,uBAAwB,CACtBlE,GAAI,0EACJC,GAAI,4EAENkE,cAAe,CACbnE,GAAI,iBACJC,GAAI,YAENmE,mBAAoB,CAClBpE,GAAG,qDACHC,GAAG,gDAELoE,UAAW,CACTrE,GAAI,aACJC,GAAI,QAENqE,cAAe,CACbtE,GAAI,gBACJC,GAAI,YAENsE,eAAgB,CACdvE,GAAG,gDACHC,GAAG,sCAELuE,qBAAsB,CACpBxE,GAAI,OACJC,GAAI,QAENwE,wBAAyB,CACvBzE,GAAI,wCACJC,GAAI,sCAENyE,oBAAqB,CACnB1E,GAAG,kPAADkD,OAAoOO,EAAoB,4CAAAP,OAAkCQ,EAAiB,wBAAAR,OAAoBM,EAAgB,wKAAAN,OAA8K,OAAb7B,QAAa,IAAbA,GAAwB,QAAXsD,EAAbtD,EAAee,iBAAS,IAAAuC,OAAX,EAAbA,EAA0B3E,GAAE,4HAAAkD,OAAkHU,EAAyB,QACzpB3D,GAAG,6LAADiD,OAA+LO,EAAoB,2BAAAP,OAA0BQ,EAAiB,kBAAAR,OAAiBM,EAAgB,8HAAAN,OAA0I,OAAb7B,QAAa,IAAbA,GAAwB,QAAXuD,EAAbvD,EAAee,iBAAS,IAAAwC,OAAX,EAAbA,EAA0B3E,GAAE,yGAAAiD,OAAwGU,EAAyB,SAE7jBiB,eAAgB,CACd7E,GAAI,0BACJC,GAAI,wBAEN6E,cAAe,CACb9E,GAAI,WACJC,GAAI,YAEN8E,UAAW,CAAE/E,GAAI,QAASC,GAAI,QAC9B+E,kBAAmB,CACjBhF,GAAI,iCACJC,GAAI,6BCwEFgF,EAAiB,CACrBC,UA7IuB,CACvBC,MAAO,CAAEnF,GAAG,UAAYC,GAAG,WAC3BmF,KAAM,CACJpF,GAAI,CACFqF,MAAO,CAAC,2FAAD,2JAOPC,oBAAqB,CACnB,qBACA,sBACA,cACA,cACA,gBAGJrF,GAAI,CACFoF,MAAO,CAAC,wEAAD,qJAOPC,oBAAqB,CACnB,qBACA,sBACA,cACA,cACA,iBAINC,gBAAiB,CACfvF,GAAI,mDACJC,GAAI,wCAENuF,kBAAmB,CACjBxF,GAAI,CACFqF,MAAO,CAAC,4yCAAD,ugCAoBPC,oBAAqB,CACnB,2BACA,kBACA,iBACA,yBACA,uBACA,gBACA,iBACA,qBACA,uBACA,WACA,mBACA,qBACA,yBAGJrF,GAAI,CACFoF,MAAO,CAAC,2qCAAD,o3BAoBPC,oBAAqB,CACnB,2BACA,yBACA,kBACA,iBACA,uBACA,gBACA,iBACA,qBACA,uBACA,WACA,mBACA,qBACA,2BA8BNG,SAbsB,CACtBN,MAAO,CAAEnF,GAAI,WAASC,GAAI,SAC1BmF,KAAM,CACJpF,GAAI,CACFqF,MAAO,CAAC,oCACRC,oBAAqB,IAEvBrF,GAAI,CAAEoF,MAAO,CAAC,6BAA8BC,oBAAqB,MAOnEI,QAzBqB,CACrBP,MAAO,CAAEnF,GAAI,WAASC,GAAI,SAC1BmF,KAAM,CACJpF,GAAI,CACFqF,MAAO,CAAC,2CACRC,oBAAqB,IAEvBrF,GAAI,CAAEoF,MAAO,CAAC,yBAA0BC,oBAAqB,OC3H3DK,GAAsB,CAC1BR,MAAO,CAAEnF,GAAG,aAAeC,GAAG,cAC9BmF,KAAM,CACJpF,GAAI,CAAC,6FAADkD,OAC+F,OAAb7B,QAAa,IAAbA,GAAmB,QAANuE,EAAbvE,EAAeM,YAAI,IAAAiE,OAAN,EAAbA,EAAqB5F,GAAE,wKAAAkD,OAC4B,OAAb7B,QAAa,IAAbA,GAAmB,QAANwE,EAAbxE,EAAeK,YAAI,IAAAmE,OAAN,EAAbA,EAAqB7F,GAAE,OAEnJC,GAAI,CAAC,4EAADiD,OACuF,OAAb7B,QAAa,IAAbA,GAAmB,QAANyE,EAAbzE,EAAeM,YAAI,IAAAmE,OAAN,EAAbA,EAAqB7F,GAAE,gJAAAiD,OACyB,OAAb7B,QAAa,IAAbA,GAAmB,QAAN0E,EAAb1E,EAAeK,YAAI,IAAAqE,OAAN,EAAbA,EAAqB9F,GAAE,gBAKtI+F,GAAoB,CACxBb,MAAO,CAAEnF,GAAG,aAAeC,GAAG,cAC9BmF,KAAM,CACJpF,GAAI,CAAC,6FAADkD,OAC+F,OAAb7B,QAAa,IAAbA,GAAmB,QAAN4E,EAAb5E,EAAeM,YAAI,IAAAsE,OAAN,EAAbA,EAAqBjG,GAAE,wKAAAkD,OAC4B,OAAb7B,QAAa,IAAbA,GAAmB,QAAN6E,EAAb7E,EAAeK,YAAI,IAAAwE,OAAN,EAAbA,EAAqBlG,GAAE,OAEnJC,GAAI,CAAC,4EAADiD,OACuF,OAAb7B,QAAa,IAAbA,GAAmB,QAAN8E,EAAb9E,EAAeM,YAAI,IAAAwE,OAAN,EAAbA,EAAqBlG,GAAE,gJAAAiD,OACyB,OAAb7B,QAAa,IAAbA,GAAmB,QAAN+E,EAAb/E,EAAeK,YAAI,IAAA0E,OAAN,EAAbA,EAAqBnG,GAAE,gBAmBtIoG,GAAoB,CACxBnB,UAAWS,GACXF,SAhByB,CACzBN,MAAO,CAAEnF,GAAG,aAAeC,GAAG,cAC9BmF,KAAM,CACJpF,GAAI,CAAC,6FAADkD,OAC+F,OAAb7B,QAAa,IAAbA,GAAmB,QAANiF,EAAbjF,EAAeM,YAAI,IAAA2E,OAAN,EAAbA,EAAqBtG,GAAE,wKAAAkD,OAC4B,OAAb7B,QAAa,IAAbA,GAAmB,QAANkF,EAAblF,EAAeK,YAAI,IAAA6E,OAAN,EAAbA,EAAqBvG,GAAE,OAEnJC,GAAI,CAAC,4EAADiD,OACuF,OAAb7B,QAAa,IAAbA,GAAmB,QAANmF,EAAbnF,EAAeM,YAAI,IAAA6E,OAAN,EAAbA,EAAqBC,IAAG,gJAAAvD,OACwB,OAAb7B,QAAa,IAAbA,GAAmB,QAANqF,EAAbrF,EAAeK,YAAI,IAAAgF,OAAN,EAAbA,EAAqBzG,GAAE,gBAQ1IyF,QAASM,ICCLW,GAAa,CACjBzB,UAjDmB,CACnBC,MAAO,CAAEnF,GAAG,MAAQC,GAAG,OACvBmF,KAAM,CACJpF,GAAI,CAAC,gFAAD,0EAIJC,GAAI,CAAC,8DAAD,8DAKN2G,WAAY,CACV5G,GAAG,uEACHC,GAAG,0DAEL4G,WAAY,CACV7G,GAAI,mDACJC,GAAI,yBAgCNwF,SAdkB,CAClBN,MAAO,CAAEnF,GAAI,MAAOC,GAAI,OACxBmF,KAAM,CACJpF,GAAI,CAAC,4BAAD,aACJC,GAAI,CAAC,0BAAD,eAEN2G,WAAY,CACV5G,GAAG,uEACHC,GAAG,2DAOLyF,QA7BiB,CACjBP,MAAO,CAAEnF,GAAI,MAAOC,GAAI,OACxBmF,KAAM,CACJpF,GAAI,CAAC,iCAAD,0EAIJC,GAAI,CACF,sBAAsB,gECAtB6G,GAAiB,CACrB5B,UA/BuB,CACvBC,MAAO,CAAEnF,GAAG,6BAA+BC,GAAG,2BAC9CmF,KAAM,CACJpF,GAAI,CAAC,+JAGLC,GAAI,CAAC,iEA0BPwF,SAZsB,CACtBN,MAAO,CAAEnF,GAAI,6BAA8BC,GAAI,2BAC/CmF,KAAM,CACJpF,GAAI,CAAC,sFAGLC,GAAI,CAAC,iEAOPyF,QAvBqB,CACrBP,MAAO,CAAEnF,GAAI,6BAA8BC,GAAI,2BAC/CmF,KAAM,CACJpF,GAAI,CAAC,uFAGLC,GAAI,CAAC,kECHI8G,GAAkBzH,EXMS,KWNTA,CAA4BqB,GAC9CqG,GAAmB1H,EXKQ,KWLRA,CAA4B+B,GAC/C4F,GAAsB3H,EXIK,KWJLA,CACjCwE,GAEWoD,GAAoB5H,EXCO,KWDPA,CAA4BQ,GAEhDqH,GAAmB7H,EXDQ,KWCRA,CAA4B+C,GAE/C+E,GAAwB,SAACC,GAAY,OAChD/H,EXJsC,KWItCA,CJ2HmC,SAAC+H,GAAY,OAChDpC,EAAeoC,EAAc,CI5HDC,CAAsBD,GAAe,EAEtDE,GAA2B,SAACF,GAAY,OACnD/H,EXPsC,KWOtCA,CHwBsC,SAAC+H,GAAY,OACnDhB,GAAkBgB,EAAc,CGzBJG,CAAyBH,GAAe,EAEzDI,GAAoB,SAACJ,GAAY,OAC5C/H,EXVsC,KWUtCA,CFyB+B,SAAC+H,GAAY,OAAKV,GAAWU,EAAc,CEzB9CK,CAAkBL,GAAe,EAElDM,GAAyB,SAACN,GAAY,OACjD/H,EXbsC,KWatCA,CDIoC,SAAC+H,GAAY,OACjDP,GAAeO,EAAc,CCLDO,CAAuBP,GAAe,EChCvDQ,GAAY,SAACC,GAAG,IAAAC,EAAAC,EAAA,OACrB,QAAND,EAAA5E,cAAM,IAAA4E,GAAO,QAAPC,EAAND,EAAQE,aAAK,IAAAD,OAAP,EAANA,EAAgBF,KAAQI,wZAAY,aAADhF,OAAc4E,GAAO,ECCpDK,GAAQ,GAAAjF,OAAMC,OAAOC,SAASC,QAE9B+E,GAA8C,QAAhCC,EAAGR,GAAU,2BAAmB,IAAAQ,IAAI,qBAElDC,GAA0C,QAA9BC,EAAGV,GAAU,yBAAiB,IAAAU,IAAI,gBAE9CC,GAAU,SAACC,GAAG,OAAKC,MAAMD,GAAKE,MAAK,SAACC,GAAC,OAAKA,EAAEC,MAAM,GAAE,E,yBCCpDC,GAAM,WACV,SAAAA,EAAYC,GAAUC,aAAA,KAAAF,GACpBG,KAAKC,UAAYH,EACjBE,KAAKE,QAAU,EACjB,CA2BC,OA3BAC,aAAAN,EAAA,EAAAhB,IAAA,kBAAAzC,MAED,WAAmB,IAADgE,EAChB,MAAO,CACLC,KAAoB,QAAhBD,EAAEJ,KAAKC,iBAAS,IAAAG,OAAA,EAAdA,EAAgBE,aACtBC,OAAQP,KAAKE,QAEjB,GAAC,CAAArB,IAAA,cAAAzC,MACD,SAAY0D,GACVE,KAAKC,UAASO,0BAAA,GAAQR,KAAKC,WAAcH,EAC3C,GAAC,CAAAjB,IAAA,MAAAzC,MAED,SAAIqE,GACFT,KAAKE,QAAQQ,KAAIF,uCAAC,CAChBG,WAAW,IAAIC,MAAOC,WACnBb,KAAKC,WACLQ,GAAK,IACRK,kBACO,OAALL,QAAK,IAALA,OAAK,EAALA,EAAOM,sBAAuBvH,EAAqB,GAAAS,OACvC,OAALwG,QAAK,IAALA,OAAK,EAALA,EAAOK,iBAAgB,KAAA7G,OAAI+F,KAAKC,UAAUe,gBACxC,OAALP,QAAK,IAALA,OAAK,EAALA,EAAOK,kBA9BV,CACLG,UAAWC,UAAUD,UACrBE,QAASD,UAAUC,UA+BrB,GAAC,CAAAtC,IAAA,QAAAzC,MAED,WACE4D,KAAKE,QAAU,EACjB,KAACL,CAAA,CA/BS,GAkCCuB,GAAa,oBAAAA,IAAArB,aAAA,KAAAqB,EAAA,CAiBvB,OAjBuBjB,aAAAiB,EAAA,OAAAvC,IAAA,kBAAAzC,MAGxB,SAAuB0D,GAErB,OADe,IAAID,GAAOC,EAE5B,GAAC,CAAAjB,IAAA,oBAAAzC,MAED,SAAyB0D,GAIvB,OAHKE,KAAKqB,YACRrB,KAAKqB,UAAYrB,KAAKsB,gBAAgBxB,IAEjCE,KAAKqB,SACd,GAAC,CAAAxC,IAAA,YAAAzC,MAED,WACE,OAAO4D,KAAKqB,SACd,KAACD,CAAA,CAjBuB,GClCbG,GAAY,SAACC,GAAI,IAAAC,EAAA,OAA8B,QAA9BA,EAAKL,GAAcM,mBAAW,IAAAD,OAAA,EAAzBA,EAA2BE,IAAIH,EAAM,EAE3DI,GAAkB,SAACC,GAAC,OAAK,SAACL,GAAI,OAAK,SAACM,GAC/CP,GAAUC,GACVK,EAAEC,EACJ,CAAE,CAAD,EAEYC,GAAqB,CAChChB,mBAAoBvH,EACpB3B,KVX8B,SUcnBmK,GAA0B,CACrClB,iBAAkB,OAClBC,mBAAoBvH,EACpB3B,KVpB4C,uBUuBjCoK,GAAqB,CAChCnB,iBAAkB,eAClBC,mBV3B8B,UU4B9BlJ,KVzBwC,mBWL7BqK,GAAiB,WAC5B,IAAMC,EAAiB,CACrB,YACA,YACA,UACA,SACA,cAEF,OAAO,IAAIC,SAAQ,SAACC,GAClB,IAAMC,EAAW,WACfD,GACF,EACAF,EAAeI,SAAQ,SAAUC,GAC/BtI,OAAOuI,iBAAiBD,EAAWF,EAAU,CAAEI,MAAM,GACvD,GACF,GACF,E,qBCbMC,GAAmB,SAACC,GACxB,IAAMC,EAAOD,EAAKE,MAAM,mBACxB,GAAID,EAAKE,OAAS,EAAG,CACnB,IAAMC,EAAMH,EAAK,GAAGI,MAAM,EAAGJ,EAAK,GAAGK,QAAQ,MAC7C,OAAOF,EAAIG,OAAO,EAAGH,EAAIE,QAAQ,MAAME,aACzC,CACA,MAAO,EACT,EAEaC,GAAwB,eAAAC,EAAAC,YAAAC,cAAAC,MAAG,SAAAC,EAAAC,GAAA,IAAAnE,EAAAoE,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAAZ,cAAAa,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAQqB,OAP3DhF,EAAGmE,EAAHnE,IACAoE,EAAKD,EAALC,MACAC,EAAQF,EAARE,SACAC,EAAgBH,EAAhBG,iBACAC,EAAUJ,EAAVI,WACAC,EAAeL,EAAfK,gBAEMC,EAAmBQ,KAAS,CAAEjF,MAAKoE,QAAOC,aAAWS,EAAAE,KAAA,EAE7BP,EAC3BS,KAAK,CACJC,OAAQ,YACRC,0BAA0B,GAAD3K,OAAKC,OAAOC,SAASC,OAAM,oBACpDyK,kBAAkB,IAEnBC,OAAM,SAACC,GAAK,OAAKA,CAAK,IAAE,KAAD,EAEf,GARLb,EAAeI,EAAAU,KAQfb,EAAK,eAAAc,EAAA1B,YAAAC,cAAAC,MAAG,SAAAyB,IAAA,OAAA1B,cAAAa,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAX,KAAA,EACNP,EAAiBE,MAAM,CAC3BiB,YAAalL,OAAOC,SAASkL,KAE7BC,QAASpL,OAAOC,SAASoL,SAASC,WAAW,IAADvL,OAAKL,IAC7CkK,EACA,OACH,KAAD,SAAAqB,EAAAM,OAAA,SACK,IAAIrD,SAAQ,WAAO,KAAE,wBAAA+C,EAAAO,OAAA,GAAAR,EAAA,KAC7B,kBATU,OAAAD,EAAAU,MAAA,KAAAC,UAAA,KAWN1B,EAAgB,CAADI,EAAAE,KAAA,eAAAF,EAAAmB,OAAA,SACX,CACLI,gBAAgB,EAChB1B,UACD,OAKkC,OALlCG,EAAAwB,GAKY7B,EAAiB8B,MAAKzB,EAAAE,KAAA,GACnBP,EAAiB+B,eAAc,QA+C5C,OA/C4C1B,EAAA2B,GAAA3B,EAAAU,KAAAV,EAAA4B,GAAA,eAAAC,EAAA5C,YAAAC,cAAAC,MACvC,SAAA2C,EAAOC,GAAU,OAAA7C,cAAAa,MAAA,SAAAiC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,cAAA8B,EAAA9B,KAAA,EACjBP,EAAiBrL,OAAO,CAC5BwM,YAAc,WACZ,OAAQiB,GACN,IAAK,UACH,MAAM,GAANpM,OAAU8J,EAAU,KAAA9J,OAAI0I,GAAiBzI,OAAOC,SAASkL,OAC3D,IAAK,OACH,OAAOnL,OAAOC,SAASC,OACzB,QACE,OAAO2J,EAEb,CATc,KAUb,KAAD,SAAAuC,EAAAb,OAAA,SAEK,IAAIrD,SAAQ,WAAO,KAAE,wBAAAkE,EAAAZ,OAAA,GAAAU,EAAA,KAC7B,gBAAAG,GAAA,OAAAJ,EAAAR,MAAA,KAAAC,UAAA,EAhB8C,GAH3CxB,EAAU,CACdyB,gBAAgB,EAChBW,YAAWlC,EAAAwB,GACXW,SAAQnC,EAAA2B,GACRrN,OAAM0L,EAAA4B,IAkBR,SAAUQ,IACR,IAAMC,EAC+B,IAAnC1C,EAAiB2C,YAAYC,IAAajG,KAAKkG,MAEjDC,WAAUxD,YAAAC,cAAAC,MAAC,SAAAuD,IAAA,OAAAxD,cAAAa,MAAA,SAAA4C,GAAA,cAAAA,EAAA1C,KAAA0C,EAAAzC,MAAA,OAGP,OAFF0C,QAAQvF,IAAI,oCAAD1H,OAC2BkN,GAAiB,wDACrDF,EAAAzC,KAAA,EAEIR,IAAkB,KAAD,EAE4C,OAAnEkD,QAAQvF,IAAI,uDAAuDsF,EAAAzC,KAAA,EAE/CP,EAAiBmD,aAAa,GAAG1H,MACnD,WAAe,IACf,SAACqF,GAAK,OAAKA,CAAK,IAChB,KAAD,EAHU,IAAAkC,EAAAjC,KAKD,CAADiC,EAAAzC,KAAA,SAEP,OADA0C,QAAQvF,IAAI,sDACZsF,EAAAzC,KAAA,GACML,IAAQ,KAAD,GAGfC,EAAWoC,YAAcvC,EAAiB8B,MAE1CW,IAAS,yBAAAO,EAAAvB,OAAA,GAAAsB,EAAA,KACRL,EAAyC,IAApBQ,GACzB,CA5BD,GA4BK7C,EAAAmB,OAAA,SAEErB,GAAU,yBAAAE,EAAAoB,OAAA,GAAAhC,EAAA,KAClB,gBAzFoC2D,GAAA,OAAA/D,EAAAqC,MAAA,KAAAC,UAAA,KA2F/BuB,GAAoB,GC9FbG,GAAcC,IAAMC,gBAgD3BC,GAAkB,CACtB5B,gBAAgB,EAChBW,YAAa,KACb5N,OAAQ,kBAAOsB,OAAOC,SAASkL,KAAO,GAAG,GAG5BqC,GApDM,SAAH/D,GAAsB,IAAhBxN,EAAQwN,EAARxN,SACtBwR,EAIIC,qBAAWC,IAHOC,EAAQH,EAA5BI,mBACShE,EAAU4D,EAAnBK,QACAlE,EAAgB6D,EAAhB7D,iBAGFmE,EAAoCC,oBAAS,WAC3C,OAAQJ,GACN,KAAKrO,EACH,OAAO,KACT,KAAKC,EACH,OAAO+N,GACT,QACE,MAAM,IAAIU,MAAMrK,GAAgB5F,YAEtC,IAAEkQ,EAAAC,YAAAJ,EAAA,GATK7D,EAAUgE,EAAA,GAAEE,EAAaF,EAAA,GAgChC,OArBAG,qBAAU,WACJT,IAAarO,GAIjB8J,YAAAC,cAAAC,MAAC,SAAAyB,IAAA,IAAAsD,EAAApE,EAAA,OAAAZ,cAAAa,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAX,KAAA,ELtBwBjF,GAAQ,GAADtF,OAAIiF,GAAQ,KAAAjF,OAAIoF,KKuBb,KAAD,EAAlB,OAARmJ,EAAQrD,EAAAH,KAAAG,EAAAX,KAAA,EAEWnB,GAAyB,CAChD7D,IAAKgJ,EAAS,mBACd5E,MAAO4E,EAAgB,MACvB3E,SAAU2E,EAAmB,SAC7B1E,iBAAkBA,EAClBC,aACAC,gBAAiB9B,KAChB,KAAD,EAPIkC,EAAUe,EAAAH,KAShBsD,EAAclE,GAAY,wBAAAe,EAAAO,OAAA,GAAAR,EAAA,IAZ5B3B,EAcF,GAAG,CAACuE,EAAUhE,EAAkBC,IAEb,OAAfK,EAA4BrO,cAAC0S,EAAY,IAG3C1S,cAACuR,GAAYoB,SAAQ,CAACtM,MAAOgI,EAAWjO,SAAEA,GAE9C,ECnCewS,GAjBA,SAACC,GAcd,OAbkB,SAACC,GACjB,IAAAlB,EAAkCC,qBAAWN,IAArCzB,EAAc8B,EAAd9B,eAAgB1B,EAAKwD,EAALxD,MAChB2E,EAAeD,EAAfC,WAEFC,EAAoBhT,cAAC6S,EAAgBpI,aAAA,GAAKsI,IAEhD,OAAIjD,EACKkD,GAET5E,IACO,KACT,CAGF,E,4BCjBM6E,GAAgB,eAAArF,EAAAJ,YAAAC,cAAAC,MAAG,SAAAyB,EAAO+D,GAAQ,OAAAzF,cAAAa,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAZ,KAAA,EAAAY,EAAAX,KAAA,EAEvByE,EAASrJ,OAAO,KAAD,SAAAuF,EAAAM,OAAA,SAAAN,EAAAH,MAAA,cAAAG,EAAAZ,KAAA,EAAAY,EAAAW,GAAAX,EAAA,SAAAA,EAAAM,OAAA,SAErB,CAAC,GAAC,wBAAAN,EAAAO,OAAA,GAAAR,EAAA,kBAEZ,gBANqBmC,GAAA,OAAA1D,EAAAgC,MAAA,KAAAC,UAAA,KAQTsD,GAAO,eAAA5F,EAAAC,YAAAC,cAAAC,MAAG,SAAA2C,EAAO5G,EAAKuG,EAAOoD,EAAQhN,GAAI,IAAAiN,EAAAH,EAAAI,EAAAC,EAAAC,EAAAC,EAAA,OAAAhG,cAAAa,MAAA,SAAAiC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,OAInD,OAHK4E,EAAU,CACdK,OAAQ,mBACR,eAAgB,oBACjBnD,EAAA/B,KAAA,EAAA+B,EAAA9B,KAAA,EAEwB/E,MAAMD,EAAK,CAChC4J,QAASrD,EAAKvF,0BAAA,GACL4I,GAAO,IAAEM,cAAc,UAADzP,OAAY8L,KACvCqD,EACJD,SACAhN,KAAMA,EAAOwN,KAAKC,UAAUzN,GAAQ,OACnC,KAAD,EAC4B,GAPxB8M,EAAQ3C,EAAAtB,KAONqE,EAA2BJ,EAA3BI,GAAIC,EAAuBL,EAAvBK,OAAQC,EAAeN,EAAfM,YAChBF,EAAG,CAAD/C,EAAA9B,KAAA,gBAAA8B,EAAA/B,KAAA,EAAA+B,EAAA9B,KAAA,GAEiBwE,GAAiBC,GAAU,KAAD,GAAnC,OAAJO,EAAIlD,EAAAtB,KAAAsB,EAAAb,OAAA,SACH,CAAE+D,OAAMF,SAAQC,eAAY,eAAAjD,EAAA/B,KAAA,GAAA+B,EAAAR,GAAAQ,EAAA,SAAAA,EAAAb,OAAA,SAE5B,CAAEV,OAAO,EAAMuE,SAAQC,WAAYjD,EAAAR,GAAM+D,UAAS,QAAAvD,EAAA9B,KAAA,wBAAA8B,EAAAb,OAAA,SAGpD,CAAEV,OAAO,EAAMuE,SAAQC,eAAY,QAAAjD,EAAA9B,KAAA,wBAAA8B,EAAA/B,KAAA,GAAA+B,EAAAL,GAAAK,EAAA,SAAAA,EAAAb,OAAA,SAIrC,CAAEV,OAAO,EAAMwE,WAAYjD,EAAAL,GAAM4D,UAAS,yBAAAvD,EAAAZ,OAAA,GAAAU,EAAA,0BAEpD,gBA5BmBG,EAAAuD,EAAAC,EAAAC,GAAA,OAAA1G,EAAAqC,MAAA,KAAAC,UAAA,KA8BdqE,GAAwB,SAACC,GAC7B,IAAMC,EAAM,kBAAkBC,KAAKF,GACnC,OAAOC,GAAOA,EAAIpH,OAAS,EAAIoH,EAAI,GAAK,aAC1C,EAEaE,GAAW,eAAApF,EAAA1B,YAAAC,cAAAC,MAAG,SAAAuD,EAAOxH,EAAKuG,GAAK,IAAAkD,EAAAI,EAAAC,EAAAC,EAAAH,EAAAkB,EAAAC,EAAAC,EAAA,OAAAhH,cAAAa,MAAA,SAAA4C,GAAA,cAAAA,EAAA1C,KAAA0C,EAAAzC,MAAA,cAAAyC,EAAA1C,KAAA,EAAA0C,EAAAzC,KAAA,EAEjB/E,MAAMD,EAAK,CAChC4J,QAASrD,EAAQ,CAAE2D,cAAc,UAADzP,OAAY8L,IAAY,CAAC,EACzDoD,OAAQ,QACP,KAAD,EACqC,GAJjCF,EAAQhC,EAAAjC,KAINqE,EAAoCJ,EAApCI,GAAIC,EAAgCL,EAAhCK,OAAQC,EAAwBN,EAAxBM,WAAYH,EAAYH,EAAZG,SAC5BC,EAAG,CAADpC,EAAAzC,KAAA,gBAAAyC,EAAA1C,KAAA,EAAA0C,EAAAzC,KAAA,EAEiByE,EAASqB,OAAO,KAAD,EAMvB,OANLA,EAAIrD,EAAAjC,KACJuF,EAAOrQ,OAAOuQ,IAAIC,gBAAgBJ,IAClCE,EAAIG,SAASC,cAAc,MAC/BvF,KAAOkF,EACTC,EAAE7R,SAAWsR,GAAsBb,EAAQyB,IAAI,wBAC/CL,EAAEM,QACFN,EAAEO,SAAS9D,EAAAxB,OAAA,SACJ,CAAE6D,SAAQC,eAAY,eAAAtC,EAAA1C,KAAA,GAAA0C,EAAAnB,GAAAmB,EAAA,SAAAA,EAAAxB,OAAA,SAEtB,CAAEV,OAAO,EAAMuE,SAAQC,WAAYtC,EAAAnB,GAAM+D,UAAS,QAAA5C,EAAAzC,KAAA,wBAAAyC,EAAAxB,OAAA,SAGpD,CAAEV,OAAO,EAAMuE,SAAQC,eAAY,QAAAtC,EAAAzC,KAAA,wBAAAyC,EAAA1C,KAAA,GAAA0C,EAAAhB,GAAAgB,EAAA,SAAAA,EAAAxB,OAAA,SAIrC,CAAEV,OAAO,EAAMwE,WAAYtC,EAAAhB,GAAM4D,UAAS,yBAAA5C,EAAAvB,OAAA,GAAAsB,EAAA,0BAEpD,gBA3BuBgE,EAAAC,GAAA,OAAAhG,EAAAU,MAAA,KAAAC,UAAA,KC1ClBsF,GAAa,SAAC1L,GAAG,OAAK,SAACuG,GAAK,OAAKmD,GAAQ1J,EAAKuG,EAAO,MAAO,KAAM,CAAD,EACjEoF,GAAa,SAAC3L,GAAG,OAAK,SAACuG,GAAK,OAAK,SAAC5J,GAAI,OAC1C+M,GAAQ1J,EAAKuG,EAAO,MAAO5J,EAAM,CAAD,GAoCrBiP,GACXF,GADWE,GA/BK,SAACC,GAAM,OAAK,SAACC,GAAE,OAAK,SAACvF,GAAK,OAC1CmF,GAAW,GAADjR,OAAIoR,EAAM,qBAAApR,OAAoBqR,GAAxCJ,CAA8CnF,EAAO,CAAD,GA8BzCqF,GA7BK,SAACC,GAAM,OAAK,SAACC,GAAE,OAAK,SAACvF,GAAK,OAAK,SAAC5J,GAAI,OACpDgP,GAAW,GAADlR,OAAIoR,EAAM,qBAAApR,OAAoBqR,GAAxCH,CAA8CpF,EAA9CoF,CAAqDhP,EAAM,CAAD,IA4B/CiP,GAnBY,SAACC,GAAM,OAAK,SAACC,GAAE,OAAK,SAACvF,GAAK,OACjDmF,GAAW,GAADjR,OAAIoR,EAAM,uBAAApR,OAAsBqR,GAA1CJ,CAAgDnF,EAAO,CAAD,GAkB3CqF,GAhBoB,SAACC,GAAM,OAAK,SAACC,GAAE,OAAK,SAACvF,GAAK,OACzDmF,GAAW,GAADjR,OAAIoR,EAAM,uBAAApR,OAAsBqR,EAAE,2BAA5CJ,CAAuEnF,EAAO,CAAD,GAelEqF,GAbW,SAACC,GAAM,OAAK,SAACC,GAAE,OAAK,SAACvF,GAAK,OAChDmF,GAAW,GAADjR,OAAIoR,EAAM,sBAAApR,OAAqBqR,GAAzCJ,CAA+CnF,EAAO,CAAD,GAY1CqF,GAVO,SAACC,GAAM,OAAK,SAACC,GAAE,OAAK,SAACvF,GAAK,OAC5CmF,GAAW,GAADjR,OAAIoR,EAAM,uBAAApR,OAAsBqR,EAAE,aAA5CJ,CAAyDnF,EAAO,CAAD,GASpDqF,GAPW,SAACC,GAAM,OAAK,SAACC,GAAE,OAAK,SAACvF,GAAK,OAChDsE,GAAY,GAADpQ,OAAIoR,EAAM,qBAAApR,OAAoBqR,EAAE,kBAAkBvF,EAAO,CAAD,GAMxDqF,GAHQ,SAACC,GAAM,OAAK,SAACtF,GAAK,OAAK,SAAC5J,GAAI,OAhC5BqD,EAiCP,GAADvF,OAAIoR,EAAM,iBAjCM,SAACtF,GAAK,OAAK,SAAC5J,GAAI,OAC3C+M,GAAQ1J,EAAKuG,EAAO,OAAQ5J,EAAM,CAAD,GAgCK4J,EAAtCwF,CAA6CpP,GAjC3B,IAACqD,CAiCgC,CAAD,GAEvC4L,GA1BG,SAACC,GAAM,OAAK,SAACC,GAAE,OAAK,SAACvF,GAAK,OAAK,SAAC5J,GAAI,OAClDgP,GAAW,GAADlR,OAAIoR,EAAM,qBAAApR,OAAoBqR,EAAE,SAA1CH,CAAmDpF,EAAnDoF,CAA0DhP,EAAM,CAAD,IAyBpDiP,GAvBQ,SAACC,GAAM,OAAK,SAACC,GAAE,OAAK,SAACvF,GAAK,OAAK,SAAC5J,GAAI,OACvDgP,GAAW,GAADlR,OAAIoR,EAAM,qBAAApR,OAAoBqR,EAAE,eAA1CH,CAAyDpF,EAAzDoF,CAAgEhP,EAAM,CAAD,ICdhE,SAASqP,GAAiBC,GAC/B,IAAMC,EAAcC,mBAEpB,OADAD,EAAYE,QAAUH,EACfvD,oBACL,kBACE,kBACEwD,EAAYE,QAAOjG,MAAnB+F,EAAW9F,UAAiB,KAChC,EACJ,CCHA,IAAMiG,GAAkB,SAAC5C,GAA0B,IAAhBpR,EAAI+N,UAAA7C,OAAA,QAAA+I,IAAAlG,UAAA,GAAAA,UAAA,GAAG,IAChC0D,EAAWL,EAAXK,OACR,OAAe,MAAXA,EAAuBxL,GAAgBnG,YAC5B,MAAX2R,EAAuBxL,GAAgBlG,YAAYC,GACxC,MAAXyR,EAAuBxL,GAAgBhG,YAAYD,GACnDyR,GAAU,KAAOA,EAAS,IAAYxL,GAAgB/F,gBACnD+F,GAAgB9F,eACzB,EAEa+T,GAAoB,WAC/B,IAAM3H,EAAawD,qBAAWN,IAExB0E,EAAiBR,IAAiB,SAAChM,EAAKyM,GAAO,OHoDlBlG,EGnDZ3B,EAAWoC,YHmDM,eAAA0F,EAAA3I,YAAAC,cAAAC,MAAK,SAAAC,EAAOlE,EAAKyM,GAAO,IAAAE,EAAA,OAAA3I,cAAAa,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACrB,OAArC2H,GAAqB,OAAPF,QAAO,IAAPA,OAAO,EAAPA,EAAS7C,UAAW,CAAC,EAAC9E,EAAAmB,OAAA,SACnChG,MAAMD,EAAGgB,0BAAA,GACXyL,GAAO,IACV7C,QAASrD,EAAKvF,0BAAA,GACL2L,GAAW,IAAEzC,cAAc,UAADzP,OAAY8L,KAC3CoG,MACJ,wBAAA7H,EAAAoB,OAAA,GAAAhC,EAAA,KACH,gBAAA0I,EAAAC,GAAA,OAAAH,EAAAvG,MAAA,KAAAC,UAAA,EARyC,IGnDOpG,EAAKyM,GHmDlB,IAAClG,CGnDyB,IAG5D,MAAO,CAAEiG,iBACX,EAEaM,GAAS,SAACC,EAAcC,GACnC,IAAMpI,EAAawD,qBAAWN,IACtB+D,EAAWzD,qBAAWC,IAAtBwD,OAEFoB,EAA2BjB,IAAiB,kBAChDJ,GAA6BC,EAA7BD,CAAqCoB,EAArCpB,CACEhH,EAAWoC,YACZ,IAGGkG,EAAkBlB,IAAiB,kBACvCJ,GAAoBC,EAApBD,CAA4BoB,EAA5BpB,CAA6ChH,EAAWoC,YAAY,IAGhEmG,EAAmBnB,IAAiB,kBACxCJ,GAAqBC,EAArBD,CAA6BoB,EAA7BpB,CAA8ChH,EAAWoC,YAAY,IAGjEoG,EAAcpB,IAAiB,kBACnCJ,GAAgBC,EAAhBD,CAAwBoB,EAAxBpB,CAAyChH,EAAWoC,YAAY,IAG5DqG,EAAYrB,IAAiB,kBACjCJ,GAAcC,EAAdD,CAAsBmB,EAAtBnB,CAAoChH,EAAWoC,YAAY,IAGvDsG,EAAStB,IAAiB,kBAC9BJ,GAAoBC,EAApBD,CAA4BmB,EAA5BnB,CAA0ChH,EAAWoC,YAAY,IAG7DuG,EAAYvB,IAAiB,SAACrP,GAAI,OACtCiP,GAAcC,EAAdD,CAAsBmB,EAAtBnB,CAAoChH,EAAWoC,YAA/C4E,CAA4DjP,EAAK,IAG7D6Q,EAAUxB,IAAiB,SAACrP,GAAI,OACpCiP,GAAYC,EAAZD,CAAoBmB,EAApBnB,CAAkChH,EAAWoC,YAA7C4E,CAA0DjP,EAAK,IAG3D8Q,EAAezB,IAAiB,SAACrP,GAAI,OACzCiP,GAAiBC,EAAjBD,CAAyBmB,EAAzBnB,CAAuChH,EAAWoC,YAAlD4E,CAA+DjP,EAAK,IAOtE,MAAO,CACLsQ,2BACAC,kBACAC,mBACAC,cACAC,YACAC,SACAC,YACAG,aAZmB1B,IAAiB,SAACrP,GAAI,OACzCiP,GAAiBC,EAAjBD,CAAyBhH,EAAWoC,YAApC4E,CAAiDjP,EAAK,IAYtD6Q,UACAC,eAEJ,E,kOClFMxX,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCwX,KAAM,CACJC,gBAAiBzX,EAAM0X,QAAQC,UAAUC,KACzCC,MAAO7X,EAAM0X,QAAQI,QAAQF,KAC7BG,cAAe,OACf,kBAAmB,CACjBN,gBAAiBzX,EAAM0X,QAAQI,QAAQF,KACvCC,MAAO7X,EAAM0X,QAAQC,UAAUC,OAGpC,IAEYI,GAAS,SAAHhK,GASZ,IARLzN,EAASyN,EAATzN,UAEAC,GADKwN,EAAL6J,MACQ7J,EAARxN,UACAyX,EAAQjK,EAARiK,SACAC,EAAOlK,EAAPkK,QACAC,EAASnK,EAATmK,UACAC,EAAOpK,EAAPoK,QACGC,EAAKC,aAAAtK,EAAAuK,IAEFC,EAAU1Y,KAEhB,OACEM,cAACqY,KAAS5N,0BAAA,CACRtK,UAAS,GAAA+D,OAAKkU,EAAQhB,KAAI,KAAAlT,OAAI/D,GAC9B0X,SAAUA,EACVC,QAASA,EACTC,UAAWA,EACXC,QAASA,GACLC,GAAK,IAAA7X,SAERA,IAGP,E,+BClCMV,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCuU,OAAQ,CACNmE,UAAW1Y,EAAM2Y,QAAQ,IAE5B,IA2CKC,GAAY,CAChBC,QAtCsB,SAAC3F,GACvB,IACI4F,EADEN,EAAU1Y,KAEhB,OAAQoT,EAAM6F,OACZ,KAAK,EACHD,EAAU,KACV,MACF,KAAK,EASL,QACEA,EAAU,KACV,MARF,KAAK,EACHA,EAAU,YACV,MACF,KAAK,EACHA,EAAU,YAMd,OACE1Y,cAAC4Y,KAAU,CAACzY,UAAWiY,EAAQjE,OAAQ0E,cAAY,EAACH,QAASA,EAAQtY,SAClE0S,EAAM1S,UAGb,EAcE0Y,UA3CwB,SAAChG,GACzB,OAAO9S,cAAC4Y,KAAU,CAAAxY,SAAE0S,EAAM1S,UAC5B,EA0CE2Y,KAbW,SAACjG,GAAK,OAAK9S,cAACgZ,KAAOvO,aAAA,CAACwO,OAAO,UAAanG,GAAU,EAc7DoG,SAZuB,SAACpG,GACxB,OACE9S,cAAA,MAAAI,SACEJ,cAAC4Y,KAAU,CAACO,UAAU,OAAM/Y,SAAE0S,EAAM1S,YAG1C,GASagZ,GAAe,SAACtG,GAAK,OAChC9S,cAACqZ,KAAa5O,aAAA,CACZtK,UAAU,aACVmZ,UAAU,EACVd,UAAWA,IACP1F,GACJ,E,UC/DSyG,I,OAAgB,SAACC,GAC5B,OAAIC,MAAMC,QAAQF,GACTA,EAAU7Y,QAAO,SAACgZ,EAAG/L,GAAuB,IAAnBgM,EAAIhM,EAAJgM,KAAMvT,EAAKuH,EAALvH,MAEpC,OADAsT,EAAIC,GAAQvT,EACLsT,CACT,GAAG,CAAC,GAEC,CAAC,CACV,GAYaE,GAAoC7Y,KCP3CtB,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCka,KAAM,CAAEC,WAAY,MAAOC,YAAa,OACxCC,iBAAkB,CAChBC,QAAS,SAEXC,UAAW,CAAE9C,gBAAiB,aAC9B9Q,gBAAiB,CAAE6T,WAAY,QAChC,IAkEcC,GAhEK,SAAHzM,GAGV,IAAD0M,EAAAC,EAAAC,EAAA5M,EAFJ7D,SAAY1B,EAAYmS,EAAZnS,aAAcmR,EAASgB,EAAThB,UAAWiB,EAAYD,EAAZC,aACrCC,EAAe9M,EAAf8M,gBAEMtC,EAAU1Y,KAChB6N,GACc,OAAZkN,QAAY,IAAZA,OAAY,EAAZA,EAAcE,UAAWvS,GAAsBC,GADzClC,EAAKoH,EAALpH,MAAOC,EAAImH,EAAJnH,KAAMG,EAAegH,EAAfhH,gBAAiBC,EAAiB+G,EAAjB/G,kBAGhCoU,EAAuB,SAACC,EAAQvU,GAAmB,OACvDwU,qBAAUD,EAAMpQ,uCAAA,GDrBgB,SAACnE,GACnC,OAAImT,MAAMC,QAAQpT,GACTA,EAAoB3F,QAAO,SAACgZ,EAAKC,GAEtC,OADAD,EAAIC,GAAQ,KACLD,CACT,GAAG,CAAC,GAEC,CAAC,CACV,CCcSoB,CAAqBzU,IACrBiT,GAAcC,IACdD,GAAcmB,IAChB,EAECM,EAAgB,SAACC,GAAK,OAC1BA,GAAK,2BAAA/W,OAA+BmE,EAAe,EAErD,OACE6S,eAACC,KAAI,CAAChb,UAAWiY,EAAQ0B,KAAK1Z,SAAA,CAC5BJ,cAACob,KAAU,CAACjV,MAAO6U,EAAc7U,KACjCnG,cAACqb,KAAO,IACRH,eAACI,KAAW,CAAAlb,SAAA,CACL,OAAJgG,QAAI,IAAJA,GAAW,QAAPkU,EAAJlU,EAAMC,aAAK,IAAAiU,OAAP,EAAJA,EAAaiB,KAAI,SAACC,EAAMC,GAAC,IAAAC,EAAA,OACxBR,eAAC1J,IAAMmK,SAAQ,CAAAvb,SAAA,CACbJ,cAACoZ,GAAY,CAAAhZ,SACVwa,EACCI,EAAcQ,GACV,OAAJpV,QAAI,IAAJA,OAAI,EAAJA,EAAME,uBAGTmV,KAAU,OAAJrV,QAAI,IAAJA,GAAW,QAAPsV,EAAJtV,EAAMC,aAAK,IAAAqV,OAAP,EAAJA,EAAa1O,QAAS,GAAKhN,cAAA,WAAM,QAAAkE,OAPbuX,GAQZ,IAElBlV,GACC2U,eAACU,KAAS,CAACzb,UAAWiY,EAAQ+B,UAAU/Z,SAAA,CACtCJ,cAAC6b,KAAgB,CACfC,WAAY9b,cAAC+b,KAAU,IACvB,gBAAc,kBACdxG,GAAG,iBAAgBnV,SAEnBJ,cAAC4Y,KAAU,CAACzY,UAAWiY,EAAQ7R,gBAAgBnG,SAC5CmG,MAGLvG,cAACgc,KAAgB,CAAC7b,UAAWiY,EAAQ6B,iBAAiB7Z,SAClC,OAAjBoG,QAAiB,IAAjBA,GAAwB,QAAP+T,EAAjB/T,EAAmBH,aAAK,IAAAkU,OAAP,EAAjBA,EAA0BgB,KAAI,SAACC,EAAMC,GAAC,OACrCP,eAAC1J,IAAMmK,SAAQ,CAAAvb,SAAA,CACbJ,cAACoZ,GAAY,CAAAhZ,SACVwa,EACCY,EACiB,OAAjBhV,QAAiB,IAAjBA,OAAiB,EAAjBA,EAAmBF,uBAGtBmV,IAAMjV,EAAkBwG,OAAS,GAAKhN,cAAA,WAAM,QAAAkE,OAPlBuX,GAQZ,cAQjC,E,wCC/DM/b,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCka,KAAM,CAAEC,WAAY,MAAOC,YAAa,OACxC5C,KAAM,CACJ8C,QAAS,OACT+B,cAAe,UAEjBrZ,SAAU,CACR0V,UAAW1Y,EAAM2Y,QAAQ,GACzB2D,OAAQ,QAEVC,QAAS,CACPjC,QAAS,OACTkC,eAAgB,YAEnB,IAoFcC,GAlFC,SAAHzO,GAMN,IALL9K,EAAc8K,EAAd9K,eAAc0X,EAAA5M,EACd7D,SAAY1B,EAAYmS,EAAZnS,aAAcmR,EAASgB,EAAThB,UAAWiB,EAAYD,EAAZC,aACrCC,EAAe9M,EAAf8M,gBACa4B,EAAI1O,EAAjB2O,UAAaD,KACbE,EAAW5O,EAAX4O,YAEMpE,EAAU1Y,KAEV+c,EAAW,SAAC3a,GAChB,OAAA2I,0BAAA,GACKuB,IAAkB,IACrBjB,iBAAiB,GAAD7G,OAAKpC,EAAI,WACzB4a,KAAMF,GAEV,EACMG,EAAYL,GAAQ,EAElB9M,EAAaoN,eAAbpN,SAERqN,EAAsBC,eAAd7P,EAAG4P,EAAH5P,IAAK3C,EAAIuS,EAAJvS,KACLyM,EAAWR,GAAOjM,EAAM2C,GAAxB8J,OAERxJ,GACc,OAAZkN,QAAY,IAAZA,OAAY,EAAZA,EAAchT,MAAOgB,GAAkBJ,GADjClC,EAAKoH,EAALpH,MAAOC,EAAImH,EAAJnH,KAAMwB,EAAU2F,EAAV3F,WAAYC,EAAU0F,EAAV1F,WAG3BjF,EAAQ,eAAAsM,EAAA1B,YAAAC,cAAAC,MAAG,SAAAyB,IAAA,IAAA4N,EAAA/N,EAAAuE,EAAA,OAAA9F,cAAAa,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAX,KAAA,EACiBsI,IAAS,KAAD,EAAAgG,EAAA3N,EAAAH,KAAhCD,EAAK+N,EAAL/N,MAAOuE,EAAMwJ,EAANxJ,OACfpC,QAAQvF,IAAI,GAAD1H,OAAIqP,EAAM,OAAArP,OAAM8K,IAAS,wBAAAI,EAAAO,OAAA,GAAAR,EAAA,KACrC,kBAHa,OAAAD,EAAAU,MAAA,KAAAC,UAAA,KAKRmN,EAAa,GAAA9Y,OAAM+Y,aAAeN,EAAW,IAAI9R,KAAQ,CAC7DqS,WAAW,EACXC,OAAQtD,KACR,MAAA3V,OAAKkZ,aAAOT,EFjDO,yBEiDgB,KASrC,OACEzB,eAACC,KAAI,CAAChb,UAAWiY,EAAQ0B,KAAK1Z,SAAA,CAC5BJ,cAACob,KAAU,CAACjV,MAAOA,IACnBnG,cAACqb,KAAO,IACRH,eAACI,KAAW,CAACnb,UAAWiY,EAAQhB,KAAKhX,SAAA,CAClCgG,EAAKmV,KAAI,SAACC,EAAMC,GAAC,OAChBP,eAAC1J,IAAMmK,SAAQ,CAAAvb,SAAA,CACbJ,cAACoZ,GAAY,CAAAhZ,UAdOya,EAcgBW,EAb5CV,qBAAUD,EAAMpQ,0BAAA,CACduS,iBACGzD,GAAcC,IACdD,GAAcmB,QAWVe,IAAMrV,EAAK4G,OAAS,GAAKhN,cAAA,WAAM,QAAAkE,OAFLuX,IAbR,IAACZ,CAgBL,KAEjBrL,EAAS6N,SAAS,cAClBnC,eAAAoC,WAAA,CAAAld,SAAA,CACEJ,cAAA,SACAA,cAAC4Y,KAAU,CAAAxY,SAAEwH,IACb5H,cAAC4X,KAAM,CACLzX,UAAWiY,EAAQxV,SACnB8V,QAAQ,YACRjB,MAAM,UACNO,QAAShY,cAACud,KAAM,IAChBzF,QAASjM,GAAgBjJ,EAAhBiJ,CAA0B4Q,EAAS,aAAarc,SAExD4H,GAAiBpF,cAIxB5C,cAAA,SACAA,cAAC4Y,KAAU,CAAAxY,SAAEyH,OAEf7H,cAACwd,KAAW,CAACrd,UAAWiY,EAAQ+D,QAAQ/b,SACtCJ,cAACyd,GAAW,CACV3F,QAASjM,GAAgB/I,EAAhB+I,CAAgC4Q,EAAS,iBAAiBrc,SAElE4H,GAAiBlF,qBAK5B,E,qBC9GMpD,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCka,KAAM,CAAEC,WAAY,MAAOC,YAAa,OACxC5C,KAAM,CACJ8C,QAAS,OACT+B,cAAe,UAEjBtZ,KAAM,CACJ2V,UAAW1Y,EAAM2Y,QAAQ,GACzB2D,OAAQ,QAEX,IA0CcwB,GAxCQ,SAAH9P,GAIb,IAAD4M,EAAA5M,EAHJ7D,SAAY1B,EAAYmS,EAAZnS,aAAcoS,EAAYD,EAAZC,aAC1BkD,EAAyB/P,EAAzB+P,0BACAnB,EAAW5O,EAAX4O,YAEMpE,EAAU1Y,KAChB6N,GACc,OAAZkN,QAAY,IAAZA,OAAY,EAAZA,EAAcmD,aAAcrV,GAAyBF,GAD/ClC,EAAKoH,EAALpH,MAAOC,EAAImH,EAAJnH,KAETqW,EAAQhS,0BAAA,GACTuB,IAAkB,IACrBjB,iBAAkB,kBAClB2R,KAAMF,IAER,OACEtB,eAACC,KAAI,CAAChb,UAAWiY,EAAQ0B,KAAK1Z,SAAA,CAC5BJ,cAACob,KAAU,CAACjV,MAAOA,IACnBnG,cAACqb,KAAO,IACRH,eAACI,KAAW,CAACnb,UAAWiY,EAAQhB,KAAKhX,SAAA,CAClCgG,EAAKmV,KAAI,SAACC,EAAMC,GAAC,OAChBP,eAAC1J,IAAMmK,SAAQ,CAAAvb,SAAA,CACbJ,cAACoZ,GAAY,CAAAhZ,SAAEob,IACdC,IAAMrV,EAAK4G,OAAS,GAAKhN,cAAA,WAAM,QAAAkE,OAFLuX,GAGZ,IAEnBzb,cAAC4X,KAAM,CACLzX,UAAWiY,EAAQzV,KACnB+V,QAAQ,YACRjB,MAAM,UACNO,QAAShY,cAAC6d,KAAI,IACd/F,QAASjM,IAAgB,kBAAM8R,GAA0B,EAAK,GAArD9R,CACP4Q,GACArc,SAED4H,GAAiBrF,OAEpB3C,cAAA,cAIR,E,+ECpDMN,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCoP,MAAO,CACLyI,MAAO,WAEV,IAED,SAASrF,GAAKxE,GAAoB,IAAjBjM,EAAYiM,EAAZjM,aACTyW,EAAU1Y,KAChB,OACEM,cAAC8d,KAAQ,CAAC3d,UAAWiY,EAAQpJ,MAAM5O,SACjCJ,cAAA,OAAAI,SAAMuB,KAGZ,CAEA,SAASoc,GAAexQ,GAAc,IAC9ByQ,EADyBzQ,EAAN0Q,OACF1C,KAAI,SAAUvM,EAAOkP,GAC1C,OAAOC,wBAAC/L,GAAK3H,0BAAA,GAAKuE,GAAK,IAAElG,IAAKoV,IAChC,GAAG,IACH,OAAOle,cAACoe,KAAI,CAAAhe,SAAE4d,GAChB,CAEA,IAqEeK,GArEK,SAAHnP,GAKV,IAJLoP,EAAOpP,EAAPoP,QACAC,EAAMrP,EAANqP,OACA/B,EAAWtN,EAAXsN,YAAWgC,EAAAtP,EACX+O,OAAQQ,OAAa,IAAAD,EAAG,CAAC,EAACA,EAEpB/B,EAAWiC,uBACf,SAAC5c,GACC,OAAA2I,0BAAA,GACKuB,IAAkB,IACrBjB,iBAAiB,GAAD7G,OAAKpC,EAAI,uBACzB4a,KAAMF,GAEV,GACA,CAACA,IAGKmC,EAA8BF,EAA9BE,cAAeC,EAAeH,EAAfG,WAEjBC,EAAeH,uBACnB,SAAChU,GAEC6T,EAAO7T,GAAO,EAChB,GACA,CAAC6T,IAGGO,EAAgBJ,uBAAY,WAChCJ,GACF,GAAG,CAACA,IAEEN,EACJhe,cAAC+d,GAAe,CACdE,OAAQxd,OAAOse,QAAQJ,GAAehe,QAAO,SAAUgZ,EAAGxD,GAAe,IAAV8H,EAAS3L,YAAA6D,EAAA,GAAH,GACnE,MAAM,GAANjS,OAAA8a,aAAWrF,GAAGqF,aAAKf,GACrB,GAAG,MAIP,OACE/C,eAAC+D,KAAM,CACL/e,MAAI,EACJoe,QAASzS,GAAgByS,EAAhBzS,CAAyB4Q,EAAS,UAC3CyC,sBAAoB,EACpB,kBAAgB,2BAChB,mBAAiB,iCAAgC9e,SAAA,CAEjDJ,cAACmf,KAAW,CAAC5J,GAAG,2BAA0BnV,SACvC2H,GAAgB3F,kBAEnBpC,cAACof,KAAa,CAAAhf,SACZJ,cAACqf,KAAiB,CAAC9J,GAAG,iCAAiC4D,UAAU,MAAK/Y,SACnE4d,MAGL9C,eAACoE,KAAa,CAAAlf,SAAA,CACZJ,cAAC4X,GAAM,CAACE,QAASjM,GAAgBiT,EAAhBjT,CAA+B4Q,EAAS,YAAYrc,SAClE4H,GAAiBvF,iBAElBmc,GACA5e,cAAC4X,GAAM,CAACE,QAASjM,GAAgBgT,EAAhBhT,CAA8B4Q,EAAS,WAAWrc,SAChE4H,GAAiBxF,oBAM9B,EClCe+c,GAvDa,SAAH3R,GAMlB,IALL1N,EAAI0N,EAAJ1N,KACAsf,EAAO5R,EAAP4R,QACYnX,EAAYuF,EAAxB7D,SAAY1B,aACZoX,EAAqB7R,EAArB6R,sBACAjD,EAAW5O,EAAX4O,YAEAkD,EAAwB/W,GAAuBN,GAAvClC,EAAKuZ,EAALvZ,MAAOC,EAAIsZ,EAAJtZ,KAETqW,EAAW,SAAC3a,GAChB,OAAA2I,0BAAA,GACKuB,IAAkB,IACrBjB,iBAAiB,GAAD7G,OAAKpC,EAAI,yBACzB4a,KAAMF,GAEV,EAEMmD,EAAQ,WAAH,OAASH,GAAQ,EAAO,EAOnC,OACEtE,eAAC+D,KAAM,CACL/e,KAAMA,EACNoe,QAASzS,GAAgB8T,EAAhB9T,CAAuB4Q,EAAS,UACzCyC,sBAAoB,EACpB,kBAAgB,2BAChB,mBAAiB,iCAAgC9e,SAAA,CAEjDJ,cAACmf,KAAW,CAAC5J,GAAG,2BAA0BnV,SAAE+F,IAC5CnG,cAACof,KAAa,CAAAhf,SACZJ,cAACqf,KAAiB,CAAC9J,GAAG,iCAAiC4D,UAAU,MAAK/Y,SACnEgG,EAAKmV,KAAI,SAACC,EAAMC,GAAC,OAChBP,eAAC1J,IAAMmK,SAAQ,CAAAvb,SAAA,CACbJ,cAACoZ,GAAY,CAAAhZ,SAAEob,IACdC,IAAMrV,EAAK4G,OAAS,GAAKhN,cAAA,WAAM,QAAAkE,OAFLuX,GAGZ,QAIvBP,eAACoE,KAAa,CAAAlf,SAAA,CACZJ,cAAC4X,GAAM,CAACE,QAASjM,GAAgB8T,EAAhB9T,CAAuB4Q,EAAS,aAAarc,SAC3D4H,GAAiBhF,KAEpBhD,cAAC4X,GAAM,CAACE,QAASjM,IA5BT,WACZ2T,GAAQ,GACRC,GACF,GAyBuB5T,CAAuB4Q,EAAS,UAAUrc,SACxD4H,GAAiBjF,WAK5B,ECtDM0Z,GAAW,SAAC3a,GAChB,OAAA2I,0BAAA,GACKuB,IAAkB,IACrBjB,iBAAiB,GAAD7G,OAAKpC,EAAI,8BAE7B,EA4Ce8d,GA1CK,SAAHhS,GAA0C,IAApC1N,EAAI0N,EAAJ1N,KAAMsf,EAAO5R,EAAP4R,QAASrc,EAAayK,EAAbzK,cAC9B0c,EAAkB,WACtBL,GAAQ,EACV,EAOA,OACEtE,eAAC+D,KAAM,CACL/e,KAAMA,EACNgf,sBAAoB,EACpBZ,QAASzS,GAAgBgU,EAAhBhU,CAAiC4Q,GAAS,UACnD,kBAAgB,2BAChB,mBAAiB,iCAAgCrc,SAAA,CAEjDJ,cAACmf,KAAW,CAAC5J,GAAG,2BAA0BnV,SACvC8H,GAAkB5G,mBAErBtB,cAACof,KAAa,CAAAhf,SACZJ,cAACqf,KAAiB,CAAC9J,GAAG,iCAAiC4D,UAAU,MAAK/Y,SACpEJ,cAACoZ,GAAY,CAAAhZ,SAAE8H,GAAkB3G,sBAGrC2Z,eAACoE,KAAa,CAAAlf,SAAA,CACZJ,cAAC4X,GAAM,CACLE,QAASjM,GAAgBgU,EAAhBhU,CACP4Q,GAAS,oBACTrc,SAED4H,GAAiB9E,sBAEpBlD,cAAC4X,GAAM,CAACE,QAASjM,IA7BL,WAChB1I,IACAqc,GAAQ,EACV,GA0BuB3T,CAA2B4Q,GAAS,kBAAkBrc,SACpE4H,GAAiB7E,qBAK5B,E,8BCzDe,OAA0B,kCCSnCzD,I,OAAYC,aAAW,SAACC,GAAK,MAAM,CACvCuG,MAAO,CAAE2Z,SAAU,GACpB,KA8BcC,GA5BI,SAAHnS,GAA2C,IAArCzH,EAAKyH,EAALzH,MAAmB6Z,EAAQpS,EAApB7D,SAAYiW,SACjC5H,EAAU1Y,KAUhB,OARA8S,qBAAU,WACJwN,GACFpL,SAASqL,KAAKC,iBAAiB,qBAAqB1T,SAAQ,SAACuM,GAC3DA,EAAKzJ,KAAI,GAAApL,OAAM8b,EACjB,GAEJ,GAAG,CAACA,IAGFhgB,cAAAsd,WAAA,CAAAld,SACEJ,cAACmgB,KAAM,CAACC,SAAS,SAAQhgB,SACvB8a,eAACmF,KAAO,CAAC9K,GAAG,iBAAgBnV,SAAA,CAC1BJ,cAAA,OACEuV,GAAG,0BACH+K,IAAKN,GAAYO,GACjBC,IAAI,oBAENxgB,cAAC4Y,KAAU,CAACrD,GAAG,cAAcmD,QAAQ,KAAKvY,UAAWiY,EAAQjS,MAAM/F,SAChE+F,GAAgBnG,cAACygB,KAAQ,CAAC/H,QAAQ,iBAM/C,E,8FC3BM+D,GAAW,SAAC3a,EAAM0a,GACtB,OAAA/R,0BAAA,GACKuB,IAAkB,IACrBjB,iBAAiB,GAAD7G,OAAKpC,EAAI,4BACzB4a,KAAMF,GAEV,EA0DekE,GAxDI,SAAH9S,GAKT,IAJL1N,EAAI0N,EAAJ1N,KACAsf,EAAO5R,EAAP4R,QACYnX,EAAYuF,EAAxB7D,SAAY1B,aACZmU,EAAW5O,EAAX4O,YAEAK,EAAsBC,eAAd7P,EAAG4P,EAAH5P,IAAK3C,EAAIuS,EAAJvS,KACL2H,EAAYJ,qBAAWC,IAAvBG,QAEF0O,EAAW,WACfnB,GAAQ,EACV,EAaA,OACEtE,eAAC+D,KAAM,CACL/e,KAAMA,EACNoe,QAASzS,GAAgB8U,EAAhB9U,CAA0B4Q,GAAS,QAASD,IACrD0C,sBAAoB,EACpB,kBAAgB,2BAChB,mBAAiB,iCAAgC9e,SAAA,CAEjDJ,cAACmf,KAAW,CAAC5J,GAAG,2BAA0BnV,SACvC8H,GAAkB9G,kBAErBpB,cAACof,KAAa,CAAAhf,SACZJ,cAACqf,KAAiB,CAAC9J,GAAG,iCAAgCnV,SACnD8H,GAAkB7G,mBAGvB6Z,eAACoE,KAAa,CAAAlf,SAAA,CACZJ,cAAC4X,GAAM,CACLE,QAASjM,GAAgB8U,EAAhB9U,CAA0B4Q,GAAS,WAAYD,IAAcpc,SAErE4H,GAAiBhF,KAEpBhD,cAAC4X,GAAM,CACLE,QAASjM,IAnCH,WACZ2T,GAAQ,GACJnX,IAAiBzE,GAAaqJ,GAChC9I,OAAOjE,KAAK,GAADgE,OACN+N,EAAO,KAAA/N,OAAI+I,EACXG,OAAO,EAAGH,EAAIE,QAAQ,MACtBE,cAAa,oCAAAnJ,OAAmCoG,GACnD,SAGN,GAyBiBuB,CAAuB4Q,GAAS,QAASD,IAAcpc,SAE/D4H,GAAiBjF,WAK5B,E,mBC1Ea6d,GAAiBC,KACjBnf,GAAiBof,KAAa,oBAAoBC,QAAQ,IAAK,ICGtErhB,GAAYC,YAAW,CAC3ByX,KAAM,CACJ4J,UAAW,SACXC,QAAS,iBAIAC,GAAa,SAAHtT,GAAuB,IAAjBzN,EAASyN,EAATzN,UACrBiY,EAAU1Y,KAChB,OACEM,cAAC4Y,KAAU,CAACzY,UAAS,GAAA+D,OAAK/D,EAAS,KAAA+D,OAAIkU,EAAQhB,MAAOhX,SAAA,aAAA8D,OACtC0c,GAAc,iBAAA1c,OAAgBxC,KAGlD,EC8Eeyf,GA9EI,SAAHvT,GAAmD,IAA7C7D,EAAQ6D,EAAR7D,SAAUyS,EAAW5O,EAAX4O,YAAa1Z,EAAc8K,EAAd9K,eAC3CoP,EAA4BC,oBAAS,GAAME,EAAAC,YAAAJ,EAAA,GAApCkP,EAAM/O,EAAA,GAAEgP,EAAShP,EAAA,GACxBiP,EAAoCnP,oBAAS,GAAMoP,EAAAjP,YAAAgP,EAAA,GAA5CE,EAAUD,EAAA,GAAEE,EAAaF,EAAA,GACxBlZ,EAAiB0B,EAAjB1B,aAEAyH,EAAmB+B,qBAAWN,IAA9BzB,eAER0C,qBAAU,WAER,OADArO,OAAOuI,iBAAiB,SAAUgV,GAC3B,WACLvd,OAAOwd,oBAAoB,SAAUD,EACvC,CACF,GAAG,IAEH,IAlBgB5f,EAAM4a,EAsBhBgF,EAAY,WAChBL,GAAU,EACZ,EAEA,OACEnG,eAAAoC,WAAA,CAAAld,SAAA,CACE8a,eAAA,OAAK3F,GAAG,aAAapV,UAAWihB,EAAS,SAAW,SAAShhB,SAAA,CAC3D8a,eAAA,OAAK3F,GAAG,qBAAoBnV,SAAA,CAC1B8a,eAAC0G,KAAU,CACTzhB,UAAU,mBACV,aAAW,aACXsX,MAAM,UACNK,QAAS,kBAAM2J,GAAc,EAAK,EAACrhB,SAAA,CAEnCJ,cAAC6hB,KAAI,IAAG,OAER7hB,cAAA,QAAMG,UAAU,qBAAoBC,SAAE+H,GAAiB7E,UAExDwM,GAAkBzH,IAAiBzE,GAClCsX,eAAC0G,KAAU,CACTzhB,UAAU,mBACV,aAAW,iBACXsX,MAAM,UACNK,QAASjM,GAAgB/I,EAAhB+I,EA7CL/J,EA8CO,SA9CD4a,EA8CWF,EA7CjC/R,0BAAA,GAAYuB,IAAkB,IAAEjB,iBAAiB,GAAD7G,OAAKpC,EAAI,WAAW4a,WA8CtDtc,SAAA,CAEFJ,cAAC8hB,KAAS,IAAG,OAEb9hB,cAAA,QAAMG,UAAU,qBAAoBC,SACjC+H,GAAiB5E,UAIxBvD,cAACkhB,GAAU,CAAC/gB,UAAU,kBAExB+a,eAAA,OAAK3F,GAAG,sBAAqBnV,SAAA,CAC3BJ,cAAC4Y,KAAU,CAACrD,GAAG,qBAAoBnV,SAChC+H,GAAiB3E,OAEpBxD,cAAC4hB,KAAU,CACTrM,GAAG,uBACHwM,KAAK,QACLtK,MAAM,UACN,aAAW,OACXK,QAAS,WAhDjBuJ,GAAWD,EAgDwB,EAAChhB,SAE3BghB,EAASphB,cAACgiB,KAAK,IAAMhiB,cAACiiB,KAAQ,YAIrCjiB,cAACkiB,GAAiB,CAChBhiB,KAAMshB,EACNhC,QAASiC,EACT1X,SAAUA,EACVyS,YAAaA,MAIrB,EChGa2F,GAAe,cACfC,GAAkB,iBAClBC,GAAW,UAEXC,GAAgB,SAAC5F,GAAI,OAC/B,CAACyF,GAAcC,GAAiBC,IAAUhF,SAASX,EAAM,ECL/C6F,GAAqB,SAAC9O,EAAM+O,GACvC,IAAMC,EACJ,gCACA5d,mBAAmB+O,KAAKC,UAAUJ,EAAM,KAAM,OAC1CiP,EAAqB9N,SAASC,cAAc,KAClD6N,EAAmBC,aAAa,OAAQF,GACxCC,EAAmBC,aAAa,WAAYH,EAAW,SACvD5N,SAASxO,KAAKwc,YAAYF,GAC1BA,EAAmB3N,QACnB2N,EAAmB1N,QACrB,ECHMtV,I,OAAYC,aAAW,SAACC,GAAK,MAAM,CACvCwX,KAAM,CACJC,gBAAiB,aACjBwL,OAAQ,EACRC,KAAM,EACNC,IAAK,OACLC,MAAO,OACP5C,SAAU,QACVlG,QAAS,OACTkC,eAAgB,WAChB6G,WAAY,SACZC,KAAM,WACNC,UAAW,iBACXC,WAAY,MACZC,cAAe,MACfvjB,OAAQ,OAEVwjB,UAAW,CACT,eAAgB,CACdtJ,YAAa,MACbD,WAAY,QAGjB,KA6CcwJ,GA3CW,SAAH3V,GAKhB,IAJL4O,EAAW5O,EAAX4O,YACAgH,EAAU5V,EAAV4V,WACAC,EAAM7V,EAAN6V,OACAhE,EAAqB7R,EAArB6R,sBAEMrH,EAAU1Y,KAMVgkB,EACJlH,IAAgB4F,GAAkB3C,EAAwBgE,EAEtDhH,EAAW,SAAC3a,GAChB,OAAA2I,0BAAA,GACKuB,IAAkB,IACrBjB,iBAAiB,GAAD7G,OAAKpC,EAAI,WACzB4a,KAAMF,GAEV,EACA,OACEtB,eAAA,UAAQyI,KAAK,aAAaxjB,UAAWiY,EAAQhB,KAAKhX,SAAA,CAC/Coc,IAAgB2F,IACfniB,cAAC4X,GAAM,CACLzX,UAAWiY,EAAQkL,UACnBxL,QAASjM,GAAgB2X,EAAhB3X,CAA4B4Q,EAAS,aAAarc,SAE1D4H,GAAiBtF,OAGtB1C,cAAC4X,GAAM,CACLzX,UAAWiY,EAAQkL,UACnBxL,QAASjM,GAAgB6X,EAAhB7X,CAA8B4Q,EAAS,SAChDlH,GAAI,cAAcnV,SA3BlBoc,IAAgB2F,GAAqBna,GAAiB1F,MACtDka,IAAgB4F,GAAwBpa,GAAiBrF,KACtDqF,GAAiBzF,gBA+B5B,ECtDaqhB,GAAgB,SAACna,GAC5B,KAR6B,SAACA,GAC9B,IAAMoa,EAAajP,SAASC,cAAc,QAC1CgP,EAAWC,IAAM,aACjBD,EAAWvU,KAAO7F,EAClBmL,SAASqL,KAAK2C,YAAYiB,EAC5B,CAIIE,CAAuBta,EACzB,CAAE,MAAOsC,IArBkB,SAACtC,GAC5BC,MAAMD,GACHE,MAAK,SAACuJ,GAAQ,OAAKA,EAAS8Q,MAAM,IAClCra,MAAK,SAACqa,GACL,IAAMH,EAAajP,SAASC,cAAc,SAC1CgP,EAAW/hB,KAAO,WAClB+hB,EAAWI,UAAYD,EACvBpP,SAASqL,KAAK2C,YAAYiB,EAC5B,GACJ,CAaIK,CAAqBza,EACvB,CACF,E,oBCrBa0a,GAAe3S,IAAMC,gBAsCnB2S,GApCO,SAAHxW,GAAsB,IAAhBxN,EAAQwN,EAARxN,SACvB8R,EAA0BC,mBAAS,CACjCmF,QAAS,CACPxV,KAAM,QACN4V,QAAS,CACPF,KAAM,WAERD,UAAW,CACTC,KAAM,WAER6M,WAAY,CAAC,KAEfhS,EAAAC,YAAAJ,EAAA,GAXKtS,EAAKyS,EAAA,GAAEiS,EAAQjS,EAAA,GAYtBiP,EAAsCnP,mBAAS,IAAGoP,EAAAjP,YAAAgP,EAAA,GAA3CiD,EAAWhD,EAAA,GAAEiD,EAAcjD,EAAA,GAE5BkD,EAAaC,mBAAQ,kBAAMC,aAAY/kB,EAAM,GAAE,CAACA,IAEtD4S,qBAAU,WACJiH,MAAMC,QAAQ6K,IAAgBA,EAAYvX,OAAS,GACrDuX,EAAY/X,SAAQ,SAACoY,GACfA,EAAcC,SAAS,SACzBjB,GAAcgB,EAElB,GAEJ,GAAG,CAACL,IAEJ,IAAMO,EAAU,CAAER,WAAUE,kBAE5B,OACExkB,cAACmkB,GAAaxR,SAAQ,CAACtM,MAAOye,EAAQ1kB,SACpCJ,cAAC+kB,KAAa,CAACnlB,MAAO6kB,EAAWrkB,SAAEA,KAGzC,ECrCa4kB,GAAe,SAAHpX,GAAgC,IAA1BxN,EAAQwN,EAARxN,SAAU2J,EAAQ6D,EAAR7D,SACvC6H,EAAqCC,qBAAWsS,IAAxCG,EAAQ1S,EAAR0S,SAAUE,EAAc5S,EAAd4S,eAYlB,OAVAhS,qBAAU,WACR,GAAY,OAARzI,QAAQ,IAARA,KAAUkb,MAAO,CACnB,IAAAC,EAEInb,EADFkb,MAASrlB,EAAKslB,EAALtlB,MAAO2kB,EAAWW,EAAXX,YAEdA,GAAaC,EAAeD,GAC5B3kB,GAAO0kB,EAAS1kB,EACtB,CACF,GAAG,CAACmK,EAAUua,EAAUE,IAEjBpkB,CACT,E,iDCSa+kB,GAAe,SAAHvX,GAalB,IAZLwX,EAAMxX,EAANwX,OACgBC,EAAIzX,EAApB9K,eACAwiB,EAAW1X,EAAX0X,YACAvb,EAAQ6D,EAAR7D,SACAwb,EAAI3X,EAAJ2X,KACAC,EAAU5X,EAAV4X,WACAC,EAAW7X,EAAX6X,YACAC,EAAQ9X,EAAR8X,SACAC,EAAc/X,EAAd+X,eACAC,EAAQhY,EAARgY,SACAC,EAAUjY,EAAViY,WACAC,EAAoBlY,EAApBkY,qBAEM1N,EAAU1Y,KACVqmB,EAASnQ,mBACf1D,EAAwBC,oBAAS,GAAME,EAAAC,YAAAJ,EAAA,GAAhCvD,EAAI0D,EAAA,GAAE2T,EAAO3T,EAAA,GACpBiP,EAA4DnP,oBAAS,GAAMoP,EAAAjP,YAAAgP,EAAA,GAApE2E,EAAsB1E,EAAA,GAAE5D,EAAyB4D,EAAA,GAEhDhF,EAAqC+I,EAArC/I,UAAW9I,EAA0B6R,EAA1B7R,KAAMiH,EAAoB4K,EAApB5K,gBACzBwL,EAAgD/T,mBAASoK,GAAU4J,EAAA7T,YAAA4T,EAAA,GAA5DE,EAAgBD,EAAA,GAAEE,EAAmBF,EAAA,GAE5CG,EAAkCnU,mBAChCoK,IACuB,cAApBA,EAAUgK,OACW,cAApBhK,EAAUgK,OACU,cAApBhK,EAAUgK,QACfC,EAAAlU,YAAAgU,EAAA,GALMG,EAASD,EAAA,GAAEE,EAAYF,EAAA,GAONG,EAAqB3Q,KAArCC,eACF2Q,EAAc,SAAC7a,GAAC,OAAKP,GAASf,0BAAC,CAAC,EAAIsB,GAAC,IAAE2Q,KAAMF,KAAe,EAClEqK,EAWIC,cAAmB1B,EAAQ3R,EAAM,CACnC+R,aACAC,cAIAC,WACAC,iBACAE,aACAC,uBACAa,mBACAC,gBArBAG,EAAaF,EAAbE,cACAC,EAAOH,EAAPG,QACAC,EAAOJ,EAAPI,QACSvK,EAAImK,EAAbK,MAASxK,KACTyK,EAAUN,EAAVM,WACAC,EAAcP,EAAdO,eACAC,EAAWR,EAAXQ,YACAC,EAAUT,EAAVS,WACAC,EAAeV,EAAfU,gBACAC,EAAOX,EAAPW,QAeIC,EAAaV,IAEnBW,GAAsCvV,oBAAS,WAC7C,OAAIsU,EAAkBpE,GACT,OAAT9F,QAAS,IAATA,KAAWC,YACNE,EAEFyF,EACT,IAAEwF,GAAArV,YAAAoV,GAAA,GANKlL,GAAWmL,GAAA,GAAEC,GAAcD,GAAA,GAQ5BE,GAAkBnJ,uBACtB,SAACoJ,GACC,IAAMC,EAAe,CACnBxB,MAAe,OAARuB,QAAQ,IAARA,IC9FK,OD+FZxL,MAAM,IAAIzR,MAAOC,UACjB0R,YAAaA,IAGf,OADA6J,EAAoB0B,GACbA,CACT,GACA,CAACvL,KAGG1Z,GAAc,eAAAyK,EAAAC,YAAAC,cAAAC,MAAG,SAAAyB,IAAA,IAAA6Y,EAAAC,EAAA,OAAAxa,cAAAa,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,UAChBgY,EAAU,CAADrX,EAAAX,KAAA,QAKX,OAJKuZ,EAA4BH,KAC5BI,EAAa,CACjB1L,UAAWyL,EACXvU,KAAM+T,KACPpY,EAAAX,KAAA,EACK8W,EAAK0C,GAAY,KAAD,EAExB5C,IAAO,wBAAAjW,EAAAO,OAAA,GAAAR,EAAA,KACR,kBAVmB,OAAA5B,EAAAqC,MAAA,KAAAC,UAAA,KAgCpBqY,GAAsC/V,mBAAS,CAAC,GAAEgW,GAAA7V,YAAA4V,GAAA,GAA3CE,GAAWD,GAAA,GAAEE,GAAcF,GAAA,GAClCG,GAA4CnW,mBAAS,MAAKoW,GAAAjW,YAAAgW,GAAA,GAAnDE,GAAcD,GAAA,GAAEE,GAAiBF,GAAA,GAClCG,GAAmBhK,uBAAY,kBAAM+J,QAAkB1S,EAAU,GAAE,IAEnE4S,GAAejK,uBACnB,SAACkK,EAAgBlF,GACf,GAAIkF,EAAgBlF,QACf,CACH,IAAAmF,EAAsCtB,IAA9B5I,EAAakK,EAAblK,cAAeC,EAAUiK,EAAVjK,WACvByJ,GAAc5d,0BAAC,CAAC,EAAI2d,IAAW,GAAAU,aAAA,GAAG7B,EAAUtI,GAAiB,CAAC,KAC1DA,GAAiBle,OAAOC,KAAKie,GAAe3R,OAAS,EACvDyb,GAAkB,CAAE9J,gBAAeC,eAC9B8E,GACT,CACF,GACA,CAAC6D,EAAiBa,GAAanB,IAG3BxD,GAAS/E,uBACb,SAAChU,GAAmC,IAA5Bke,EAAc/Y,UAAA7C,OAAA,QAAA+I,IAAAlG,UAAA,IAAAA,UAAA,GAEpB,GADA6Y,KACIlM,KAAgB2F,GAAcyF,GAAelL,OAC5C,CACH,IACMuL,EAAa,CACjB1L,UAFwBsL,KAGxBpU,KAAM+T,KAEHF,GAMH/B,EAAK0C,GACLU,GAAaC,GAAgB,kBAAMhB,GAAexF,GAAgB,MErJ/C,SAACqF,GAAU,OACtCA,EAAWsB,MAAK,SAAChd,GAAC,MAAyB,aAApBA,EAAEid,aAA4B,GAAE,CF8I3CC,CAAcxB,IAChBlC,EAAK0C,GAEPU,GAAaC,EAAgBzB,GAKjC,CAxDEpB,GAAUA,EAAOlQ,UACnBkQ,EAAOlQ,QAAQqT,UAAY,EAC3BnD,EAAOlQ,QAAQsT,QACfpD,EAAOlQ,QAAQuT,OACfjlB,OAAOklB,SAAS,CAAEtG,IAAK,IACvBgD,EAAOlQ,QAAQyT,gBAAgB,YAqDjC,GACA,CACEZ,GACAjB,EACAjL,GACAgL,EACAL,EACAwB,GACArB,EACA5K,EACA6I,EACAsC,KAYJrV,qBAAU,WACJ8P,GAAc9F,KAChBoL,GAAelL,EAEnB,GAAG,CAACF,GAAaE,IAmCjB,OACExB,eAAC8J,GAAY,CAACjb,SAAUA,EAAS3J,SAAA,CAC/BJ,cAACmhB,GAAU,CACThb,MAAa,OAANif,QAAM,IAANA,OAAM,EAANA,EAAQnK,MAAM5U,MACrB0D,SAAUA,EACVyS,YAAaA,GACb1Z,eAAgBA,KAElB9C,cAACmgB,GAAM,CAACha,MAAa,OAANif,QAAM,IAANA,OAAM,EAANA,EAAQnK,MAAM5U,MAAO0D,SAAUA,IAC9CmR,eAACqO,KAAS,CACRC,SAAS,KACTrQ,UAAU,OACVwK,KAAK,OACLpO,GAAG,OACHkU,IAAK1D,EACL5lB,UAAWiY,EAAQhB,KAAKhX,SAAA,CAGvBoc,KAAgB2F,IACfniB,cAACqa,GAAW,CAACtQ,SAAUA,EAAU2Q,gBAAiBA,IAEnD4H,GAAc9F,KArDnBxc,cAACmb,KAAI,CACHhb,UAAS,6BAAA+D,OAA+BkU,EAAQe,WAAY/Y,SAG3DqnB,EAAWlM,KAAI,SAACpC,GACf,IAAQ5D,EAAqD4D,EAArD5D,GAAIyT,EAAiD7P,EAAjD6P,cAAe9V,EAAkCiG,EAAlCjG,SAAwB+E,GAAUkB,EAAxBuQ,UAAmBxR,aAAKiB,EAAShB,KAChEwR,EAAY7C,GAAQkC,GAC1B,OACEhpB,cAAA,OACEG,UAAS,oCAAA+D,OAAsC8kB,GAAgB5oB,SAG/DJ,cAAC2pB,EAASlf,0BAAA,CACR8K,GAAIA,EACJrC,SAAUA,EACVsS,WAAYA,EACZC,YAAaA,EACbmE,SAAUhE,EACV/N,SAAU+N,EACViE,cAAc,MACdjD,YAAaA,EACbkD,mBAAmB,EACnB7L,OAAQmK,GAAYnB,IAChBhP,GACAkB,KACJ,aAAAjV,OAfgBqR,GAkBxB,KAAE,aA0BCiH,KAAgB4F,IACfpiB,cAAC0d,GAAc,CACb3T,SAAUA,EACV4T,0BAA2BA,EAC3BnB,YAAaA,KAGhBA,KAAgB6F,IACfriB,cAACqc,GAAO,CACNvZ,eAAgBA,GAChBiH,SAAUA,EACVwS,UAAW6J,EACX5J,YAAaA,GACb9B,gBAAiBA,QAIrB+L,GACAzmB,cAACujB,GAAiB,CAChBE,OAAQA,GACRD,WAzFW,WACbhH,KAAgB4F,GAAiBwF,GAAelL,GAE7C2K,EACAO,GAAezF,IADFiF,GAGtB,EAoFQ5K,YAAaA,GACbiD,sBAAuB,kBAAM9B,GAA0B,EAAK,IAG/D6K,IACCxoB,cAACqe,GAAW,CACV7B,YAAaA,GACbyB,OAAQuK,GACRjK,OAAQkF,GACRnF,QAASoK,KAGb1oB,cAAC4f,GAAW,CACV1f,MAAOyO,IAAS8X,KAAwB,OAATlK,QAAS,IAATA,MAAWC,aAC1CgD,QAAS,SAACuK,GAAC,OAAK/D,GAAS+D,EAAE,EAC3B5mB,cAAe,WACbykB,GAAezF,GACjB,IAEFniB,cAACuf,GAAmB,CAClBrf,KAAM+lB,EACNzG,QAAS7B,EACT5T,SAAUA,EACV0V,sBAlLwB,WAC5BiH,GAAa,GACb,IACMuB,EAAa,CACjB1L,UAF0BsL,GC7HP,aDgInBpU,KAAM+T,KAERjC,EAAK0C,GACLL,GAAevF,GACjB,EA0KM7F,YAAaA,KAEdwK,GAAWhnB,cAAC0S,EAAY,MAG/B,EAEMhT,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCwX,KAAM,CACJ8L,KAAM,WACN7L,gBAAiB,aACjB4J,QAAS,IACTmC,WAAY,MACZC,cAAe,MACf2G,aAAc,QAEhB7Q,UAAW,CACT8H,QAAS,OACTgJ,SAAU,UACV,MAAO,CAAEC,WAAY,+CAExB,IGhTKxqB,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCwX,KAAM,CACJ8C,QAAS,OACTiQ,UAAW,OACXlO,cAAe,UAElB,IAwGcmO,GAtGa,WAC1B,IAAQ9U,EAAWzD,qBAAWC,IAAtBwD,OAEF8C,EAAU1Y,KAChBwS,EAA4BC,oBAAS,GAAME,EAAAC,YAAAJ,EAAA,GAApCkT,EAAM/S,EAAA,GAAEgY,EAAShY,EAAA,GACxBwK,EAAgCC,eAAxB8I,EAAQ/I,EAAR+I,SAAU3Y,EAAG4P,EAAH5P,IAAK3C,EAAIuS,EAAJvS,KAEjBggB,EAASjf,GAAckf,kBAAkB,CAC7CC,gBAAiBvd,EACjB1C,aAAcD,EACdW,eACE2a,IAAa/hB,E3C9BkB,wBADD,yB2CkClC4mB,EzB4C8B,SAACjU,EAAcC,GAC7C,IAAAvE,EAA0CC,mBAAS,MAAKE,EAAAC,YAAAJ,EAAA,GAAjDwY,EAAarY,EAAA,GAAEsY,EAAgBtY,EAAA,GACtCiP,EAAgCnP,mBAAS,MAAKoP,EAAAjP,YAAAgP,EAAA,GAAvCvX,EAAQwX,EAAA,GAAEqJ,EAAWrJ,EAAA,GAC5B2E,EAA4B/T,mBAAS,MAAKgU,EAAA7T,YAAA4T,EAAA,GAAnC2E,EAAM1E,EAAA,GAAE2E,EAAS3E,EAAA,GACxBG,EAA0CnU,mBAAS,MAAKqU,EAAAlU,YAAAgU,EAAA,GAAjDyE,EAAavE,EAAA,GAAEwE,EAAgBxE,EAAA,GACtCkB,EAA8BvV,oBAAS,GAAKwV,EAAArV,YAAAoV,EAAA,GAArCuD,EAAOtD,EAAA,GAAEuD,EAAUvD,EAAA,GAC1BO,EAAwC/V,mBAAS,MAAKgW,EAAA7V,YAAA4V,EAAA,GAA/CvmB,EAAYwmB,EAAA,GAAEgD,EAAehD,EAAA,GACpCiD,EACE7U,GAAOC,EAAcC,GADfK,EAASsU,EAATtU,UAAWJ,EAAwB0U,EAAxB1U,yBAA0BE,EAAgBwU,EAAhBxU,iBAAkBC,EAAWuU,EAAXvU,YAiC/D,OA9BArE,qBAAU,WACR,GAAIiE,GAAmBD,EAAc,CACnC2U,EAAgB,MAChBH,EAAiB,MACjB,IAAMK,EAAI,eAAAzd,EAAAJ,YAAAC,cAAAC,MAAG,SAAAyB,IAAA,IAAAmc,EAAAC,EAAAC,EAAAC,EAAA,OAAAhe,cAAAa,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,cAAAW,EAAAX,KAAA,EACMmI,IAAmB,KAAD,EAA3B,OAAF0U,EAAElc,EAAAH,KAAAG,EAAAX,KAAA,EACSiI,IAA2B,KAAD,EAAnC,GAAF6U,EAAEnc,EAAAH,KACHqc,EAAGtc,MAAM,CAADI,EAAAX,KAAA,SAEe,OAD1Bkc,EAAiBW,EAAG7X,KAAKpN,OACzB2kB,EAAiBO,EAAG9X,MAAMrE,EAAAX,KAAA,GACToI,IAAc,KAAD,GAAtB,IAAF2U,EAAEpc,EAAAH,MACAD,MAAM,CAADI,EAAAX,KAAA,SACU,OAArBmc,EAAYY,EAAG/X,MAAMrE,EAAAX,KAAA,GACJqI,IAAY,KAAD,IAAtB2U,EAAErc,EAAAH,MACAD,MAGDmc,EAAgBrV,GAAgB2V,EAAI,OAFzCX,EAAUW,EAAGhY,MACbyX,GAAW,IAEbA,GAAW,GAAO9b,EAAAX,KAAA,iBACb0c,EAAgBrV,GAAgB0V,EAAI,MAAM,QACjDN,GAAW,GAAO9b,EAAAX,KAAA,iBACb0c,EAAgBrV,GAAgBwV,EAAI,MAAM,QACjDJ,GAAW,GAAO,yBAAA9b,EAAAO,OAAA,GAAAR,EAAA,KACnB,kBAnBS,OAAAvB,EAAAgC,MAAA,KAAAC,UAAA,KAoBVwb,GACF,CAGF,GAAG,CAAC7U,EAAcC,IAEX,CACLwU,UACAtpB,eACAkpB,SACAH,gBACA3gB,WACAghB,gBAEJ,CyBrFMW,CAAiBphB,EAAM2C,GANzB4d,EAAMJ,EAANI,OACAH,EAAaD,EAAbC,cACAK,EAAaN,EAAbM,cACAhhB,EAAQ0gB,EAAR1gB,SACAkhB,EAAOR,EAAPQ,QACAtpB,EAAY8oB,EAAZ9oB,aAGFypB,EAAgD7U,GAAOjM,EAAM2C,GAArDgK,EAAOmU,EAAPnU,QAASC,EAAYkU,EAAZlU,aAAcC,EAAYiU,EAAZjU,aAE/BwU,EAA6C9Z,qBAAWN,IAAhD1O,EAAM8oB,EAAN9oB,OAAQ6N,EAAQib,EAARjb,SAAUZ,EAAc6b,EAAd7b,eAE1BwR,EAAoCnP,mBAAS,MAAKoP,EAAAjP,YAAAgP,EAAA,GAA3CuE,EAAUtE,EAAA,GAAEqK,EAAarK,EAAA,GAEhC2E,EAAwC/T,mBAAS,MAAKgU,EAAA7T,YAAA4T,EAAA,GAA/C2F,EAAY1F,EAAA,GAAE2F,EAAe3F,EAAA,GAE9B4F,EAAQ,eAAAne,EAAAJ,YAAAC,cAAAC,MAAG,SAAAyB,EAAO8Y,GAAU,IAAAxU,EAAA8I,EAAAyP,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAA7e,cAAAa,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,UAC3BmX,EAAS,CAADxW,EAAAX,KAAA,SACY,OAAfgF,EAAoBwU,EAApBxU,KAAM8I,EAAc0L,EAAd1L,UAASnN,EAAAX,KAAA,EACwBwI,EAAQxD,GAAM,KAAD,EAAnC,OAAmCuY,EAAA5c,EAAAH,KAAjCgd,EAASD,EAAhBhd,MAAKI,EAAAX,KAAA,EAC2ByI,EAClDqF,GACA,KAAD,EACyC,OADzC2P,EAAA9c,EAAAH,KAF0Bkd,EAAcD,EAArBld,MAGdod,EAAY9B,EAAOiC,kBAAiBnd,EAAAX,KAAA,GACC0I,EAAaiV,GAAW,KAAD,GAAAC,EAAAjd,EAAAH,KAAnDqd,EAAiBD,EAAxBrd,OACJid,GAAaE,GAAkBG,IAC7BA,GAAmBR,EAAgB,wBACzCxB,EAAOkC,QAAQ,yBAAApd,EAAAO,OAAA,GAAAR,EAAA,KAElB,gBAbamC,GAAA,OAAA1D,EAAAgC,MAAA,KAAAC,UAAA,KAyCd,OAtBA2C,qBAAU,WACJ1C,GAAkB4a,IACpBJ,EAAOmC,YAAY,CAAEC,UAAmB,OAARhc,QAAQ,IAARA,OAAQ,EAARA,EAAUic,MAC1CrC,EAAO1e,IAAIM,IAGf,GAAG,CAAC4D,EAAgBwa,EAAQI,IAE5BlY,qBAAU,WACR,IAAKyY,GAAWP,GAAiBK,EAAe,CAC9C,IACkB6B,EACdlC,EADFzP,MAAS5U,MAEXlC,OAAOyQ,SAASzO,MAAQymB,EACxBvC,EAAUK,GACV,IAAMmC,EC1FV,SAACvX,GAAM,OACP,WAAyB,IAAxByV,EAAalb,UAAA7C,OAAA,QAAA+I,IAAAlG,UAAA,GAAAA,UAAA,GAAG,GACf,OAAI4J,MAAMC,QAAQqR,GACTA,EAAcpqB,QAAO,SAACklB,EAAYiH,GACvC,OAAAriB,0BAAA,GACKob,GAAU,GAAAiD,aAAA,GACZgE,EAXe,SAACxX,GAAM,OAAK,SAACC,GAAE,MAAM,CAC7C9L,IAAI,GAADvF,OAAKoR,EAAM,sBAAApR,OAAqBqR,GACpC,CAAE,CASuBwX,CAAkBzX,EAAlByX,CAA0BD,IAE9C,GAAG,CAAC,GAEC,CAAC,CACV,CAAE,CDgFIE,CAAgC1X,EAAhC0X,CAAwCjC,GAC1Ca,EAAciB,GACdvC,EAAO1e,IAAIK,GACb,CACF,GAAG,CAACye,EAAeO,EAASF,EAAezV,EAAQgV,IAGjDpP,eAAC+R,KAAG,CAAC9sB,UAAWiY,EAAQhB,KAAKhX,SAAA,CAC1B6qB,GAAWjrB,cAAC0S,EAAY,KACvBuY,GAAWtpB,GAAgB3B,cAAC4Y,KAAU,CAAAxY,SAAEuB,KACxCspB,GACAlhB,GACA8gB,GACAH,GACA7E,GACAT,GACEplB,cAACmlB,GAAY,CACXG,YAAauF,EACbzF,OAAQA,EACRrb,SAAUA,EACVjH,eAxCa,WACrBD,EAAO,UACT,EAuCUijB,sBAAsB,EACtBD,WAAYA,EACZN,KAAMwG,EACNvG,WAAW,YACXC,YAAa,CAAC,aACdC,SAAU,CAAC,MAAO,MAClBwH,YAAY,EACZvH,gBAAgB,EAChBC,SAAUA,IAGfiG,GAAgB7rB,cAAA,MAAAI,SAAI,6BAG3B,E,8BEzHMV,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvC6Y,QAAS,CACP0U,SAAUvtB,EAAMwtB,WAAWC,QAAQ,IACnCC,UAAW,MACXC,WAAY,GAEdC,iBAAkB,CAChBL,SAAUvtB,EAAMwtB,WAAWC,QAAQ,IACnC5V,MAAO7X,EAAM0X,QAAQ0M,KAAKzM,WAE5B0C,iBAAkB,CAChBC,QAAS,SAEZ,IAwBcuT,GAtBA,WACb,IAAMrV,EAAU1Y,KAChB,OACEwb,eAACU,KAAS,CAAAxb,SAAA,CACR8a,eAACW,KAAgB,CACfC,WAAY9b,cAAC+b,KAAU,IACvB,gBAAc,kBACdxG,GAAG,iBAAgBnV,SAAA,CAEnBJ,cAACoZ,GAAY,CAACjZ,UAAWiY,EAAQK,QAAQrY,SACtC6H,GAAoBzC,uBAEvBxF,cAACoZ,GAAY,CAACjZ,UAAWiY,EAAQoV,iBAAiBptB,SAC/C6H,GAAoBxC,6BAGzBzF,cAACgc,KAAgB,CAAC7b,UAAWiY,EAAQ6B,iBAAiB7Z,SACpDJ,cAACoZ,GAAY,CAAAhZ,SAAE6H,GAAoBvC,0BAI3C,E,8BCtCMhG,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvC8tB,YAAa,CACXxR,OAAQtc,EAAM2Y,QAAQ,GACtBoV,SAAU,KAEZC,YAAa,CACXtV,UAAW1Y,EAAM2Y,QAAQ,IAE5B,IAkCcsV,GAhCE,SAAHjgB,GAA8C,IAAxCkgB,EAAQlgB,EAARkgB,SAAUC,EAAWngB,EAAXmgB,YAAa5tB,EAASyN,EAATzN,UACnCiY,EAAU1Y,KAIhB,OACEwb,eAAC8S,KAAW,CAAC7tB,UAAS,GAAA+D,OAAKkU,EAAQsV,YAAW,KAAAxpB,OAAI/D,GAAYC,SAAA,CAC5DJ,cAACiuB,KAAU,CAACC,QAAQ,gBAAe9tB,SAChC6H,GAAoBnC,gBAEvBoV,eAACiT,KAAM,CACLC,QAAM,EACN/nB,MAAOynB,EACPO,SAXe,SAAC3jB,GACpBqjB,EAAYrjB,EAAMuO,OAAO5S,MAC3B,EAUMioB,WAAY,CACV1U,KAAM,gBACNrE,GAAI,iBACJnV,SAAA,CAEFJ,cAAA,UAAQqG,MAAM,GAAEjG,SAAE6H,GAAoBnC,gBACrC9B,EAAuBuX,KAAI,SAACgT,EAAG9S,GAC9B,OACEzb,cAAA,UAAgBqG,MAAOkoB,EAAEnuB,SACtBmuB,EAAEC,eADQD,EAIjB,SAIR,ECzBM7uB,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCwX,KAAM,CACJiM,cAAezjB,EAAM2Y,QAAQ,IAE/BpS,MAAO,CACL6a,UAAW,UAEbyN,gBAAiB,CACfvU,QAAS,OACT+I,WAAY,YAEdyL,UAAW,CACT3U,WAAYna,EAAM2Y,QAAQ,IAE5BoW,aAAc,CACZrW,UAAW1Y,EAAM2Y,QAAQ,GACzB2B,QAAS,OACTkC,eAAgB,UAElBwS,OAAQ,CACNC,aAAcjvB,EAAM2Y,QAAQ,GAC5BuW,YAAalvB,EAAM2Y,QAAQ,IAE9B,IAwIcwW,GAtIW,WACxB,IAAM3W,EAAU1Y,KAChBwS,EAA0CC,mBAAS,IAAGE,EAAAC,YAAAJ,EAAA,GAA/CwY,EAAarY,EAAA,GAAEsY,EAAgBtY,EAAA,GACtCiP,EAAgCnP,mBAAS,IAAGoP,EAAAjP,YAAAgP,EAAA,GAArCvX,EAAQwX,EAAA,GAAEqJ,EAAWrJ,EAAA,GAC5B2E,EAAwB/T,mBAAS,IAAGgU,EAAA7T,YAAA4T,EAAA,GAA7BzS,EAAI0S,EAAA,GAAE6I,EAAO7I,EAAA,GACpBG,EAAwCnU,mBAAS,IAAGqU,EAAAlU,YAAAgU,EAAA,GAA7CwG,EAAYtG,EAAA,GAAEyI,EAAezI,EAAA,GACpCkB,EAAgCvV,oBAAS,GAAMwV,EAAArV,YAAAoV,EAAA,GAAxC9B,EAAQ+B,EAAA,GAAEuH,EAAWvH,EAAA,GAE5BO,EAAgC/V,mBAAS,IAAGgW,EAAA7V,YAAA4V,EAAA,GAArC4F,EAAQ3F,EAAA,GAAE4F,EAAW5F,EAAA,GAE5B3V,qBAAU,WACRmY,EAAiBmD,EAAW7pB,EAA0B6pB,GAAYA,GAClElD,EAAYkD,EAAWxpB,EAAqBwpB,GAAYA,GACxDkB,EAAQlB,EAAWvpB,EAAiBupB,GAAYA,EAClD,GAAG,CAACA,IAEJ,IAAMqB,EAAUC,eAgBhB,OACElU,eAACqO,KAAS,CAACC,SAAS,KAAKrpB,UAAWiY,EAAQhB,KAAKhX,SAAA,CAC/CJ,cAAC4Y,KAAU,CAACF,QAAQ,KAAKvY,UAAWiY,EAAQjS,MAAM/F,SAC/C6H,GAAoBlD,yBAEvBmW,eAAA,QAAMmU,SAnBgB,SAACtjB,GACzBojB,EAAQxkB,KAAK,CACX6E,SAAU,aACV8f,OAAO,kBAADprB,OAAoBW,mBAAmB6lB,GAAc,YAAAxmB,OACzD6F,EAAQ,aAAA7F,OAAgBW,mBAAmBkF,IAAc,IAAE7F,OAC3DuP,EAAI,SAAAvP,OAAYW,mBAAmB4O,IAAU,IAAEvP,OAE/C4oB,EAAY,iBAAA5oB,OAAoBW,mBAAmBioB,IAAkB,GAAE,YAAA5oB,OAEvE0hB,EAAQ,aAAA1hB,OAAgB0hB,GAAa,MAEzC7Z,EAAEwjB,gBACJ,EAOsCnvB,SAAA,CAChCJ,cAACwvB,KAAS,CACRja,GAAG,yBACHka,UAAQ,EACRxU,MAAOhT,GAAoBjD,WAC3B0qB,YAAazrB,EAA0BH,GACvC6rB,WAAY1nB,GAAoBhD,gBAChC2qB,WAAS,EACT1T,OAAO,SACP2T,gBAAiB,CACfC,QAAQ,GAEVzpB,MAAOqkB,EACP2D,SAAU,SAAAzgB,GAA+B,IAAX2gB,EAAC3gB,EAAlBqL,OAAU5S,MACrBskB,EAAiB4D,EACnB,EACA7V,QAAQ,aAEV1Y,cAACwvB,KAAS,CACRja,GAAG,oBACH0F,MAAOhT,GAAoB9C,cAC3BuqB,YAAajrB,EACbkrB,WAAY1nB,GAAoB7C,mBAChCwqB,WAAS,EACT1T,OAAO,SACP2T,gBAAiB,CACfC,QAAQ,GAEVzpB,MAAO0D,EACPskB,SAAU,SAAA9gB,GAA+B,IAAXghB,EAAChhB,EAAlB0L,OAAU5S,MACrBukB,EAAY2D,EACd,EACA7V,QAAQ,aAEV1Y,cAACwvB,KAAS,CACRja,GAAG,gBACH0F,MAAOhT,GAAoB5C,UAC3BqqB,YAAalrB,EACbmrB,WAAY1nB,GAAoB1C,eAChCqqB,WAAS,EACT1T,OAAO,SACP2T,gBAAiB,CACfC,QAAQ,GAEVzpB,MAAOoN,EACP4a,SAAU,SAAAnf,GAA+B,IAAXqf,EAACrf,EAAlB+J,OAAU5S,MACrB2oB,EAAQT,EACV,EACA7V,QAAQ,aAEV1Y,cAACwvB,KAAS,CACRja,GAAG,wBACH0F,MAAOhT,GAAoBjC,kBAC3B0pB,YAAa9b,KAAKC,UAAUlP,GAC5BgrB,WAAY1nB,GAAoB/C,uBAChC0qB,WAAS,EACT1T,OAAO,SACP2T,gBAAiB,CACfC,QAAQ,GAEVzpB,MAAOymB,EACPuB,SAAU,SAAAlY,GAA+B,IAAXoY,EAACpY,EAAlB8C,OAAU5S,MACrB4oB,EAAgBV,EAClB,EACA7V,QAAQ,aAEV1Y,cAAC+vB,KAAgB,CACfC,QACEhwB,cAACiwB,KAAQ,CACPC,QAAStK,EACTyI,SAAU,SAAA8B,GAAA,IAAaD,EAAOC,EAAjBlX,OAAUiX,QAAO,OAAShB,EAAYgB,EAAQ,EAC3DtW,KAAK,WACLnC,MAAM,YAGVwD,MAAOhT,GAAoB3C,gBAE7B4V,eAAA,OAAK/a,UAAWiY,EAAQqW,gBAAgBruB,SAAA,CACtCJ,cAAC4Y,KAAU,CAAAxY,SAAE6H,GAAoBpC,iBACjC7F,cAAC6tB,GAAQ,CACP1tB,UAAWiY,EAAQsW,UACnBZ,SAAUA,EACVC,YAAaA,OAGjB/tB,cAAA,OAAKG,UAAWiY,EAAQuW,aAAavuB,SACnCJ,cAAC4X,GAAM,CAAC9V,KAAK,SAAS3B,UAAWiY,EAAQwW,OAAOxuB,SAC7C4H,GAAiB5E,iBAIxBpD,cAAA,SACAA,cAACytB,GAAM,MAGb,ECtKM/tB,GAAYC,aAAW,iBAAO,CAClCyX,KAAM,CACJ8C,QAAS,OACTiQ,UAAW,OACXlO,cAAe,SACf5E,gBAAiB,cAEpB,IA6Ec+Y,GA3EI,WACjB,IAAMhY,EAAU1Y,KAChBwS,EAA4BC,oBAAS,GAAME,EAAAC,YAAAJ,EAAA,GAApCkT,EAAM/S,EAAA,GAAEgY,EAAShY,EAAA,GAClB8c,EAAUC,eAEV9E,EAASjf,GAAckf,kBAAkB,CAC7CC,gBAAiB,SACjBjgB,aAAc,UACdU,ehDnBsC,+BgDsBxColB,EChC0B,WAC1B,IAAMC,EAAY,IAAIC,gBAAgB3T,eAAc0S,QAC9CkB,EAAmBF,EAAUxb,IAAI,iBACjC2b,EAAcH,EAAUxb,IAAI,YAC5B4b,EAAUJ,EAAUxb,IAAI,QACxB8Q,EAAyC,SAA9B0K,EAAUxb,IAAI,YACzB6b,EAAqBL,EAAUxb,IAAI,gBACzC,MAAO,CACL0b,mBACAC,cACAC,UACA9K,WACAmF,cAAenX,KAAKgd,MAAMD,GAE9B,CDmBIE,GADML,EAAgBH,EAAhBG,iBAAkBC,EAAWJ,EAAXI,YAAaC,EAAOL,EAAPK,QAAS9K,EAAQyK,EAARzK,SAAUmF,EAAasF,EAAbtF,cAG1D+F,E9BqG2B,SAACN,EAAkBC,EAAaC,GAC3D,IAAApI,EAA0CnW,mBAAS,MAAKoW,EAAAjW,YAAAgW,EAAA,GAAjDoC,EAAanC,EAAA,GAAEoC,EAAgBpC,EAAA,GACtCwI,EAAgC5e,mBAAS,MAAK6e,EAAA1e,YAAAye,EAAA,GAAvChnB,EAAQinB,EAAA,GAAEpG,EAAWoG,EAAA,GAC5BC,EAA4B9e,mBAAS,MAAK+e,EAAA5e,YAAA2e,EAAA,GAAnCpG,EAAMqG,EAAA,GAAEpG,EAASoG,EAAA,GACxBC,EAA0Chf,mBAAS,MAAKif,EAAA9e,YAAA6e,EAAA,GAAjDpG,EAAaqG,EAAA,GAAEpG,EAAgBoG,EAAA,GACtCC,EAA8Blf,oBAAS,GAAKmf,EAAAhf,YAAA+e,EAAA,GAArCpG,EAAOqG,EAAA,GAAEpG,EAAUoG,EAAA,GAC1BC,EAAwCpf,mBAAS,MAAKqf,EAAAlf,YAAAif,EAAA,GAA/C5vB,EAAY6vB,EAAA,GAAErG,EAAeqG,EAAA,GAoCpC,OAlCAhf,qBAAU,WACR,GAAIge,EAAkB,CACpBrF,EAAgB,MAChBR,EAAiB,MACjBK,EAAiB,MACjBF,EAAU,MACV,IAAM2G,EAAY,KACZpG,EAAI,eAAA9d,EAAAC,YAAAC,cAAAC,MAAG,SAAA2C,IAAA,IAAAib,EAAAE,EAAAC,EAAA,OAAAhe,cAAAa,MAAA,SAAAiC,GAAA,cAAAA,EAAA/B,KAAA+B,EAAA9B,MAAA,cAAA8B,EAAA9B,KAAA,EACM4G,GAAemb,EAAfnb,CAAiCoc,GAAW,KAAD,EAApD,IAAFnG,EAAE/a,EAAAtB,MACAD,MAAM,CAADuB,EAAA9B,KAAA,SAEW,OADtBkc,EAAiBW,EAAG7X,MACpBuX,EAAiB,IAAKza,EAAA9B,KAAA,EACL4G,GAAeob,GAAehsB,EAA9B4Q,CACfoc,GACA,KAAD,EAFO,IAAFjG,EAAEjb,EAAAtB,MAGAD,MAAM,CAADuB,EAAA9B,KAAA,SACU,OAArBmc,EAAYY,EAAG/X,MAAMlD,EAAA9B,KAAA,GACJ4G,GAAeqb,GAAWlsB,EAA1B6Q,CACfoc,GACA,KAAD,IAFKhG,EAAElb,EAAAtB,MAGAD,MAGDmc,EAAgBrV,GAAgB2V,EAAI,OAFzCX,EAAUW,EAAGhY,MACbyX,GAAW,IAEbA,GAAW,GAAO3a,EAAA9B,KAAA,iBACb0c,EAAgBrV,GAAgB0V,EAAI,MAAM,QACjDN,GAAW,GAAO3a,EAAA9B,KAAA,iBACb0c,EAAgBrV,GAAgBwV,EAAI,MAAM,QACjDJ,GAAW,GAAO,yBAAA3a,EAAAZ,OAAA,GAAAU,EAAA,KACnB,kBAtBS,OAAA9C,EAAAqC,MAAA,KAAAC,UAAA,KAuBVwb,GACF,CACF,GAAG,CAACmF,EAAkBC,EAAaC,IAE5B,CACLzF,UACAtpB,eACAkpB,SACAH,gBACA3gB,WACAghB,gBAEJ,C8BtJI2G,CAAclB,EAAkBC,EAAaC,GADvC7F,EAAMiG,EAANjG,OAAQH,EAAaoG,EAAbpG,cAAe3gB,EAAQ+mB,EAAR/mB,SAAUkhB,EAAO6F,EAAP7F,QAAStpB,EAAYmvB,EAAZnvB,aAY5CmB,EAAc,eAAAoM,EAAA1B,YAAAC,cAAAC,MAAG,SAAAyB,EAAOwiB,GAAU,IAAAC,EAAAC,EAAAzF,EAAA,OAAA3e,cAAAa,MAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAAX,MAAA,OACtC8T,GAAmBoP,EAAW,QAADztB,OAAoB,OAAVytB,QAAU,IAAVA,GAAqB,QAAXC,EAAVD,EAAYpV,iBAAS,IAAAqV,OAAX,EAAVA,EAAuBtV,OACxD8P,EAAY9B,EAAOiC,kBACzBhK,GAAmB6J,EAAU,YAADloB,OAAwB,OAAVytB,QAAU,IAAVA,GAAqB,QAAXE,EAAVF,EAAYpV,iBAAS,IAAAsV,OAAX,EAAVA,EAAuBvV,OACjE6S,EAAQxkB,KAAK,KACb2f,EAAOkC,QAAQ,wBAAApd,EAAAO,OAAA,GAAAR,EAAA,KAChB,gBANmBmC,GAAA,OAAApC,EAAAU,MAAA,KAAAC,UAAA,KAoBpB,OAZA2C,qBAAU,WACR,IAAKyY,GAAWP,EAAe,CAC7B,IACkBkC,EACdlC,EADFzP,MAAS5U,MAEXlC,OAAOyQ,SAASzO,MAAQymB,EACxBvC,EAAUK,GACVJ,EAAO1e,IAAIK,GACb,CAEF,GAAG,CAACye,EAAeO,IAGjB/P,eAAAoC,WAAA,CAAAld,SAAA,CACGowB,GACCtV,eAAC+R,KAAG,CAAC9sB,UAAWiY,EAAQhB,KAAKhX,SAAA,CAC1B6qB,GAAWjrB,cAAC0S,EAAY,KACvBuY,GAAWtpB,GAAgB3B,cAAC4Y,KAAU,CAAAxY,SAAEuB,KACxCspB,GAAWlhB,GAAY8gB,GAAUH,GAAiBtF,GAClDplB,cAACmlB,GAAY,CACXG,YAAauF,EACbzF,OAAQA,EACRrb,SAAUA,EACVwb,KAxCK,SAACoM,GAAgB,EAyCtB7L,sBAAsB,EACtBD,WAxCW,SAACkF,GAAa,OACnCA,EACItqB,OAAOse,QAAQgM,GAAepqB,QAAO,SAACmxB,EAAMlkB,GAAkB,IAADL,EAAA+E,YAAA1E,EAAA,GAAd9E,EAAGyE,EAAA,GAAEwkB,EAAGxkB,EAAA,GACrD,OAAA9C,0BAAA,GAAYqnB,GAAM,GAAAhJ,aAAA,GAAGhgB,EAAM,CAAEW,IAAKsoB,IACpC,GAAG,CAAC,GACJ,CAAC,CAAE,CAmCeC,CAAejH,GAC3BvF,WAAW,YACXC,YAAa,CAAC,aACdC,SAAU,CAAC,MAAO,MAClB5iB,eAAgBA,EAChBoqB,YAAY,EACZvH,gBAAgB,EAChBC,SAAUA,QAKhB4K,GAAoBxwB,cAAC+uB,GAAiB,MAG9C,EE7FakD,I,OAAW,WACtB,OACE/W,eAAA,OAAK/a,UAAU,WAAUC,SAAA,CACvB8a,eAAA,OAAK/a,UAAU,OAAMC,SAAA,CACnB8a,eAAA,OAAK/a,UAAU,OAAMC,SAAA,CACnBJ,cAAA,OAAKG,UAAU,QACfH,cAAA,OAAKG,UAAU,UACfH,cAAA,OAAKG,UAAU,YAEjBH,cAAA,OAAKG,UAAU,SACfH,cAAA,OAAKG,UAAU,YACfH,cAAA,OAAKG,UAAU,aAGjBH,cAAC4Y,KAAU,CAACO,UAAU,MAAK/Y,SACzBJ,cAACitB,KAAG,CAACjM,UAAU,SAASmM,SAAS,cAAc+E,EAAG,EAAE9xB,SAAC,oCAM7D,GCHe+xB,GAdA,WACb,OACEjX,eAACkX,KAAM,CAAAhyB,SAAA,CACLJ,cAACqyB,KAAK,CACJxlB,KAAI,KAAA3I,OAAOL,EAAS,6CACpBsV,UAAWvG,GAAOwX,MAEpBpqB,cAACqyB,KAAK,CAACxlB,KAAK,aAAasM,UAAWiX,KACpCpwB,cAACqyB,KAAK,CAACxlB,KAAK,OAAOsM,UAAW8Y,KAC9BjyB,cAACsyB,KAAQ,CAACC,GAAG,WAGnB,ECPM7yB,GAAYC,aAAW,SAACC,GAAK,MAAM,CACvCwX,KAAM,CACJgJ,SAAU,WACV2C,IAAK,MACL9B,QAAS,MACTD,UAAW,UAEbhS,MAAO,CACLqI,gBAAiB,QACjB2J,UAAW,QAEbwR,YAAa,CACXla,UAAW,OAEbnS,MAAO,CACLsR,MAAO,QACPyE,OAAQ,SAEVuW,WAAY,CACVzR,UAAW,OACX9G,QAAS,SAEZ,IAqDcwY,GAnDO,SAAH9kB,GAAuC,IAAjCoB,EAAKpB,EAALoB,MAAO2jB,EAAkB/kB,EAAlB+kB,mBACxBva,EAAU1Y,KAChB,OACEM,cAACupB,KAAS,CAACC,SAAS,KAAIppB,SACtB8a,eAAC+R,KAAG,CAAC9sB,UAAWiY,EAAQhB,KAAMwb,QAAQ,aAAajP,KAAK,QAAOvjB,SAAA,CAC7DJ,cAAC4Y,KAAU,CAACF,QAAQ,KAAKvY,UAAWiY,EAAQjS,MAAM/F,SAC/C2H,GAAgB9F,kBAEnBiZ,eAACU,KAAS,CAAAxb,SAAA,CACRJ,cAAC6b,KAAgB,CACfC,WAAY9b,cAAC+b,KAAU,IACvB,gBAAc,kBACdxG,GAAG,iBAAgBnV,SAEnBJ,cAAC4Y,KAAU,CAACzY,UAAWiY,EAAQK,QAAQrY,SACpC2H,GAAgB7F,iBAGrBgZ,eAACc,KAAgB,CAAC7b,UAAWiY,EAAQqa,WAAWryB,SAAA,CAC9CJ,cAAA,OAAAI,SAAM4O,EAAM8E,UACZ9T,cAAA,OAAAI,SAAM4O,EAAM6jB,cAGhB3X,eAACU,KAAS,CAAAxb,SAAA,CACRJ,cAAC6b,KAAgB,CACfC,WAAY9b,cAAC+b,KAAU,IACvB,gBAAc,kBACdxG,GAAG,iBAAgBnV,SAEnBJ,cAAC4Y,KAAU,CAACzY,UAAWiY,EAAQK,QAAQrY,SACpC8H,GAAkB1G,YAGvB0Z,eAACc,KAAgB,CAAC7b,UAAWiY,EAAQqa,WAAWryB,SAAA,CAC9C8a,eAACtC,KAAU,CAAAxY,SAAA,IAAA8D,OACLgE,GAAkBzG,WAAU,OAChCzB,cAAA,KAAAI,SAAIwgB,QAEN1F,eAACtC,KAAU,CAAAxY,SAAA,IAAA8D,OACLgE,GAAkBxG,eAAc,OACpC1B,cAAA,KAAAI,SAAIsB,cAIV1B,cAAC4X,GAAM,CAACzX,UAAWiY,EAAQoa,YAAa1a,QAAS6a,EAAmBvyB,SACjE4H,GAAiBtF,WAK5B,E,mBC7EaoP,I,OAAaN,IAAMC,iBAkCjBqhB,GAhCH,WACV,IAAA5gB,EAA0CC,mBAAS,MAAKE,EAAAC,YAAAJ,EAAA,GAAjD6gB,EAAa1gB,EAAA,GAAE2gB,EAAgB3gB,EAAA,GAUtC,OARAG,qBAAU,WACHugB,G7CN6BvpB,GAAQ,GAADtF,OAAIiF,GAAQ,KAAAjF,OAAIkF,K6COpCO,MAAK,SAACspB,GACvBD,EAAiBC,EACnB,GAEJ,GAAG,CAACF,IAGF/yB,cAACokB,GAAa,CAAAhkB,SACZJ,cAACkzB,iBAAa,CACZC,kBAAmBT,GACnBU,QAAS,kBAAMJ,EAAiB,KAAK,EACrCK,UAAW,CAACN,GAAe3yB,SAE1B2yB,GACC/yB,cAAC8R,GAAWa,SAAQ,CAACtM,MAAO0sB,EAAc3yB,SACxCJ,cAAC2R,GAAY,CAAAvR,SACXJ,cAACszB,KAAa,CAAAlzB,SACZJ,cAACmyB,GAAM,aAQvB,EC9BeoB,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqB9pB,MAAK,SAAAiE,GAAkD,IAA/C8lB,EAAM9lB,EAAN8lB,OAAQC,EAAM/lB,EAAN+lB,OAAQC,EAAMhmB,EAANgmB,OAAQC,EAAMjmB,EAANimB,OAAQC,EAAOlmB,EAAPkmB,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,EACV,GAEJ,ECJMO,GAAYnf,SAASof,eAAe,QAC7BC,qBAAWF,IAEnBG,OAAOl0B,cAAC8yB,GAAG,KAKhBS,I","file":"static/js/main.b7551cd7.chunk.js","sourcesContent":["export const OIDC = 'OIDC';\r\nexport const NONE = 'NONE';\r\nexport const AUTHENTICATION_TYPE_ENUM = [NONE, OIDC];\r\n\r\nexport const HOUSEHOLD = 'household';\r\nexport const BUSINESS = 'business';\r\n\r\nexport const COOKIE_CONSENT = 'cookie-consent';\r\n\r\nexport const READ_ONLY = 'readonly';\r\nexport const GUEST_USER = {\r\n  lastName: 'Guest',\r\n  firstName: 'Guest',\r\n  id: 'Guest',\r\n  roles: ['Guest'],\r\n};\r\nexport const SIMPSONS = 'simpsons';\r\nexport const TIC = 'tic';\r\nexport const DEFAULT = 'default';\r\nexport const LOGEMENT = 'logement';\r\nexport const FAMILLE = 'famille';\r\n\r\nexport const QUESTIONNAIRE_EXAMPLES = [SIMPSONS, TIC, LOGEMENT, FAMILLE];\r\n\r\nexport const AUTHORIZED_ROLES = ['Guest', 'offline_access'];\r\n\r\nexport const QUESTIONNAIRE_EXAMPLE_URL = (q) =>\r\n  `${window.location.origin}/static/questionnaire/${q}/form.json`;\r\nexport const METADATA_EXAMPLE_URL = (q) =>\r\n  `${window.location.origin}/static/questionnaire/${q}/metadata.json`;\r\nexport const DATA_EXAMPLE_URL = (q) =>\r\n  `${window.location.origin}/static/questionnaire/${q}/data.json`;\r\n\r\nexport const NOMENCLATURE_EXAMPLE_URL = (q) => ({\r\n  'L_DEPNAIS-1-0-0': `${window.location.origin}/static/questionnaire/${q}/nomenclatures/L_DEPNAIS-1-0-0.json`,\r\n});\r\nexport const DEFAULT_DATA_URL = DATA_EXAMPLE_URL(DEFAULT);\r\nexport const DEFAULT_METADATA_URL = METADATA_EXAMPLE_URL(DEFAULT);\r\nexport const FULL_METADATA_URL = `${window.location.origin}/static/metadata/full.json`;\r\nexport const DEFAULT_NOMENCLATURE_URL = NOMENCLATURE_EXAMPLE_URL(DEFAULT);\r\n\r\nexport const FULL_OVERLOAD_EXAMPLE_URL = `${\r\n  window.location.origin\r\n}/visualize?questionnaire=${encodeURIComponent(\r\n  QUESTIONNAIRE_EXAMPLE_URL(SIMPSONS)\r\n)}&metadata=${encodeURIComponent(FULL_METADATA_URL)}`;\r\n\r\nexport * from './paradata';\r\n","export default __webpack_public_path__ + \"static/media/Logo-Insee.e523e7bb.jpg\";","import React from 'react';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nconst Simple = () => {\r\n  const useStyles = makeStyles((theme) => ({\r\n    backdrop: {\r\n      zIndex: theme.zIndex.drawer + 1,\r\n    },\r\n  }));\r\n\r\n  return (\r\n    <Backdrop open className={useStyles().backdrop}>\r\n      <CircularProgress />\r\n    </Backdrop>\r\n  );\r\n};\r\n\r\nexport default Simple;\r\n","/**\r\n * Based on the locale passed as a paremeter, this function will return\r\n * the corresponding dictionary.\r\n *\r\n * @param {string} lang the lang of the user\r\n */\r\nexport const createDictionary = (lang) => (dico) =>\r\n  Object.keys(dico).reduce((_, k) => {\r\n    _[k] = dico[k][lang];\r\n    return _;\r\n  }, {});\r\n\r\n/**\r\n * This function will return only the lang part of a locale\r\n * For example, with fr-FR, will return fr\r\n * If the lang is not fr, will return en\r\n * @param {string} lang the lang of the user\r\n */\r\n//TODO Support EN mode (translate everything in the App including the survey)\r\nexport const getLang = (defaultLang) => 'fr';\r\n// (defaultLang || navigator.language || navigator.browserLanguage).split(\r\n//   '-'\r\n// )[0] === 'fr'\r\n//   ? 'fr'\r\n//   : 'en';\r\n","const dictionary = {\r\n  survey: {\r\n    fr: 'Questionnaire',\r\n    en: 'Survey',\r\n  },\r\n\r\n  cookieTitle: { fr: 'Utilisation des cookies', en: 'Cookie Usage' },\r\n  cookieConsent: {\r\n    fr: `Pour son bon fonctionnement, le site utilise des cookies, en remplissant le questionnaire, vous acceptez l'installation et l'utilisation de cookies sur votre poste.`,\r\n    en: `For its proper functioning, the site uses cookies. By filling out the questionnaire, you accept the installation and use of cookies on your computer.`,\r\n  },\r\n  assistanceTitle: { fr: `Contacter l'assistance`, en: `Contact Support` },\r\n  assistanceBody: {\r\n    fr: `Vous êtes sur le point de contacter l'assistance, en êtes-vous sûr ?`,\r\n    en: `You are about to contact support, are you sure?`,\r\n  },\r\n  welcomeBackTitle: { fr: `Bienvenue`, en: `Welcome` },\r\n  welcomeBackBody: {\r\n    fr: `Vous avez déjà commencé à renseigner le questionnaire. \\n\\n Pour poursuivre votre saisie dans le questionnaire,\\n\\n que souhaitez-vous faire ?`,\r\n    en: `You have already started to fill in the questionnaire. What do you want to do to continue your entry in the questionnaire?`,\r\n  },\r\n  appInfo: {\r\n    fr: `Informations sur l'application`,\r\n    en: `Application informations`,\r\n  },\r\n  appVersion: { fr: `Version de l'application`, en: `Application version` },\r\n  lunaticVersion: {\r\n    fr: `Version de la dépendance @inseefr/lunatic`,\r\n    en: `Version of the @inseefr/lunatic dependency`,\r\n  },\r\n};\r\n\r\nexport default dictionary;\r\n","const errorMessage = {\n  getError401: {\n    fr: 'Vous semblez avoir été déconnecté.',\n    en: 'Changing the sequence',\n  },\n  getError403: {\n    fr: (type) => {\n      if (type === 'q')\n        return `Vous n'êtes pas autorisé à accéder au questionnaire.`;\n      if (type === 'm')\n        return `Vous n'êtes pas autorisé à accéder aux métadonnées du questionnaire.`;\n      if (type === 'd')\n        return `Vous n'êtes pas autorisé à accéder aux données du répondant.`;\n      return '';\n    },\n    en: (type) => {\n      if (type === 'q')\n        return `You are not authorized to access the questionnaire.`;\n      if (type === 'm')\n        return `You are not authorized to access the metadata of the questionnaire.`;\n      if (type === 'd')\n        return `You are not authorized to access the respondent's data.`;\n      return '';\n    },\n  },\n  getError404: {\n    fr: (type) => {\n      if (type === 'q') return `Le questionnaire n'existe pas.`;\n      if (type === 'm') return `Les métadonnées du questionnaire n'existe pas.`;\n      if (type === 'd') return `Il n'y a aucune donnée pour ce répondant.`;\n      return '';\n    },\n    en: (type) => {\n      if (type === 'q') return `The questionnaire does not exist.`;\n      if (type === 'm')\n        return `The metadata of the questionnaire does not exist.`;\n      if (type === 'd') return `There is no data for this respondent.`;\n      return '';\n    },\n  },\n  getErrorServeur: {\n    fr: `Il semble qu'il y ait une erreur côté serveur.`,\n    en: `There seems to be an error on the server side.`,\n  },\n  getUnknownError: {\n    fr: `Une erreur inconnue s'est produite, veuillez contacter l'assistance ou réessayer plus tard.`,\n    en: `An unknown error occurred, please contact support or try again later.`,\n  },\n  detailsError: {\n    fr: `Détails de l'erreur`,\n    en: `Error details`,\n  },\n  noAuthFile: {\n    fr: \"Aucun fichier de configuration pour l'authentification n'a été trouvé (oidc.json ou keycloak.json).\",\n    en: 'No configuration file for authentication was found (oidc.json or keycloak.json).',\n  },\n  errorModalTitle: {\n    fr: 'Des points requièrent votre attention.',\n    en: 'Some points need your attention.',\n  },\n};\n\nexport default errorMessage;\n","const buttonMessage = {\r\n  start: { fr: `Commencer`, en: `Start` },\r\n  saveAndNext: {\r\n    fr: `Continuer`,\r\n    en: `Continue`,\r\n  },\r\n  MODAL_IGNORE: { fr: 'Poursuivre', en: 'Ignore' },\r\n  MODAL_CORRECT: { fr: 'Corriger ma réponse', en: 'Correct' },\r\n  back: {\r\n    fr: `Retour`,\r\n    en: `Go back`,\r\n  },\r\n  send: { fr: 'Envoyer', en: 'Send' },\r\n  download: { fr: 'Télécharger', en: 'Download' },\r\n  logout: { fr: 'Déconnexion', en: 'Logout' },\r\n  logoutAndClose: { fr: 'Se déconnecter et quitter', en: 'Logout and exit' },\r\n  yes: { fr: 'Oui', en: 'Yes' },\r\n  no: { fr: 'Non', en: 'No' },\r\n  understand: { fr: 'Je comprends', en: 'I understand' },\r\n  goBackToCurrentPage: {\r\n    fr: `Revenir à la dernière page accédée`,\r\n    en: `Return to the last accessed page`,\r\n  },\r\n  goToFirstPage: {\r\n    fr: `Aller à la première page`,\r\n    en: `Go to the first page`,\r\n  },\r\n  visualize: { fr: `Visualiser`, en: `Visualize` },\r\n};\r\n\r\nexport default buttonMessage;\r\n","const burgerMessage = {\r\n  help: { fr: `Contacter l'assistance`, en: `Contact Support` },\r\n  exit: { fr: `Déconnexion`, en: `Exit` },\r\n  menu: { fr: `Menu`, en: `Menu` },\r\n};\r\n\r\nexport default burgerMessage;\r\n","// Paradata\r\nexport const ORCHESTRATOR_CATEGORY = 'orchestrator';\r\nexport const SESSION_CATEGORY = 'session';\r\n\r\nexport const EVENT_TYPE_ORCHESTRATOR_CREATE = 'orchestrator-create';\r\nexport const EVENT_TYPE_SESSION_STARTED = 'session-started';\r\n\r\nexport const EVENT_TYPE_CLICK = 'click';\r\n\r\n// type orchestrator\r\nexport const ORCHESTRATOR_COLLECT = 'orchestrator-collect';\r\nexport const ORCHESTRATOR_READONLY = 'orchestrator-readonly';\r\nexport const ORCHESTRATOR_VIZUALISATION = 'orchestrator-vizualisation';\r\n","import {\r\n  DEFAULT_DATA_URL,\r\n  DEFAULT_METADATA_URL,\r\n  FULL_METADATA_URL,\r\n  FULL_OVERLOAD_EXAMPLE_URL,\r\n} from 'utils/constants';\r\nimport buttonMessage from './buttonMessage';\r\n\r\nconst visualizeMessage = {\r\n  visualizationTitlePage: {\r\n    fr: 'Page de visualisation de questionnaire',\r\n    en: 'Questionnaire preview page',\r\n  },\r\n  labelQuest: {\r\n    fr: 'Questionnaire',\r\n    en: 'Questionnaire',\r\n  },\r\n  helperTextQuest: {\r\n    fr: `L'url d'un json de questionnaire au format Lunatic-model`,\r\n    en: `The url of a json of questionnaire in Lunatic-model format`,\r\n  },\r\n  helperTextNomenclature: {\r\n    fr: \"Dictionnaire avec en clé le nom de la nomenclaure et en valeur l'url\",\r\n    en: 'Dictionary with the name of the nomenclature as key and the url as value',\r\n  },\r\n  labelMetadata: {\r\n    fr: 'Metadonnées',\r\n    en: 'Metadata',\r\n  },\r\n  helperTextMetadata: {\r\n    fr: `L'url d'un json de metadonnées de questionnaire`,\r\n    en: `The url of a json of questionnaire metadata.`,\r\n  },\r\n  labelData: {\r\n    fr: 'Données',\r\n    en: 'Data',\r\n  },\r\n  labelReadonly: {\r\n    fr: 'Lecture seule',\r\n    en: 'Readonly',\r\n  },\r\n  helperTextData: {\r\n    fr: `L'url d'un json de données (de réponse)`,\r\n    en: `The url of a data (response) json.`,\r\n  },\r\n  accordionHelperTitle: {\r\n    fr: 'Aide',\r\n    en: 'Help',\r\n  },\r\n  accordionHelperSubtitle: {\r\n    fr: 'Comment visualiser un questionnaire ?',\r\n    en: 'How do I preview a questionnaire ?',\r\n  },\r\n  accordionHelperBody: {\r\n    fr: `Seul le champ \"Questionnaire\" est obligatoire, si aucune valeur n'est renseignée pour les autres champs, les valeurs par défaut sont appliquées. \\n\\n Les valeurs par défaut des json sont disponible ici : \\n - [metadonnées](${DEFAULT_METADATA_URL}) \\n - [métadonnées complètes](${FULL_METADATA_URL}) \\n - [données](${DEFAULT_DATA_URL}) \\n\\n Vous pouvez également choisir un exemple de questionnaire directement. \\n\\n Une fois les valeurs renseignées, il vous suffit de cliquer sur le bouton \"${buttonMessage?.visualize?.fr}\". \\n\\n (_Vous pouvez également visualiser un exemple de questionnaire entièrement surchargé en cliquant [ici](${FULL_OVERLOAD_EXAMPLE_URL})_).`,\r\n    en: `Only the \"Questionnaire\" field is mandatory, if no value is filled in for the other fields, the default values are applied. \\n\\n Default json values are available here : \\n - [metadata](${DEFAULT_METADATA_URL}) \\n - [full metadata](${FULL_METADATA_URL}) \\n - [data](${DEFAULT_DATA_URL}) \\n\\n You can also choose an example questionnaire directly. \\n\\n Once you have filled in the values, just click on the \"${buttonMessage?.visualize?.en}\" button. \\n\\n (_You can also view an example of a fully overloaded questionnaire by clicking [here](${FULL_OVERLOAD_EXAMPLE_URL})._)`,\r\n  },\r\n  chooseExamples: {\r\n    fr: 'Ou choisir un exemple :',\r\n    en: 'Or choose an example',\r\n  },\r\n  labelExamples: {\r\n    fr: 'Exemples',\r\n    en: 'Examples',\r\n  },\r\n  labelNone: { fr: 'Aucun', en: 'None' },\r\n  labelNomenclature: {\r\n    fr: ' Dictionnaire de nomenclatures',\r\n    en: 'Nomenclature dictionnary',\r\n  },\r\n};\r\n\r\nexport default visualizeMessage;\r\n","const welcomeHousehold = {\r\n  title: { fr: `Accueil`, en: `Welcome` },\r\n  body: {\r\n    fr: {\r\n      value: [\r\n        `\"Bienvenue sur le questionnaire de réponse à l'\" || Enq_LibelleEnquete || \".\\n\\n\"`,\r\n        `Enq_ObjectifsCourts`,\r\n        `\"**Qui doit répondre à ce questionnaire ?**\"`,\r\n        `whoAnswers1 || \"\\n\\n\" || whoAnswers2 || \"\\n\\n\" || whoAnswers3 || \"\\n\\n\"`,\r\n        `\"\"`,\r\n      ],\r\n      bindingDependencies: [\r\n        'Enq_LibelleEnquete',\r\n        'Enq_ObjectifsCourts',\r\n        'whoAnswers1',\r\n        'whoAnswers2',\r\n        'whoAnswers3',\r\n      ],\r\n    },\r\n    en: {\r\n      value: [\r\n        `\"Welcome to ''\" || Enq_LibelleEnquete || \"'' questionnaire. \\n\\n\"`,\r\n        `Enq_ObjectifsCourts`,\r\n        `\"**Who should answer this questionnaire ?**\"`,\r\n        `whoAnswers1 || \"\\n\\n\" || whoAnswers2 || \"\\n\\n\" || whoAnswers3 || \"\\n\\n\"`,\r\n        `\"\"`,\r\n      ],\r\n      bindingDependencies: [\r\n        'Enq_LibelleEnquete',\r\n        'Enq_ObjectifsCourts',\r\n        'whoAnswers1',\r\n        'whoAnswers2',\r\n        'whoAnswers3',\r\n      ],\r\n    },\r\n  },\r\n  legalTermsTitle: {\r\n    fr: \"Connaître le cadre légal de l'enquête ?\",\r\n    en: 'Know the legal terms of the survey ?',\r\n  },\r\n  legalTermsDetails: {\r\n    fr: {\r\n      value: [\r\n        `(if nvl(cast(Enq_TestNonLabellise, boolean), false)\r\n\t\t\t\t  then \"Cette enquête non obligatoire relève de l'exercice des missions de service public dont est investi l'Insee (articles 4, 5 et 5 bis du règlement 223/2009 relatif aux statistiques européennes, article 1 de la [loi n° 51-711 du 7 juin 1951](\" || Loi_statistique ||\") sur l'obligation, la coordination et le secret en matière de statistiques, décret du 14 juin 1946 organisant l'Insee).\"\r\n\t\t\t\t  else\r\n\t\t\t\t    \"Vu l'avis favorable du Conseil national de l'information statistique, cette enquête\" \r\n\t\t\t\t\t  || (if cast(Enq_CaractereObligatoire, boolean) \r\n\t\t\t\t\t      then \", reconnue d’intérêt général\" \r\n\t\t\t\t\t\t      || (if cast(Enq_QualiteStatistique, boolean) then \" et de qualité statistique\" else \"\") \r\n\t\t\t\t\t\t      || \", est obligatoire\" \r\n\t\t\t\t\t      else \" est reconnue d'intérêt général\" \r\n\t\t\t\t\t\t      || (if cast(Enq_QualiteStatistique, boolean) then \" et de qualité statistique\" else \"\") \r\n\t\t\t\t\t\t      || \"sans avoir de caractère obligatoire\") \r\n\t\t\t\t\t  || \", en application de la [loi n° 51-711 du 7 juin 1951](\" || Loi_statistique ||\") sur l'obligation, la coordination et le secret en matière de statistiques.\"\r\n\t\t\t\t)`,\r\n        `(if nvl(cast(Enq_TestNonLabellise, boolean), false)\r\n\t\t\t\t  then \"\"\r\n\t\t\t\t  else \"Visa n°\" || Enq_NumeroVisa || \" du Ministre \" || Enq_MinistereTutelle || \", valable pour l'année \" || cast(Enq_AnneeVisa, string) || \" - Arrêté en \" || (if cast(Enq_ParutionJo,boolean) then \" date du \" || Enq_DateParutionJo else \"cours de parution\") || \".\"\r\n\t\t\t\t)`,\r\n        `\"Les réponses à ce questionnaire sont protégées par le secret statistique et destinées à \" || Enq_RespOperationnel || \". Le [règlement général 2016/679 du 27 avril 2016 sur la protection des données (RGPD)](\" || Loi_rgpd || \") ainsi que la [loi n° 78-17 du 6 janvier 1978 relative à l'informatique, aux fichiers et aux libertés](\" || Loi_informatique || \"), s'appliquent à la présente enquête. Ils garantissent aux personnes concernées un droit d'accès, de limitation ou de rectification pour les données les concernant. Ce droit peut être exercé auprès de \" || Enq_RespTraitement || \".\"`,\r\n      ],\r\n      bindingDependencies: [\r\n        'Enq_CaractereObligatoire',\r\n        'Loi_statistique',\r\n        'Enq_NumeroVisa',\r\n        'Enq_QualiteStatistique',\r\n        'Enq_MinistereTutelle',\r\n        'Enq_AnneeVisa',\r\n        'Enq_ParutionJo',\r\n        'Enq_DateParutionJo',\r\n        'Enq_RespOperationnel',\r\n        'Loi_rgpd',\r\n        'Loi_informatique',\r\n        'Enq_RespTraitement',\r\n        'Enq_TestNonLabellise',\r\n      ],\r\n    },\r\n    en: {\r\n      value: [\r\n        `(if nvl(cast(Enq_TestNonLabellise, boolean), false) \r\n\t\t\t\t  then \"This non-compulsory survey is part of INSEE's public service remit (Articles 4, 5 and 5a of Regulation 223/2009 on European statistics, Article 1 of [Law 51-711 of 7 June 1951](\" || Loi_statistique ||\") on the obligation, coordination and secrecy of statistics, Decree of 14 June 1946 organising INSEE).\"\r\n\t\t\t\t  else\r\n\t\t\t\t    \"In view of the favourable opinion of the National Council for Statistical Information, this survey\" \r\n\t\t\t\t    || (if cast(Enq_CaractereObligatoire, boolean) \r\n\t\t\t\t        then \", recognized as being of general interest\" \r\n\t\t\t\t\t        || (if cast(Enq_QualiteStatistique, boolean) then \" and of statistical quality\" else \"\") \r\n\t\t\t\t\t        || \", is mandatory\" \r\n\t\t\t\t        else \" is recognized as being of general interest\" \r\n\t\t\t\t\t        || (if cast(Enq_QualiteStatistique, boolean) then \" and of statistical quality\" else \"\") \r\n\t\t\t\t\t        ||  \" without being mandatory\") \r\n\t\t\t\t    || \", in application of [Law n° 51-711 of 7 June 1951](\" || Loi_statistique ||\") on the obligation, coordination and secrecy in matters of statistics.\"\r\n\t\t\t\t)`,\r\n        `(if nvl(cast(Enq_TestNonLabellise, boolean), false)\r\n\t\t\t\t  then \"\"\r\n\t\t\t\t  else \"Visa n°\" || Enq_NumeroVisa || \" of the Ministry \" || Enq_MinistereTutelle || \", valid for the year \" || Enq_AnneeVisa || \" - Decree\" || (if cast(Enq_ParutionJo,boolean) then (\" dated \" || Enq_DateParutionJo) else \" in progress\") || \".\"\r\n\t\t\t\t)`,\r\n        `\"The answers to this questionnaire are protected by statistical secrecy and are intended for \" || Enq_RespOperationnel || \". The [General Regulation 2016/679 of April 27, 2016 on data protection (RGPD)](\" || Loi_rgpd || \") as well as the [law n° 78-17 of January 6, 1978 relating to data processing, files and liberties](\" || Loi_informatique || \"), apply to this survey. They guarantee data subjects a right of access, limitation or rectification for data concerning them. This right can be exercised with \" || Enq_RespTraitement || \".\"`,\r\n      ],\r\n      bindingDependencies: [\r\n        'Enq_CaractereObligatoire',\r\n        'Enq_QualiteStatistique',\r\n        'Loi_statistique',\r\n        'Enq_NumeroVisa',\r\n        'Enq_MinistereTutelle',\r\n        'Enq_AnneeVisa',\r\n        'Enq_ParutionJo',\r\n        'Enq_DateParutionJo',\r\n        'Enq_RespOperationnel',\r\n        'Loi_rgpd',\r\n        'Loi_informatique',\r\n        'Enq_RespTraitement',\r\n        'Enq_TestNonLabellise',\r\n      ],\r\n    },\r\n  },\r\n};\r\n\r\nconst welcomeDefault = {\r\n  title: { fr: 'Début', en: 'Start' },\r\n  body: {\r\n    fr: {\r\n      value: [`\"Page de commencement générique.\"`],\r\n      bindingDependencies: [],\r\n    },\r\n    en: { value: ['\"Generic start page.\"'], bindingDependencies: [] },\r\n  },\r\n};\r\n\r\nconst welcomeBusiness = {\r\n  title: { fr: 'Début', en: 'Start' },\r\n  body: {\r\n    fr: {\r\n      value: [`\"Page de commencement entreprise`],\r\n      bindingDependencies: [],\r\n    },\r\n    en: { value: [`\"Start page for business\"`], bindingDependencies: [] },\r\n  },\r\n};\r\n\r\nconst welcomeMessage = {\r\n  household: welcomeHousehold,\r\n  business: welcomeBusiness,\r\n  default: welcomeDefault,\r\n};\r\n\r\nexport const getWelcomePageMessage = (inseeContext) =>\r\n  welcomeMessage[inseeContext];\r\n","import buttonMessage from '../buttonMessage';\r\n\r\nconst validationHousehold = {\r\n  title: { fr: `Validation`, en: `Validation` },\r\n  body: {\r\n    fr: [\r\n      `Vous êtes arrivé à la fin du questionnaire. \\n\\n Merci de cliquer sur le bouton \"${buttonMessage?.send?.fr}\" pour le transmettre à l'Insee.`,\r\n      `Après envoi, vous ne pourrez plus modifier vos réponses en ligne. \\n\\n Pour toute modification, cliquer sur le bouton \"${buttonMessage?.back?.fr}\".`,\r\n    ],\r\n    en: [\r\n      `You have reached the end of the questionnaire. \\n\\n Please click on the \"${buttonMessage?.send?.en}\" button to send it to INSEE.`,\r\n      `After sending, you will not be able to modify your answers online. \\n\\n For any modification, click on the \"${buttonMessage?.back?.en}\" button.`,\r\n    ],\r\n  },\r\n};\r\n\r\nconst validationDefault = {\r\n  title: { fr: `Validation`, en: `Validation` },\r\n  body: {\r\n    fr: [\r\n      `Vous êtes arrivé à la fin du questionnaire. \\n\\n Merci de cliquer sur le bouton \"${buttonMessage?.send?.fr}\" pour le transmettre à l'Insee.`,\r\n      `Après envoi, vous ne pourrez plus modifier vos réponses en ligne. \\n\\n Pour toute modification, cliquer sur le bouton \"${buttonMessage?.back?.fr}\".`,\r\n    ],\r\n    en: [\r\n      `You have reached the end of the questionnaire. \\n\\n Please click on the \"${buttonMessage?.send?.en}\" button to send it to INSEE.`,\r\n      `After sending, you will not be able to modify your answers online. \\n\\n For any modification, click on the \"${buttonMessage?.back?.en}\" button.`,\r\n    ],\r\n  },\r\n};\r\n\r\nconst validationBusiness = {\r\n  title: { fr: `Validation`, en: `Validation` },\r\n  body: {\r\n    fr: [\r\n      `Vous êtes arrivé à la fin du questionnaire. \\n\\n Merci de cliquer sur le bouton \"${buttonMessage?.send?.fr}\" pour le transmettre à l'Insee.`,\r\n      `Après envoi, vous ne pourrez plus modifier vos réponses en ligne. \\n\\n Pour toute modification, cliquer sur le bouton \"${buttonMessage?.back?.fr}\".`,\r\n    ],\r\n    en: [\r\n      `You have reached the end of the questionnaire. \\n\\n Please click on the \"${buttonMessage?.send?.end}\" button to send it to INSEE.`,\r\n      `After sending, you will not be able to modify your answers online. \\n\\n For any modification, click on the \"${buttonMessage?.back?.en}\" button.`,\r\n    ],\r\n  },\r\n};\r\n\r\nconst validationMessage = {\r\n  household: validationHousehold,\r\n  business: validationBusiness,\r\n  default: validationDefault,\r\n};\r\n\r\nexport const getValidationPageMessage = (inseeContext) =>\r\n  validationMessage[inseeContext];\r\n","const endHousehold = {\r\n  title: { fr: `Fin`, en: `End` },\r\n  body: {\r\n    fr: [\r\n      `\"Votre questionnaire a bien été expédié \" || validatedDate || \".\"`,\r\n      `\"L'Insee vous remercie de votre collaboration à cette enquête.\"`,\r\n    ],\r\n    en: [\r\n      `\"Your questionnaire has been sent \" || validatedDate || \".\"`,\r\n      `\"INSEE thanks you for your collaboration in this survey.\"`,\r\n    ],\r\n  },\r\n  pdfMessage: {\r\n    fr: `Télécharger la preuve de votre participation à l'enquête`,\r\n    en: `Download the proof of your participation in the survey`,\r\n  },\r\n  youCanQuit: {\r\n    fr: 'Vous pouvez à présent vous déconnecter.',\r\n    en: 'You can now log out.',\r\n  },\r\n};\r\n\r\nconst endDefault = {\r\n  title: { fr: 'Fin', en: 'End' },\r\n  body: {\r\n    fr: [\r\n      `\"Page de fin générique.\"`,\r\n      `\"L'Insee vous remercie de votre collaboration à cette enquête.\"`,\r\n    ],\r\n    en: [\r\n      '\"Generic end page.\"',\r\n      `\"INSEE thanks you for your collaboration in this survey.\"`,\r\n    ],\r\n  },\r\n};\r\n\r\nconst endBusiness = {\r\n  title: { fr: 'Fin', en: 'End' },\r\n  body: {\r\n    fr: [`\"Page de fin entreprise.\"`, `\"Merci !\"`],\r\n    en: [`\"End page for business\"`, `\"Thanks !\"`],\r\n  },\r\n  pdfMessage: {\r\n    fr: `Télécharger la preuve de votre participation à l'enquête`,\r\n    en: `Download the proof of your participation in the survey`,\r\n  },\r\n};\r\n\r\nconst endMessage = {\r\n  household: endHousehold,\r\n  business: endBusiness,\r\n  default: endDefault,\r\n};\r\n\r\nexport const getEndPageMessage = (inseeContext) => endMessage[inseeContext];\r\n","const confirmHousehold = {\r\n  title: { fr: `Confirmation de validation`, en: `Validation confirmation` },\r\n  body: {\r\n    fr: [\r\n      `Vous êtes sur le point de valider votre questionnaire, en êtes-vous sûr ? \\n\\n Après validation, vous ne pourrez plus modifier vos réponses.`,\r\n    ],\r\n    en: [`You are about to validate your questionnaire, are you sure?`],\r\n  },\r\n};\r\n\r\nconst confirmDefault = {\r\n  title: { fr: 'Confirmation de validation', en: 'Validation confirmation' },\r\n  body: {\r\n    fr: [\r\n      `Vous êtes sur le point de valider votre questionnaire, en êtes-vous sûr ? `,\r\n    ],\r\n    en: [`You are about to validate your questionnaire, are you sure?`],\r\n  },\r\n};\r\n\r\nconst confirmBusiness = {\r\n  title: { fr: 'Confirmation de validation', en: 'Validation confirmation' },\r\n  body: {\r\n    fr: [\r\n      `Vous êtes sur le point de valider votre questionnaire, en êtes-vous sûr ?`,\r\n    ],\r\n    en: [`You are about to validate your questionnaire, are you sure?`],\r\n  },\r\n};\r\n\r\nconst confirmMessage = {\r\n  household: confirmHousehold,\r\n  business: confirmBusiness,\r\n  default: confirmDefault,\r\n};\r\n\r\nexport const getConfirmationMessage = (inseeContext) =>\r\n  confirmMessage[inseeContext];\r\n","import { createDictionary, getLang } from './build-dictionary';\r\nimport dictionary from './dictionary';\r\nimport errorMessage from './errorMessage';\r\nimport buttonMessage from './buttonMessage';\r\nimport burgerMessage from './burgerMenu';\r\nimport visualizeMessage from './visualizeMessage';\r\nimport {\r\n  getWelcomePageMessage,\r\n  getValidationPageMessage,\r\n  getEndPageMessage,\r\n} from './genericPages';\r\nimport { getConfirmationMessage } from './confirmationMessage';\r\n\r\nexport const errorDictionary = createDictionary(getLang())(errorMessage);\r\nexport const buttonDictionary = createDictionary(getLang())(buttonMessage);\r\nexport const visualizeDictionary = createDictionary(getLang())(\r\n  visualizeMessage\r\n);\r\nexport const defaultDictionary = createDictionary(getLang())(dictionary);\r\n\r\nexport const burgerDictionary = createDictionary(getLang())(burgerMessage);\r\n\r\nexport const welcomePageDictionary = (inseeContext) =>\r\n  createDictionary(getLang())(getWelcomePageMessage(inseeContext));\r\n\r\nexport const validationPageDictionary = (inseeContext) =>\r\n  createDictionary(getLang())(getValidationPageMessage(inseeContext));\r\n\r\nexport const endPageDictionary = (inseeContext) =>\r\n  createDictionary(getLang())(getEndPageMessage(inseeContext));\r\n\r\nexport const confirmationDictionary = (inseeContext) =>\r\n  createDictionary(getLang())(getConfirmationMessage(inseeContext));\r\n","export const getEnvVar = (key) =>\r\n  window?._env_?.[key] || process.env[`REACT_APP_${key}`];\r\n","import { getEnvVar } from './env';\r\n\r\nconst basePath = `${window.location.origin}`;\r\n\r\nconst nameConfigFile = getEnvVar('NAME_CONFIG_FILE') ?? 'configuration.json';\r\n\r\nconst nameOidcFile = getEnvVar('NAME_OIDC_FILE') ?? 'keycloak.json';\r\n\r\nconst getFile = (url) => fetch(url).then((r) => r.json());\r\n\r\nexport const getConfiguration = () => getFile(`${basePath}/${nameConfigFile}`);\r\n\r\nexport const getOidc = () => getFile(`${basePath}/${nameOidcFile}`);\r\n","import { ORCHESTRATOR_CATEGORY } from 'utils/constants';\r\n\r\nconst getHardwareInfo = () => {\r\n  return {\r\n    userAgent: navigator.userAgent,\r\n    battery: navigator.battery,\r\n  };\r\n};\r\n\r\nclass Logger {\r\n  constructor(metadata) {\r\n    this._metadata = metadata;\r\n    this._events = [];\r\n  }\r\n\r\n  getEventsToSend() {\r\n    return {\r\n      idSU: this._metadata?.idSurveyUnit,\r\n      events: this._events,\r\n    };\r\n  }\r\n  addMetadata(metadata) {\r\n    this._metadata = { ...this._metadata, ...metadata };\r\n  }\r\n\r\n  log(event) {\r\n    this._events.push({\r\n      timestamp: new Date().getTime(),\r\n      ...this._metadata,\r\n      ...event,\r\n      idParadataObject:\r\n        event?.typeParadataObject === ORCHESTRATOR_CATEGORY\r\n          ? `${event?.idParadataObject}-${this._metadata.idOrchestrator}`\r\n          : event?.idParadataObject,\r\n      ...getHardwareInfo(),\r\n    });\r\n  }\r\n\r\n  clear() {\r\n    this._events = [];\r\n  }\r\n}\r\n\r\nexport class EventsManager {\r\n  static _instance;\r\n\r\n  static _createInstance(metadata) {\r\n    const logger = new Logger(metadata);\r\n    return logger;\r\n  }\r\n\r\n  static createEventLogger(metadata) {\r\n    if (!this._instance) {\r\n      this._instance = this._createInstance(metadata);\r\n    }\r\n    return this._instance;\r\n  }\r\n\r\n  static getLogger() {\r\n    return this._instance;\r\n  }\r\n}\r\n","import {\r\n  EVENT_TYPE_CLICK,\r\n  EVENT_TYPE_ORCHESTRATOR_CREATE,\r\n  EVENT_TYPE_SESSION_STARTED,\r\n  ORCHESTRATOR_CATEGORY,\r\n  SESSION_CATEGORY,\r\n} from 'utils/constants';\r\nimport { EventsManager } from './logger';\r\n\r\nexport const simpleLog = (info) => EventsManager.getLogger()?.log(info);\r\n\r\nexport const paradataHandler = (f) => (info) => (e) => {\r\n  simpleLog(info);\r\n  f(e);\r\n};\r\n\r\nexport const SIMPLE_CLICK_EVENT = {\r\n  typeParadataObject: ORCHESTRATOR_CATEGORY,\r\n  type: EVENT_TYPE_CLICK,\r\n};\r\n\r\nexport const INIT_ORCHESTRATOR_EVENT = {\r\n  idParadataObject: 'init',\r\n  typeParadataObject: ORCHESTRATOR_CATEGORY,\r\n  type: EVENT_TYPE_ORCHESTRATOR_CREATE,\r\n};\r\n\r\nexport const INIT_SESSION_EVENT = {\r\n  idParadataObject: 'init-session',\r\n  typeParadataObject: SESSION_CATEGORY,\r\n  type: EVENT_TYPE_SESSION_STARTED,\r\n};\r\n\r\nexport const CLOSE_ORCGRESTRATOR_EVENT = {};\r\n","export const listenActivity = () => {\r\n  const activityEvents = [\r\n    'mousedown',\r\n    'mousemove',\r\n    'keydown',\r\n    'scroll',\r\n    'touchstart',\r\n  ];\r\n  return new Promise((resolve) => {\r\n    const listener = () => {\r\n      resolve();\r\n    };\r\n    activityEvents.forEach(function (eventName) {\r\n      window.addEventListener(eventName, listener, { once: true });\r\n    });\r\n  });\r\n};\r\n","import Keycloak from 'keycloak-js';\r\nimport { READ_ONLY } from 'utils/constants';\r\n\r\nconst getCurrentSurvey = (path) => {\r\n  const temp = path.split('/questionnaire/');\r\n  if (temp.length > 1) {\r\n    const idQ = temp[1].slice(0, temp[1].indexOf('/'));\r\n    return idQ.substr(0, idQ.indexOf('2')).toLowerCase();\r\n  }\r\n  return '';\r\n};\r\n\r\nexport const createKeycloakOidcClient = async ({\r\n  url,\r\n  realm,\r\n  clientId,\r\n  identityProvider,\r\n  urlPortail,\r\n  evtUserActivity,\r\n}) => {\r\n  const keycloakInstance = Keycloak({ url, realm, clientId });\r\n\r\n  const isAuthenticated = await keycloakInstance\r\n    .init({\r\n      onLoad: 'check-sso',\r\n      silentCheckSsoRedirectUri: `${window.location.origin}/silent-sso.html`,\r\n      checkLoginIframe: false,\r\n    })\r\n    .catch((error) => error);\r\n\r\n  const login = async () => {\r\n    await keycloakInstance.login({\r\n      redirectUri: window.location.href,\r\n      // Readonly mode : Internal user login\r\n      idpHint: window.location.pathname.startsWith(`/${READ_ONLY}`)\r\n        ? identityProvider\r\n        : null,\r\n    });\r\n    return new Promise(() => {});\r\n  };\r\n\r\n  if (!isAuthenticated) {\r\n    return {\r\n      isUserLoggedIn: false,\r\n      login,\r\n    };\r\n  }\r\n\r\n  const oidcClient = {\r\n    isUserLoggedIn: true,\r\n    accessToken: keycloakInstance.token,\r\n    oidcUser: await keycloakInstance.loadUserInfo(),\r\n    logout: async (redirectTo) => {\r\n      await keycloakInstance.logout({\r\n        redirectUri: (() => {\r\n          switch (redirectTo) {\r\n            case 'portail':\r\n              return `${urlPortail}/${getCurrentSurvey(window.location.href)}`;\r\n            case 'home':\r\n              return window.location.origin;\r\n            default:\r\n              return urlPortail;\r\n          }\r\n        })(),\r\n      });\r\n\r\n      return new Promise(() => {});\r\n    },\r\n  };\r\n\r\n  (function callee() {\r\n    const msBeforeExpiration =\r\n      keycloakInstance.tokenParsed.exp * 1000 - Date.now();\r\n\r\n    setTimeout(async () => {\r\n      console.log(\r\n        `OIDC access token will expire in ${minValiditySecond} seconds, waiting for user activity before renewing`\r\n      );\r\n\r\n      await evtUserActivity();\r\n\r\n      console.log('User activity detected. Refreshing access token now');\r\n\r\n      const error = await keycloakInstance.updateToken(-1).then(\r\n        () => undefined,\r\n        (error) => error\r\n      );\r\n\r\n      if (error) {\r\n        console.log(\"Can't refresh OIDC access token, getting a new one\");\r\n        //NOTE: Never resolves\r\n        await login();\r\n      }\r\n\r\n      oidcClient.accessToken = keycloakInstance.token;\r\n\r\n      callee();\r\n    }, msBeforeExpiration - minValiditySecond * 1000);\r\n  })();\r\n\r\n  return oidcClient;\r\n};\r\n\r\nconst minValiditySecond = 25;\r\n","import { AppContext } from 'App';\r\nimport { LoaderSimple } from 'components/shared/loader';\r\nimport { errorDictionary } from 'i18n';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { getOidc } from 'utils/configuration';\r\nimport { NONE, OIDC } from 'utils/constants';\r\nimport { listenActivity } from 'utils/events';\r\nimport { createKeycloakOidcClient } from 'utils/keycloak';\r\n\r\nexport const AuthContext = React.createContext();\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const {\r\n    authenticationType: authType,\r\n    portail: urlPortail,\r\n    identityProvider,\r\n  } = useContext(AppContext);\r\n\r\n  const [oidcClient, setOidcClient] = useState(() => {\r\n    switch (authType) {\r\n      case OIDC:\r\n        return null;\r\n      case NONE:\r\n        return dummyOidcClient;\r\n      default:\r\n        throw new Error(errorDictionary.noAuthFile);\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (authType !== OIDC) {\r\n      return;\r\n    }\r\n\r\n    (async () => {\r\n      const oidcConf = await getOidc();\r\n\r\n      const oidcClient = await createKeycloakOidcClient({\r\n        url: oidcConf['auth-server-url'],\r\n        realm: oidcConf['realm'],\r\n        clientId: oidcConf['resource'],\r\n        identityProvider: identityProvider,\r\n        urlPortail,\r\n        evtUserActivity: listenActivity,\r\n      });\r\n\r\n      setOidcClient(oidcClient);\r\n    })();\r\n  }, [authType, identityProvider, urlPortail]);\r\n\r\n  if (oidcClient === null) return <LoaderSimple />;\r\n\r\n  return (\r\n    <AuthContext.Provider value={oidcClient}>{children}</AuthContext.Provider>\r\n  );\r\n};\r\n\r\nconst dummyOidcClient = {\r\n  isUserLoggedIn: true,\r\n  accessToken: null,\r\n  logout: () => (window.location.href = '/'),\r\n};\r\n\r\nexport default AuthProvider;\r\n","import React, { useContext } from 'react';\r\nimport { AuthContext } from '../provider';\r\n\r\nconst secure = (WrappedComponent) => {\r\n  const Component = (props) => {\r\n    const { isUserLoggedIn, login } = useContext(AuthContext);\r\n    const { otherProps } = props;\r\n\r\n    const ReturnedComponent = <WrappedComponent {...otherProps} />;\r\n\r\n    if (isUserLoggedIn) {\r\n      return ReturnedComponent;\r\n    }\r\n    login();\r\n    return null;\r\n  };\r\n\r\n  return Component;\r\n};\r\n\r\nexport default secure;\r\n","// manage empty response during PUT or POST request\r\nconst readJsonResponse = async (response) => {\r\n  try {\r\n    return await response.json();\r\n  } catch (e) {\r\n    return {};\r\n  }\r\n};\r\n\r\nexport const fetcher = async (url, token, method, body) => {\r\n  const headers = {\r\n    Accept: 'application/json',\r\n    'Content-Type': 'application/json',\r\n  };\r\n  try {\r\n    const response = await fetch(url, {\r\n      headers: token\r\n        ? { ...headers, Authorization: `Bearer ${token}` }\r\n        : headers,\r\n      method,\r\n      body: body ? JSON.stringify(body) : null,\r\n    });\r\n    const { ok, status, statusText } = response;\r\n    if (ok) {\r\n      try {\r\n        const data = await readJsonResponse(response);\r\n        return { data, status, statusText };\r\n      } catch (error) {\r\n        return { error: true, status, statusText: error.message };\r\n      }\r\n    } else {\r\n      return { error: true, status, statusText };\r\n    }\r\n  } catch (error) {\r\n    // network error\r\n    return { error: true, statusText: error.message };\r\n  }\r\n};\r\n\r\nconst getFilenameFromHeader = (header) => {\r\n  const res = /filename=\"(.*)\"/.exec(header);\r\n  return res && res.length > 0 ? res[1] : 'default.pdf';\r\n};\r\n\r\nexport const fetcherFile = async (url, token) => {\r\n  try {\r\n    const response = await fetch(url, {\r\n      headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n      method: 'GET',\r\n    });\r\n    const { ok, status, statusText, headers } = response;\r\n    if (ok) {\r\n      try {\r\n        const blob = await response.blob();\r\n        const file = window.URL.createObjectURL(blob);\r\n        const a = document.createElement('a');\r\n        a.href = file;\r\n        a.download = getFilenameFromHeader(headers.get('Content-disposition'));\r\n        a.click();\r\n        a.remove();\r\n        return { status, statusText };\r\n      } catch (error) {\r\n        return { error: true, status, statusText: error.message };\r\n      }\r\n    } else {\r\n      return { error: true, status, statusText };\r\n    }\r\n  } catch (error) {\r\n    // network error\r\n    return { error: true, statusText: error.message };\r\n  }\r\n};\r\n\r\nexport const getFetcherForLunatic = (token) => async (url, options) => {\r\n  const otherHeader = options?.headers || {};\r\n  return fetch(url, {\r\n    ...options,\r\n    headers: token\r\n      ? { ...otherHeader, Authorization: `Bearer ${token}` }\r\n      : otherHeader,\r\n  });\r\n};\r\n","import { fetcher, fetcherFile } from './fetcher';\r\n\r\nconst getRequest = (url) => (token) => fetcher(url, token, 'GET', null);\r\nconst putRequest = (url) => (token) => (body) =>\r\n  fetcher(url, token, 'PUT', body);\r\nconst postRequest = (url) => (token) => (body) =>\r\n  fetcher(url, token, 'POST', body);\r\n\r\n/* SurveyUnit's data */\r\nconst getSuData = (apiUrl) => (id) => (token) =>\r\n  getRequest(`${apiUrl}/api/survey-unit/${id}`)(token);\r\nconst putSuData = (apiUrl) => (id) => (token) => (body) =>\r\n  putRequest(`${apiUrl}/api/survey-unit/${id}`)(token)(body);\r\n\r\nconst putData = (apiUrl) => (id) => (token) => (body) =>\r\n  putRequest(`${apiUrl}/api/survey-unit/${id}/data`)(token)(body);\r\n\r\nconst putStateData = (apiUrl) => (id) => (token) => (body) =>\r\n  putRequest(`${apiUrl}/api/survey-unit/${id}/state-data`)(token)(body);\r\n\r\n/* Questionnaire's resource */\r\nconst getQuestionnaire = (apiUrl) => (id) => (token) =>\r\n  getRequest(`${apiUrl}/api/questionnaire/${id}`)(token);\r\n\r\nconst getRequiredNomenclatures = (apiUrl) => (id) => (token) =>\r\n  getRequest(`${apiUrl}/api/questionnaire/${id}/required-nomenclatures`)(token);\r\n\r\nconst getNomenclature = (apiUrl) => (id) => (token) =>\r\n  getRequest(`${apiUrl}/api/nomenclature/${id}`)(token);\r\n\r\nconst getMetadata = (apiUrl) => (id) => (token) =>\r\n  getRequest(`${apiUrl}/api/questionnaire/${id}/metadata`)(token);\r\n\r\nconst getDepositProof = (apiUrl) => (id) => (token) =>\r\n  fetcherFile(`${apiUrl}/api/survey-unit/${id}/deposit-proof`, token);\r\n\r\n/* Paradata */\r\nconst postParadata = (apiUrl) => (token) => (body) =>\r\n  postRequest(`${apiUrl}/api/paradata`)(token)(body);\r\n\r\nexport const API = {\r\n  getRequest,\r\n  getSuData,\r\n  putSuData,\r\n  getQuestionnaire,\r\n  getRequiredNomenclatures,\r\n  getNomenclature,\r\n  getMetadata,\r\n  getDepositProof,\r\n  postParadata,\r\n  putData,\r\n  putStateData,\r\n};\r\n","import { useState, useRef } from 'react';\r\n/**\r\n * See https://github.com/garronej/powerhooks#useconstcallback for details\r\n */\r\nexport function useConstCallback(callback) {\r\n  const callbackRef = useRef();\r\n  callbackRef.current = callback;\r\n  return useState(\r\n    () =>\r\n      (...args) =>\r\n        callbackRef.current(...args)\r\n  )[0];\r\n}\r\n","import { useContext, useEffect, useState } from 'react';\r\nimport { AppContext } from 'App';\r\nimport { AuthContext } from 'components/auth/provider';\r\nimport { errorDictionary } from 'i18n';\r\nimport { API } from 'utils/api';\r\nimport { DEFAULT_DATA_URL, DEFAULT_METADATA_URL } from 'utils/constants';\r\nimport { getFetcherForLunatic } from 'utils/api/fetcher';\r\nimport { useConstCallback } from './useConstCallback';\r\n\r\nconst getErrorMessage = (response, type = 'q') => {\r\n  const { status } = response;\r\n  if (status === 401) return errorDictionary.getError401;\r\n  if (status === 403) return errorDictionary.getError403(type);\r\n  if (status === 404) return errorDictionary.getError404(type);\r\n  if (status >= 500 && status < 600) return errorDictionary.getErrorServeur;\r\n  return errorDictionary.getUnknownError;\r\n};\r\n\r\nexport const useLunaticFetcher = () => {\r\n  const oidcClient = useContext(AuthContext);\r\n\r\n  const lunaticFetcher = useConstCallback((url, options) =>\r\n    getFetcherForLunatic(oidcClient.accessToken)(url, options)\r\n  );\r\n\r\n  return { lunaticFetcher };\r\n};\r\n\r\nexport const useAPI = (surveyUnitID, questionnaireID) => {\r\n  const oidcClient = useContext(AuthContext);\r\n  const { apiUrl } = useContext(AppContext);\r\n\r\n  const getRequiredNomenclatures = useConstCallback(() =>\r\n    API.getRequiredNomenclatures(apiUrl)(questionnaireID)(\r\n      oidcClient.accessToken\r\n    )\r\n  );\r\n\r\n  const getNomenclature = useConstCallback(() =>\r\n    API.getNomenclature(apiUrl)(questionnaireID)(oidcClient.accessToken)\r\n  );\r\n\r\n  const getQuestionnaire = useConstCallback(() =>\r\n    API.getQuestionnaire(apiUrl)(questionnaireID)(oidcClient.accessToken)\r\n  );\r\n\r\n  const getMetadata = useConstCallback(() =>\r\n    API.getMetadata(apiUrl)(questionnaireID)(oidcClient.accessToken)\r\n  );\r\n\r\n  const getSuData = useConstCallback(() =>\r\n    API.getSuData(apiUrl)(surveyUnitID)(oidcClient.accessToken)\r\n  );\r\n\r\n  const getPDF = useConstCallback(() =>\r\n    API.getDepositProof(apiUrl)(surveyUnitID)(oidcClient.accessToken)\r\n  );\r\n\r\n  const putSuData = useConstCallback((body) =>\r\n    API.putSuData(apiUrl)(surveyUnitID)(oidcClient.accessToken)(body)\r\n  );\r\n\r\n  const putData = useConstCallback((body) =>\r\n    API.putData(apiUrl)(surveyUnitID)(oidcClient.accessToken)(body)\r\n  );\r\n\r\n  const putStateData = useConstCallback((body) =>\r\n    API.putStateData(apiUrl)(surveyUnitID)(oidcClient.accessToken)(body)\r\n  );\r\n\r\n  const postParadata = useConstCallback((body) =>\r\n    API.postParadata(apiUrl)(oidcClient.accessToken)(body)\r\n  );\r\n\r\n  return {\r\n    getRequiredNomenclatures,\r\n    getNomenclature,\r\n    getQuestionnaire,\r\n    getMetadata,\r\n    getSuData,\r\n    getPDF,\r\n    putSuData,\r\n    postParadata,\r\n    putData,\r\n    putStateData,\r\n  };\r\n};\r\n\r\nexport const useAPIRemoteData = (surveyUnitID, questionnaireID) => {\r\n  const [questionnaire, setQuestionnaire] = useState(null);\r\n  const [metadata, setMetadata] = useState(null);\r\n  const [suData, setSuData] = useState(null);\r\n  const [nomenclatures, setNomenclatures] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n  const { getSuData, getRequiredNomenclatures, getQuestionnaire, getMetadata } =\r\n    useAPI(surveyUnitID, questionnaireID);\r\n\r\n  useEffect(() => {\r\n    if (questionnaireID && surveyUnitID) {\r\n      setErrorMessage(null);\r\n      setNomenclatures(null);\r\n      const load = async () => {\r\n        const qR = await getQuestionnaire();\r\n        const nR = await getRequiredNomenclatures();\r\n        if (!qR.error) {\r\n          setQuestionnaire(qR.data.value);\r\n          setNomenclatures(nR.data);\r\n          const mR = await getMetadata();\r\n          if (!mR.error) {\r\n            setMetadata(mR.data);\r\n            const dR = await getSuData();\r\n            if (!dR.error) {\r\n              setSuData(dR.data);\r\n              setLoading(false);\r\n            } else setErrorMessage(getErrorMessage(dR, 'd'));\r\n            setLoading(false);\r\n          } else setErrorMessage(getErrorMessage(mR, 'm'));\r\n          setLoading(false);\r\n        } else setErrorMessage(getErrorMessage(qR, 'q'));\r\n        setLoading(false);\r\n      };\r\n      load();\r\n    }\r\n    // assume that we don't resend request to get data and questionnaire when token was refreshed\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [surveyUnitID, questionnaireID]);\r\n\r\n  return {\r\n    loading,\r\n    errorMessage,\r\n    suData,\r\n    questionnaire,\r\n    metadata,\r\n    nomenclatures,\r\n  };\r\n};\r\n\r\nexport const useRemoteData = (questionnaireUrl, metadataUrl, dataUrl) => {\r\n  const [questionnaire, setQuestionnaire] = useState(null);\r\n  const [metadata, setMetadata] = useState(null);\r\n  const [suData, setSuData] = useState(null);\r\n  const [nomenclatures, setNomenclatures] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [errorMessage, setErrorMessage] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (questionnaireUrl) {\r\n      setErrorMessage(null);\r\n      setQuestionnaire(null);\r\n      setNomenclatures(null);\r\n      setSuData(null);\r\n      const fakeToken = null;\r\n      const load = async () => {\r\n        const qR = await API.getRequest(questionnaireUrl)(fakeToken);\r\n        if (!qR.error) {\r\n          setQuestionnaire(qR.data);\r\n          setNomenclatures([]); // fake nomenclatures for vizu\r\n          const mR = await API.getRequest(metadataUrl || DEFAULT_METADATA_URL)(\r\n            fakeToken\r\n          );\r\n          if (!mR.error) {\r\n            setMetadata(mR.data);\r\n            const dR = await API.getRequest(dataUrl || DEFAULT_DATA_URL)(\r\n              fakeToken\r\n            );\r\n            if (!dR.error) {\r\n              setSuData(dR.data);\r\n              setLoading(false);\r\n            } else setErrorMessage(getErrorMessage(dR, 'd'));\r\n            setLoading(false);\r\n          } else setErrorMessage(getErrorMessage(mR, 'm'));\r\n          setLoading(false);\r\n        } else setErrorMessage(getErrorMessage(qR, 'q'));\r\n        setLoading(false);\r\n      };\r\n      load();\r\n    }\r\n  }, [questionnaireUrl, metadataUrl, dataUrl]);\r\n\r\n  return {\r\n    loading,\r\n    errorMessage,\r\n    suData,\r\n    questionnaire,\r\n    metadata,\r\n    nomenclatures,\r\n  };\r\n};\r\n","import React from 'react';\r\nimport { default as MuiButton } from '@material-ui/core/Button';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: theme.palette.secondary.main,\r\n    color: theme.palette.primary.main,\r\n    textTransform: 'none',\r\n    '&:hover,&:focus': {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: theme.palette.secondary.main,\r\n    },\r\n  },\r\n}));\r\n\r\nexport const Button = ({\r\n  className,\r\n  color,\r\n  children,\r\n  disabled,\r\n  onClick,\r\n  startIcon,\r\n  endIcon,\r\n  ...other\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <MuiButton\r\n      className={`${classes.root} ${className}`}\r\n      disabled={disabled}\r\n      onClick={onClick}\r\n      startIcon={startIcon}\r\n      endIcon={endIcon}\r\n      {...other}\r\n    >\r\n      {children}\r\n    </MuiButton>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { default as MuiLink } from '@material-ui/core/Link';\r\nimport ReactMarkdown from 'react-markdown';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  header: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst MarkdownParagraph = (props) => {\r\n  return <Typography>{props.children}</Typography>;\r\n};\r\n\r\nconst MarkdownHeading = (props) => {\r\n  const classes = useStyles();\r\n  let variant;\r\n  switch (props.level) {\r\n    case 1:\r\n      variant = 'h5';\r\n      break;\r\n    case 2:\r\n      variant = 'h6';\r\n      break;\r\n    case 3:\r\n      variant = 'subtitle1';\r\n      break;\r\n    case 4:\r\n      variant = 'subtitle2';\r\n      break;\r\n    default:\r\n      variant = 'h6';\r\n      break;\r\n  }\r\n  return (\r\n    <Typography className={classes.header} gutterBottom variant={variant}>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n};\r\n\r\nconst Link = (props) => <MuiLink target='_blank' {...props} />;\r\n\r\nconst MarkdownListItem = (props) => {\r\n  return (\r\n    <li>\r\n      <Typography component='span'>{props.children}</Typography>\r\n    </li>\r\n  );\r\n};\r\n\r\nconst renderers = {\r\n  heading: MarkdownHeading,\r\n  paragraph: MarkdownParagraph,\r\n  link: Link,\r\n  listItem: MarkdownListItem,\r\n};\r\n\r\nexport const MarkdownTypo = (props) => (\r\n  <ReactMarkdown\r\n    className='stromae-md'\r\n    skipHtml={false}\r\n    renderers={renderers}\r\n    {...props}\r\n  />\r\n);\r\n","import { getLang } from 'i18n/build-dictionary';\r\nimport { fr, enUS } from 'date-fns/locale';\r\n\r\nexport const buildBuidings = (variables) => {\r\n  if (Array.isArray(variables)) {\r\n    return variables.reduce((acc, { name, value }) => {\r\n      acc[name] = value;\r\n      return acc;\r\n    }, {});\r\n  }\r\n  return {};\r\n};\r\n\r\nexport const buildDefaultBindings = (bindingDependencies) => {\r\n  if (Array.isArray(bindingDependencies)) {\r\n    return bindingDependencies.reduce((acc, name) => {\r\n      acc[name] = null;\r\n      return acc;\r\n    }, {});\r\n  }\r\n  return {};\r\n};\r\n\r\nexport const dateFnsLocal = getLang() === 'fr' ? fr : enUS;\r\n\r\nexport const formatLocal =\r\n  getLang() === 'fr' ? 'dd/MM/yyyy à HH:mm' : 'dd/MM/yyyy HH:mm a';\r\n","import React from 'react';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { interpret } from '@inseefr/trevas';\r\nimport { welcomePageDictionary } from 'i18n';\r\nimport { MarkdownTypo } from 'components/designSystem';\r\nimport { buildBuidings, buildDefaultBindings } from 'utils/personalization';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: { marginLeft: '1em', marginRight: '1em' },\r\n  accordionDetails: {\r\n    display: 'block',\r\n  },\r\n  accordion: { backgroundColor: '#b9b9b969' },\r\n  legalTermsTitle: { fontWeight: 'bold' },\r\n}));\r\n\r\nconst WelcomePage = ({\r\n  metadata: { inseeContext, variables, genericPages },\r\n  personalization,\r\n}) => {\r\n  const classes = useStyles();\r\n  const { title, body, legalTermsTitle, legalTermsDetails } =\r\n    genericPages?.welcome || welcomePageDictionary(inseeContext);\r\n\r\n  const getBodyWithVariables = (myBody, bindingDependencies) =>\r\n    interpret(myBody, {\r\n      ...buildDefaultBindings(bindingDependencies),\r\n      ...buildBuidings(variables),\r\n      ...buildBuidings(personalization),\r\n    });\r\n\r\n  const getFinalLabel = (label) =>\r\n    label || `Not yet Implemented for ${inseeContext}`;\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader title={getFinalLabel(title)} />\r\n      <Divider />\r\n      <CardContent>\r\n        {body?.value?.map((line, i) => (\r\n          <React.Fragment key={`line-${i}`}>\r\n            <MarkdownTypo>\r\n              {getBodyWithVariables(\r\n                getFinalLabel(line),\r\n                body?.bindingDependencies\r\n              )}\r\n            </MarkdownTypo>\r\n            {i !== body?.value?.length - 1 && <br />}\r\n          </React.Fragment>\r\n        ))}\r\n        {legalTermsTitle && (\r\n          <Accordion className={classes.accordion}>\r\n            <AccordionSummary\r\n              expandIcon={<ExpandMore />}\r\n              aria-controls='panel1a-content'\r\n              id='panel1a-header'\r\n            >\r\n              <Typography className={classes.legalTermsTitle}>\r\n                {legalTermsTitle}\r\n              </Typography>\r\n            </AccordionSummary>\r\n            <AccordionDetails className={classes.accordionDetails}>\r\n              {legalTermsDetails?.value?.map((line, i) => (\r\n                <React.Fragment key={`line-${i}`}>\r\n                  <MarkdownTypo>\r\n                    {getBodyWithVariables(\r\n                      line,\r\n                      legalTermsDetails?.bindingDependencies\r\n                    )}\r\n                  </MarkdownTypo>\r\n                  {i !== legalTermsDetails.length - 1 && <br />}\r\n                </React.Fragment>\r\n              ))}\r\n            </AccordionDetails>\r\n          </Accordion>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\nexport default WelcomePage;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { Button as InseeButton } from 'components/designSystem/Button';\r\nimport { GetApp } from '@material-ui/icons';\r\nimport { useAPI } from 'utils/hooks';\r\nimport { useLocation, useParams } from 'react-router-dom';\r\nimport { formatDistance, format } from 'date-fns';\r\nimport { buttonDictionary, endPageDictionary } from 'i18n';\r\nimport {\r\n  buildBuidings,\r\n  dateFnsLocal,\r\n  formatLocal,\r\n} from 'utils/personalization';\r\nimport { interpret } from '@inseefr/trevas';\r\nimport { MarkdownTypo } from 'components/designSystem';\r\nimport { paradataHandler, SIMPLE_CLICK_EVENT } from 'utils/events';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: { marginLeft: '1em', marginRight: '1em' },\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  download: {\r\n    marginTop: theme.spacing(2),\r\n    margin: 'auto',\r\n  },\r\n  actions: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n  },\r\n}));\r\n\r\nconst EndPage = ({\r\n  logoutAndClose,\r\n  metadata: { inseeContext, variables, genericPages },\r\n  personalization,\r\n  stateData: { date },\r\n  currentPage,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const utilInfo = (type) => {\r\n    return {\r\n      ...SIMPLE_CLICK_EVENT,\r\n      idParadataObject: `${type}-button`,\r\n      page: currentPage,\r\n    };\r\n  };\r\n  const finalDate = date || 0;\r\n\r\n  const { pathname } = useLocation();\r\n\r\n  const { idQ, idSU } = useParams();\r\n  const { getPDF } = useAPI(idSU, idQ);\r\n\r\n  const { title, body, pdfMessage, youCanQuit } =\r\n    genericPages?.end || endPageDictionary(inseeContext);\r\n\r\n  const download = async () => {\r\n    const { error, status } = await getPDF();\r\n    console.log(`${status} : ${error}`);\r\n  };\r\n\r\n  const validatedDate = `${formatDistance(finalDate, new Date(), {\r\n    addSuffix: true,\r\n    locale: dateFnsLocal,\r\n  })} (${format(finalDate, formatLocal)})`;\r\n\r\n  const getBodyWithVariables = (myBody) =>\r\n    interpret(myBody, {\r\n      validatedDate,\r\n      ...buildBuidings(variables),\r\n      ...buildBuidings(personalization),\r\n    });\r\n\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader title={title} />\r\n      <Divider />\r\n      <CardContent className={classes.root}>\r\n        {body.map((line, i) => (\r\n          <React.Fragment key={`line-${i}`}>\r\n            <MarkdownTypo>{getBodyWithVariables(line)}</MarkdownTypo>\r\n            {i !== body.length - 1 && <br />}\r\n          </React.Fragment>\r\n        ))}\r\n        {!pathname.includes('visualize') && (\r\n          <>\r\n            <br />\r\n            <Typography>{pdfMessage}</Typography>\r\n            <Button\r\n              className={classes.download}\r\n              variant='contained'\r\n              color='primary'\r\n              endIcon={<GetApp />}\r\n              onClick={paradataHandler(download)(utilInfo('download'))}\r\n            >\r\n              {buttonDictionary.download}\r\n            </Button>\r\n          </>\r\n        )}\r\n        <br />\r\n        <Typography>{youCanQuit}</Typography>\r\n      </CardContent>\r\n      <CardActions className={classes.actions}>\r\n        <InseeButton\r\n          onClick={paradataHandler(logoutAndClose)(utilInfo('logout-close'))}\r\n        >\r\n          {buttonDictionary.logoutAndClose}\r\n        </InseeButton>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n};\r\nexport default EndPage;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Send from '@material-ui/icons/Send';\r\nimport { validationPageDictionary, buttonDictionary } from 'i18n';\r\nimport { MarkdownTypo } from 'components/designSystem';\r\nimport { paradataHandler, SIMPLE_CLICK_EVENT } from 'utils/events';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  card: { marginLeft: '1em', marginRight: '1em' },\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  send: {\r\n    marginTop: theme.spacing(2),\r\n    margin: 'auto',\r\n  },\r\n}));\r\n\r\nconst ValidationPage = ({\r\n  metadata: { inseeContext, genericPages },\r\n  setValidationConfirmation,\r\n  currentPage,\r\n}) => {\r\n  const classes = useStyles();\r\n  const { title, body } =\r\n    genericPages?.validation || validationPageDictionary(inseeContext);\r\n  const utilInfo = {\r\n    ...SIMPLE_CLICK_EVENT,\r\n    idParadataObject: 'validate-button',\r\n    page: currentPage,\r\n  };\r\n  return (\r\n    <Card className={classes.card}>\r\n      <CardHeader title={title} />\r\n      <Divider />\r\n      <CardContent className={classes.root}>\r\n        {body.map((line, i) => (\r\n          <React.Fragment key={`line-${i}`}>\r\n            <MarkdownTypo>{line}</MarkdownTypo>\r\n            {i !== body.length - 1 && <br />}\r\n          </React.Fragment>\r\n        ))}\r\n        <Button\r\n          className={classes.send}\r\n          variant='contained'\r\n          color='primary'\r\n          endIcon={<Send />}\r\n          onClick={paradataHandler(() => setValidationConfirmation(true))(\r\n            utilInfo\r\n          )}\r\n        >\r\n          {buttonDictionary.send}\r\n        </Button>\r\n        <br />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\nexport default ValidationPage;\r\n","import { List, ListItem, makeStyles } from '@material-ui/core';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { Button } from 'components/designSystem/Button';\nimport { buttonDictionary, errorDictionary } from 'i18n';\nimport { useCallback } from 'react';\nimport { paradataHandler, SIMPLE_CLICK_EVENT } from 'utils/events';\n\nconst useStyles = makeStyles((theme) => ({\n  error: {\n    color: '#a71616',\n  },\n}));\n\nfunction Error({ errorMessage }) {\n  const classes = useStyles();\n  return (\n    <ListItem className={classes.error}>\n      <div>{errorMessage}</div>\n    </ListItem>\n  );\n}\n\nfunction ComponentErrors({ errors }) {\n  const content = errors.map(function (error, index) {\n    return <Error {...error} key={index} />;\n  }, []);\n  return <List>{content}</List>;\n}\n\nconst ErrorsModal = ({\n  onClose,\n  goNext,\n  currentPage,\n  errors: orignalErrors = {},\n}) => {\n  const utilInfo = useCallback(\n    (type) => {\n      return {\n        ...SIMPLE_CLICK_EVENT,\n        idParadataObject: `${type}-error-modal-button`,\n        page: currentPage,\n      };\n    },\n    [currentPage]\n  );\n\n  const { currentErrors, isCritical } = orignalErrors;\n\n  const ignoreErrors = useCallback(\n    (event) => {\n      // pass skipValidation to \"true\" to skip validation and change page\n      goNext(event, true);\n    },\n    [goNext]\n  );\n\n  const correctErrors = useCallback(() => {\n    onClose();\n  }, [onClose]);\n\n  const content = (\n    <ComponentErrors\n      errors={Object.entries(currentErrors).reduce(function (acc, [, errors]) {\n        return [...acc, ...errors];\n      }, [])}\n    />\n  );\n\n  return (\n    <Dialog\n      open\n      onClose={paradataHandler(onClose)(utilInfo('close'))}\n      disableEscapeKeyDown\n      aria-labelledby='alert-dialog-slide-title'\n      aria-describedby='alert-dialog-slide-description'\n    >\n      <DialogTitle id='alert-dialog-slide-title'>\n        {errorDictionary.errorModalTitle}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id='alert-dialog-slide-description' component='div'>\n          {content}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={paradataHandler(correctErrors)(utilInfo('correct'))}>\n          {buttonDictionary.MODAL_CORRECT}\n        </Button>\n        {!isCritical && (\n          <Button onClick={paradataHandler(ignoreErrors)(utilInfo('ignore'))}>\n            {buttonDictionary.MODAL_IGNORE}\n          </Button>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ErrorsModal;\n","import Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { MarkdownTypo } from 'components/designSystem';\nimport { Button } from 'components/designSystem/Button';\nimport { buttonDictionary, confirmationDictionary } from 'i18n';\nimport React from 'react';\nimport { paradataHandler, SIMPLE_CLICK_EVENT } from 'utils/events';\n\nconst SendingConfirmation = ({\n  open,\n  setOpen,\n  metadata: { inseeContext },\n  validateQuestionnaire,\n  currentPage,\n}) => {\n  const { title, body } = confirmationDictionary(inseeContext);\n\n  const utilInfo = (type) => {\n    return {\n      ...SIMPLE_CLICK_EVENT,\n      idParadataObject: `${type}-sending-modal-button`,\n      page: currentPage,\n    };\n  };\n\n  const close = () => setOpen(false);\n\n  const agree = () => {\n    setOpen(false);\n    validateQuestionnaire();\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={paradataHandler(close)(utilInfo('close'))}\n      disableEscapeKeyDown\n      aria-labelledby='alert-dialog-slide-title'\n      aria-describedby='alert-dialog-slide-description'\n    >\n      <DialogTitle id='alert-dialog-slide-title'>{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id='alert-dialog-slide-description' component='div'>\n          {body.map((line, i) => (\n            <React.Fragment key={`line-${i}`}>\n              <MarkdownTypo>{line}</MarkdownTypo>\n              {i !== body.length - 1 && <br />}\n            </React.Fragment>\n          ))}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={paradataHandler(close)(utilInfo('disagree'))}>\n          {buttonDictionary.no}\n        </Button>\n        <Button onClick={paradataHandler(agree)(utilInfo('agree'))}>\n          {buttonDictionary.yes}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default SendingConfirmation;\n","import Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { MarkdownTypo } from 'components/designSystem';\nimport { Button } from 'components/designSystem/Button';\nimport { buttonDictionary, defaultDictionary } from 'i18n';\nimport { paradataHandler, SIMPLE_CLICK_EVENT } from 'utils/events';\n\nconst utilInfo = (type) => {\n  return {\n    ...SIMPLE_CLICK_EVENT,\n    idParadataObject: `${type}-welcomeBack-modal-button`,\n  };\n};\n\nconst WelcomeBack = ({ open, setOpen, goToFirstPage }) => {\n  const goToCurrentPage = () => {\n    setOpen(false);\n  };\n\n  const goToFirst = () => {\n    goToFirstPage();\n    setOpen(false);\n  };\n\n  return (\n    <Dialog\n      open={open}\n      disableEscapeKeyDown\n      onClose={paradataHandler(goToCurrentPage)(utilInfo('close'))}\n      aria-labelledby='alert-dialog-slide-title'\n      aria-describedby='alert-dialog-slide-description'\n    >\n      <DialogTitle id='alert-dialog-slide-title'>\n        {defaultDictionary.welcomeBackTitle}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id='alert-dialog-slide-description' component='div'>\n          <MarkdownTypo>{defaultDictionary.welcomeBackBody}</MarkdownTypo>\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={paradataHandler(goToCurrentPage)(\n            utilInfo('goToCurrentPage')\n          )}\n        >\n          {buttonDictionary.goBackToCurrentPage}\n        </Button>\n        <Button onClick={paradataHandler(goToFirst)(utilInfo('goToFirstPage'))}>\n          {buttonDictionary.goToFirstPage}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default WelcomeBack;\n","export default __webpack_public_path__ + \"static/media/insee.87290282.png\";","import React, { useEffect } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Skeleton } from '@material-ui/lab';\r\nimport logo from 'img/insee.png';\r\nimport './appBar.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  title: { flexGrow: 1 },\r\n}));\r\n\r\nconst AppBarMenu = ({ title, metadata: { mainLogo } }) => {\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    if (mainLogo) {\r\n      document.head.querySelectorAll(\"link[rel*='icon']\").forEach((link) => {\r\n        link.href = `${mainLogo}`;\r\n      });\r\n    }\r\n  }, [mainLogo]);\r\n\r\n  return (\r\n    <>\r\n      <AppBar position='static'>\r\n        <Toolbar id='generalToolbar'>\r\n          <img\r\n            id='inseeLogoGeneralToolbar'\r\n            src={mainLogo || logo}\r\n            alt=\"Logo de l'Insee\"\r\n          />\r\n          <Typography id='appBarTitle' variant='h6' className={classes.title}>\r\n            {title ? title : <Skeleton variant='text' />}\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </>\r\n  );\r\n};\r\nexport default AppBarMenu;\r\n","import Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { AppContext } from 'App';\nimport { Button } from 'components/designSystem/Button';\nimport { buttonDictionary, defaultDictionary } from 'i18n';\nimport { useContext } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { HOUSEHOLD } from 'utils/constants';\nimport { paradataHandler, SIMPLE_CLICK_EVENT } from 'utils/events';\n\nconst utilInfo = (type, currentPage) => {\n  return {\n    ...SIMPLE_CLICK_EVENT,\n    idParadataObject: `${type}-assistance-modal-button`,\n    page: currentPage,\n  };\n};\n\nconst Assistance = ({\n  open,\n  setOpen,\n  metadata: { inseeContext },\n  currentPage,\n}) => {\n  const { idQ, idSU } = useParams();\n  const { portail } = useContext(AppContext);\n\n  const disagree = () => {\n    setOpen(false);\n  };\n  const agree = () => {\n    setOpen(false);\n    if (inseeContext === HOUSEHOLD && idQ) {\n      window.open(\n        `${portail}/${idQ\n          .substr(0, idQ.indexOf('2'))\n          .toLowerCase()}/contacter-assistance/auth?idue=${idSU}`,\n        '_blank'\n      );\n    }\n  };\n\n  return (\n    <Dialog\n      open={open}\n      onClose={paradataHandler(disagree)(utilInfo('close', currentPage))}\n      disableEscapeKeyDown\n      aria-labelledby='alert-dialog-slide-title'\n      aria-describedby='alert-dialog-slide-description'\n    >\n      <DialogTitle id='alert-dialog-slide-title'>\n        {defaultDictionary.assistanceTitle}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id='alert-dialog-slide-description'>\n          {defaultDictionary.assistanceBody}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button\n          onClick={paradataHandler(disagree)(utilInfo('disagree', currentPage))}\n        >\n          {buttonDictionary.no}\n        </Button>\n        <Button\n          onClick={paradataHandler(agree)(utilInfo('agree', currentPage))}\n        >\n          {buttonDictionary.yes}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default Assistance;\n","import { version, dependencies } from '../../../package.json';\r\nexport const stromaeVersion = version;\r\nexport const lunaticVersion = dependencies['@inseefr/lunatic'].replace('^', '');\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { lunaticVersion, stromaeVersion } from 'utils/app';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    textAlign: 'center',\r\n    padding: '2px 0 2px 0',\r\n  },\r\n});\r\n\r\nexport const AppVersion = ({ className }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Typography className={`${className} ${classes.root}`}>\r\n      {`Stromae : ${stromaeVersion} | Lunatic : ${lunaticVersion}`}\r\n    </Typography>\r\n  );\r\n};\r\n","import React, { useContext, useState, useEffect } from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Help from '@material-ui/icons/Help';\r\nimport ExitToApp from '@material-ui/icons/ExitToApp';\r\nimport Close from '@material-ui/icons/Close';\r\nimport { AssistanceConfirm } from 'components/modals/assistance';\r\nimport { HOUSEHOLD } from 'utils/constants';\r\nimport { SIMPLE_CLICK_EVENT, paradataHandler } from 'utils/events';\r\nimport './burgerMenu.css';\r\nimport { AppVersion } from 'components/designSystem/AppVersion';\r\nimport { burgerDictionary } from 'i18n';\r\nimport { AuthContext } from 'components/auth/provider/component';\r\n\r\nconst utilInfo = (type, page) => {\r\n  return { ...SIMPLE_CLICK_EVENT, idParadataObject: `${type}-button`, page };\r\n};\r\n\r\nconst BurgerMenu = ({ metadata, currentPage, logoutAndClose }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [assistance, setAssistance] = useState(false);\r\n  const { inseeContext } = metadata;\r\n\r\n  const { isUserLoggedIn } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', closeMenu);\r\n    return () => {\r\n      window.removeEventListener('scroll', closeMenu);\r\n    };\r\n  }, []);\r\n\r\n  const toggleMenu = function () {\r\n    setIsOpen(!isOpen);\r\n  };\r\n\r\n  const closeMenu = function () {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div id='burgerMenu' className={isOpen ? 'opened' : 'closed'}>\r\n        <div id='burgerMenuSlideBar'>\r\n          <IconButton\r\n            className='burgerMenuButton'\r\n            aria-label='Assistance'\r\n            color='inherit'\r\n            onClick={() => setAssistance(true)}\r\n          >\r\n            <Help />\r\n            &nbsp;\r\n            <span className='slideBarButtonText'>{burgerDictionary.help}</span>\r\n          </IconButton>\r\n          {isUserLoggedIn && inseeContext === HOUSEHOLD && (\r\n            <IconButton\r\n              className='burgerMenuButton'\r\n              aria-label='Déconnexion'\r\n              color='inherit'\r\n              onClick={paradataHandler(logoutAndClose)(\r\n                utilInfo('logout', currentPage)\r\n              )}\r\n            >\r\n              <ExitToApp />\r\n              &nbsp;\r\n              <span className='slideBarButtonText'>\r\n                {burgerDictionary.exit}\r\n              </span>\r\n            </IconButton>\r\n          )}\r\n          <AppVersion className='appVersion' />\r\n        </div>\r\n        <div id='burgerMenuToggleTab'>\r\n          <Typography id='toggleSlidebarText'>\r\n            {burgerDictionary.menu}\r\n          </Typography>\r\n          <IconButton\r\n            id='toggleSlidebarButton'\r\n            edge='start'\r\n            color='inherit'\r\n            aria-label='menu'\r\n            onClick={() => toggleMenu()}\r\n          >\r\n            {isOpen ? <Close /> : <MenuIcon />}\r\n          </IconButton>\r\n        </div>\r\n      </div>\r\n      <AssistanceConfirm\r\n        open={assistance}\r\n        setOpen={setAssistance}\r\n        metadata={metadata}\r\n        currentPage={currentPage}\r\n      />\r\n    </>\r\n  );\r\n};\r\nexport default BurgerMenu;\r\n","export const WELCOME_PAGE = 'welcomePage';\r\nexport const VALIDATION_PAGE = 'validationPage';\r\nexport const END_PAGE = 'endPage';\r\n\r\nexport const isLunaticPage = (page) =>\r\n  ![WELCOME_PAGE, VALIDATION_PAGE, END_PAGE].includes(page);\r\n","export const downloadDataAsJson = (data, fileName) => {\r\n  const dataStr =\r\n    'data:text/json;charset=utf-8,' +\r\n    encodeURIComponent(JSON.stringify(data, null, '\\t'));\r\n  const downloadAnchorNode = document.createElement('a');\r\n  downloadAnchorNode.setAttribute('href', dataStr);\r\n  downloadAnchorNode.setAttribute('download', fileName + '.json');\r\n  document.body.appendChild(downloadAnchorNode); // required for firefox\r\n  downloadAnchorNode.click();\r\n  downloadAnchorNode.remove();\r\n};\r\n","import React from 'react';\r\nimport { Button } from 'components/designSystem';\r\nimport { buttonDictionary } from 'i18n';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { VALIDATION_PAGE, WELCOME_PAGE } from 'utils/pagination';\r\nimport { paradataHandler, SIMPLE_CLICK_EVENT } from 'utils/events';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    backgroundColor: 'whitesmoke',\r\n    bottom: 0,\r\n    left: 0,\r\n    top: 'auto',\r\n    width: '100%',\r\n    position: 'fixed',\r\n    display: 'flex',\r\n    justifyContent: 'flex-end',\r\n    alignItems: 'center',\r\n    flex: '0 0 auto',\r\n    borderTop: '1px solid grey',\r\n    paddingTop: '3px',\r\n    paddingBottom: '2px',\r\n    zIndex: '100',\r\n  },\r\n  navButton: {\r\n    '&:last-child': {\r\n      marginRight: '5px',\r\n      marginLeft: '5px',\r\n    },\r\n  },\r\n}));\r\n\r\nconst ButtonsNavigation = ({\r\n  currentPage,\r\n  onPrevious,\r\n  onNext,\r\n  validateQuestionnaire,\r\n}) => {\r\n  const classes = useStyles();\r\n  const nextLabel = () => {\r\n    if (currentPage === WELCOME_PAGE) return buttonDictionary.start;\r\n    if (currentPage === VALIDATION_PAGE) return buttonDictionary.send;\r\n    return buttonDictionary.saveAndNext;\r\n  };\r\n  const nextFunction =\r\n    currentPage === VALIDATION_PAGE ? validateQuestionnaire : onNext;\r\n\r\n  const utilInfo = (type) => {\r\n    return {\r\n      ...SIMPLE_CLICK_EVENT,\r\n      idParadataObject: `${type}-button`,\r\n      page: currentPage,\r\n    };\r\n  };\r\n  return (\r\n    <footer role='navigation' className={classes.root}>\r\n      {currentPage !== WELCOME_PAGE && (\r\n        <Button\r\n          className={classes.navButton}\r\n          onClick={paradataHandler(onPrevious)(utilInfo('previous'))}\r\n        >\r\n          {buttonDictionary.back}\r\n        </Button>\r\n      )}\r\n      <Button\r\n        className={classes.navButton}\r\n        onClick={paradataHandler(nextFunction)(utilInfo('next'))}\r\n        id={'next-button'}\r\n      >\r\n        {nextLabel()}\r\n      </Button>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default ButtonsNavigation;\r\n","//This method works with style sheet serve as octet-stream like with S3 server (minio for example)\r\nconst loadStyleSheetAsText = (url) => {\r\n  fetch(url)\r\n    .then((response) => response.text())\r\n    .then((text) => {\r\n      const styleSheet = document.createElement('style');\r\n      styleSheet.type = 'text/css';\r\n      styleSheet.innerText = text;\r\n      document.head.appendChild(styleSheet);\r\n    });\r\n};\r\n\r\nconst loadStyleSheetWithLink = (url) => {\r\n  const styleSheet = document.createElement('link');\r\n  styleSheet.rel = 'stylesheet';\r\n  styleSheet.href = url;\r\n  document.head.appendChild(styleSheet);\r\n};\r\n\r\nexport const addStyleSheet = (url) => {\r\n  try {\r\n    loadStyleSheetWithLink(url);\r\n  } catch (e) {\r\n    loadStyleSheetAsText(url);\r\n  }\r\n};\r\n","import React, { useState, useEffect, useMemo } from 'react';\r\nimport { addStyleSheet } from 'utils/style';\r\nimport { createTheme, ThemeProvider } from '@material-ui/core/styles';\r\n\r\nexport const StyleContext = React.createContext();\r\n\r\nconst StyleProvider = ({ children }) => {\r\n  const [theme, setTheme] = useState({\r\n    palette: {\r\n      type: 'light',\r\n      primary: {\r\n        main: '#0f417a',\r\n      },\r\n      secondary: {\r\n        main: '#ffc400',\r\n      },\r\n      background: {},\r\n    },\r\n  });\r\n  const [styleSheets, setStyleSheets] = useState([]);\r\n\r\n  const finalTheme = useMemo(() => createTheme(theme), [theme]);\r\n\r\n  useEffect(() => {\r\n    if (Array.isArray(styleSheets) && styleSheets.length > 0) {\r\n      styleSheets.forEach((styleSheetUrl) => {\r\n        if (styleSheetUrl.endsWith('.css')) {\r\n          addStyleSheet(styleSheetUrl);\r\n        }\r\n      });\r\n    }\r\n  }, [styleSheets]);\r\n\r\n  const context = { setTheme, setStyleSheets };\r\n\r\n  return (\r\n    <StyleContext.Provider value={context}>\r\n      <ThemeProvider theme={finalTheme}>{children}</ThemeProvider>\r\n    </StyleContext.Provider>\r\n  );\r\n};\r\n\r\nexport default StyleProvider;\r\n","import { useEffect, useContext } from 'react';\r\nimport { StyleContext } from 'components/style/style';\r\n\r\nexport const StyleWrapper = ({ children, metadata }) => {\r\n  const { setTheme, setStyleSheets } = useContext(StyleContext);\r\n\r\n  useEffect(() => {\r\n    if (metadata?.style) {\r\n      const {\r\n        style: { theme, styleSheets },\r\n      } = metadata;\r\n      if (styleSheets) setStyleSheets(styleSheets);\r\n      if (theme) setTheme(theme);\r\n    }\r\n  }, [metadata, setTheme, setStyleSheets]);\r\n\r\n  return children;\r\n};\r\n","import * as lunatic from '@inseefr/lunatic';\r\nimport Card from '@material-ui/core/Card';\r\nimport Container from '@material-ui/core/Container';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { EndPage, ValidationPage, WelcomePage } from 'components/genericPages';\r\nimport { ErrorsModal } from 'components/modals/errors';\r\nimport { SendingConfirmation } from 'components/modals/sendingConfirmation';\r\nimport { WelcomeBack } from 'components/modals/welcomeBack';\r\nimport { AppBar } from 'components/navigation/appBar';\r\nimport { BurgerMenu } from 'components/navigation/burgerMenu';\r\nimport { LoaderSimple } from 'components/shared/loader';\r\nimport { useCallback, useEffect, useRef, useState } from 'react';\r\nimport { simpleLog } from 'utils/events';\r\nimport { useLunaticFetcher } from 'utils/hooks';\r\nimport {\r\n  END_PAGE,\r\n  isLunaticPage,\r\n  VALIDATION_PAGE,\r\n  WELCOME_PAGE,\r\n} from 'utils/pagination';\r\nimport { isNewSequence } from 'utils/questionnaire';\r\nimport { INIT, VALIDATED } from 'utils/questionnaire/stateData';\r\nimport '../custom-lunatic.scss';\r\nimport { ButtonsNavigation } from '../navigation';\r\nimport { StyleWrapper } from '../styleWrapper';\r\n\r\nexport const Orchestrator = ({\r\n  source,\r\n  logoutAndClose: quit,\r\n  stromaeData,\r\n  metadata,\r\n  save,\r\n  savingType,\r\n  preferences,\r\n  features,\r\n  activeControls,\r\n  readonly,\r\n  suggesters,\r\n  autoSuggesterLoading,\r\n}) => {\r\n  const classes = useStyles();\r\n  const topRef = useRef();\r\n  const [init, setInit] = useState(false);\r\n  const [validationConfirmation, setValidationConfirmation] = useState(false);\r\n\r\n  const { stateData, data, personalization } = stromaeData;\r\n  const [currentStateData, setCurrentStateData] = useState(stateData);\r\n\r\n  const [validated, setValidated] = useState(\r\n    stateData &&\r\n      (stateData.state === 'VALIDATED' ||\r\n        stateData.state === 'EXTRACTED' ||\r\n        stateData.state === 'TOEXTRACT')\r\n  );\r\n\r\n  const { lunaticFetcher: suggesterFetcher } = useLunaticFetcher();\r\n  const logFunction = (e) => simpleLog({ ...e, page: currentPage });\r\n  const {\r\n    getComponents,\r\n    waiting,\r\n    pageTag,\r\n    pager: { page },\r\n    goNextPage,\r\n    goPreviousPage,\r\n    isFirstPage,\r\n    isLastPage,\r\n    compileControls,\r\n    getData,\r\n  } = lunatic.useLunatic(source, data, {\r\n    savingType,\r\n    preferences,\r\n    // initialPage: isLunaticPage(stateData?.currentPage)\r\n    //   ? stateData?.currentPage\r\n    //   : '1',\r\n    features,\r\n    activeControls,\r\n    suggesters,\r\n    autoSuggesterLoading,\r\n    suggesterFetcher,\r\n    logFunction,\r\n  });\r\n\r\n  const components = getComponents();\r\n\r\n  const [currentPage, setCurrentPage] = useState(() => {\r\n    if (validated) return END_PAGE;\r\n    if (stateData?.currentPage) {\r\n      return page;\r\n    }\r\n    return WELCOME_PAGE;\r\n  });\r\n\r\n  const updateStateData = useCallback(\r\n    (newState) => {\r\n      const newStateData = {\r\n        state: newState ?? INIT,\r\n        date: new Date().getTime(),\r\n        currentPage: currentPage,\r\n      };\r\n      setCurrentStateData(newStateData);\r\n      return newStateData;\r\n    },\r\n    [currentPage]\r\n  );\r\n\r\n  const logoutAndClose = async () => {\r\n    if (!validated) {\r\n      const logoutAndCloseUpdateState = updateStateData();\r\n      const dataToSave = {\r\n        stateData: logoutAndCloseUpdateState,\r\n        data: getData(),\r\n      };\r\n      await save(dataToSave);\r\n    }\r\n    quit();\r\n  };\r\n\r\n  const goToTop = () => {\r\n    if (topRef && topRef.current) {\r\n      topRef.current.tabIndex = -1;\r\n      topRef.current.focus();\r\n      topRef.current.blur();\r\n      window.scrollTo({ top: 0 });\r\n      topRef.current.removeAttribute('tabindex');\r\n    }\r\n  };\r\n  const validateQuestionnaire = () => {\r\n    setValidated(true);\r\n    const validateUpdateState = updateStateData(VALIDATED);\r\n    const dataToSave = {\r\n      stateData: validateUpdateState,\r\n      data: getData(),\r\n    };\r\n    save(dataToSave);\r\n    setCurrentPage(END_PAGE);\r\n  };\r\n\r\n  const [errorActive, setErrorActive] = useState({});\r\n  const [errorsForModal, setErrorsForModal] = useState(null);\r\n  const closeErrorsModal = useCallback(() => setErrorsForModal(undefined), []);\r\n\r\n  const handleGoNext = useCallback(\r\n    (skipValidation, nextFunction) => {\r\n      if (skipValidation) nextFunction();\r\n      else {\r\n        const { currentErrors, isCritical } = compileControls();\r\n        setErrorActive({ ...errorActive, [pageTag]: currentErrors || {} });\r\n        if (currentErrors && Object.keys(currentErrors).length > 0) {\r\n          setErrorsForModal({ currentErrors, isCritical });\r\n        } else nextFunction();\r\n      }\r\n    },\r\n    [compileControls, errorActive, pageTag]\r\n  );\r\n\r\n  const onNext = useCallback(\r\n    (event, skipValidation = false) => {\r\n      closeErrorsModal();\r\n      if (currentPage === WELCOME_PAGE) setCurrentPage(page);\r\n      else {\r\n        const onNextUpdateState = updateStateData();\r\n        const dataToSave = {\r\n          stateData: onNextUpdateState,\r\n          data: getData(),\r\n        };\r\n        if (!isLastPage) {\r\n          if (isNewSequence(components)) {\r\n            save(dataToSave);\r\n          }\r\n          handleGoNext(skipValidation, goNextPage);\r\n        } else {\r\n          save(dataToSave);\r\n          handleGoNext(skipValidation, () => setCurrentPage(VALIDATION_PAGE));\r\n        }\r\n      }\r\n      goToTop();\r\n    },\r\n    [\r\n      closeErrorsModal,\r\n      components,\r\n      currentPage,\r\n      getData,\r\n      goNextPage,\r\n      handleGoNext,\r\n      isLastPage,\r\n      page,\r\n      save,\r\n      updateStateData,\r\n    ]\r\n  );\r\n\r\n  const onPrevious = () => {\r\n    if (currentPage === VALIDATION_PAGE) setCurrentPage(page);\r\n    else {\r\n      if (!isFirstPage) goPreviousPage();\r\n      else setCurrentPage(WELCOME_PAGE);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isLunaticPage(currentPage)) {\r\n      setCurrentPage(page);\r\n    }\r\n  }, [currentPage, page]);\r\n\r\n  const lunaticDisplay = () => (\r\n    <Card\r\n      className={`lunatic lunatic-component ${classes.component}`}\r\n      key={`component`}\r\n    >\r\n      {components.map((component) => {\r\n        const { id, componentType, response, storeName, ...other } = component;\r\n        const Component = lunatic[componentType];\r\n        return (\r\n          <div\r\n            className={`lunatic-component outerContainer-${componentType}`}\r\n            key={`component-${id}`}\r\n          >\r\n            <Component\r\n              id={id}\r\n              response={response}\r\n              savingType={savingType}\r\n              preferences={preferences}\r\n              readOnly={readonly}\r\n              disabled={readonly}\r\n              labelPosition='TOP' //For LunaticSuggester\r\n              logFunction={logFunction}\r\n              filterDescription={false}\r\n              errors={errorActive[pageTag]}\r\n              {...other}\r\n              {...component}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n    </Card>\r\n  );\r\n\r\n  return (\r\n    <StyleWrapper metadata={metadata}>\r\n      <BurgerMenu\r\n        title={source?.label.value}\r\n        metadata={metadata}\r\n        currentPage={currentPage}\r\n        logoutAndClose={logoutAndClose}\r\n      />\r\n      <AppBar title={source?.label.value} metadata={metadata} />\r\n      <Container\r\n        maxWidth='md'\r\n        component='main'\r\n        role='main'\r\n        id='main'\r\n        ref={topRef}\r\n        className={classes.root}\r\n      >\r\n        {/* <Button onClick={compileErrors}>Compiler les controls</Button> */}\r\n        {currentPage === WELCOME_PAGE && (\r\n          <WelcomePage metadata={metadata} personalization={personalization} />\r\n        )}\r\n        {isLunaticPage(currentPage) && lunaticDisplay()}\r\n        {currentPage === VALIDATION_PAGE && (\r\n          <ValidationPage\r\n            metadata={metadata}\r\n            setValidationConfirmation={setValidationConfirmation}\r\n            currentPage={currentPage}\r\n          />\r\n        )}\r\n        {currentPage === END_PAGE && (\r\n          <EndPage\r\n            logoutAndClose={logoutAndClose}\r\n            metadata={metadata}\r\n            stateData={currentStateData}\r\n            currentPage={currentPage}\r\n            personalization={personalization}\r\n          />\r\n        )}\r\n      </Container>\r\n      {!validated && (\r\n        <ButtonsNavigation\r\n          onNext={onNext}\r\n          onPrevious={onPrevious}\r\n          currentPage={currentPage}\r\n          validateQuestionnaire={() => setValidationConfirmation(true)}\r\n        />\r\n      )}\r\n      {errorsForModal && (\r\n        <ErrorsModal\r\n          currentPage={currentPage}\r\n          errors={errorsForModal}\r\n          goNext={onNext}\r\n          onClose={closeErrorsModal}\r\n        />\r\n      )}\r\n      <WelcomeBack\r\n        open={!init && !validated && !!stateData?.currentPage}\r\n        setOpen={(o) => setInit(!o)}\r\n        goToFirstPage={() => {\r\n          setCurrentPage(WELCOME_PAGE);\r\n        }}\r\n      />\r\n      <SendingConfirmation\r\n        open={validationConfirmation}\r\n        setOpen={setValidationConfirmation}\r\n        metadata={metadata}\r\n        validateQuestionnaire={validateQuestionnaire}\r\n        currentPage={currentPage}\r\n      />\r\n      {waiting && <LoaderSimple />}\r\n    </StyleWrapper>\r\n  );\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flex: '1 1 auto',\r\n    backgroundColor: 'whitesmoke',\r\n    padding: '0',\r\n    paddingTop: '1em',\r\n    paddingBottom: '3em',\r\n    marginBottom: '30px',\r\n  },\r\n  component: {\r\n    padding: '10px',\r\n    overflow: 'visible',\r\n    '& *': { fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif' },\r\n  },\r\n}));\r\n","export const NOT_STARTED = null;\r\nexport const INIT = 'INIT';\r\nexport const COMPLETED = 'COMPLETED';\r\nexport const VALIDATED = 'VALIDATED';\r\n","export * from './dataDownload';\r\n\r\n// TODO\r\nexport const getNotNullCollectedState = () => {};\r\n\r\nexport const secureCopy = (objectToCopy) =>\r\n  objectToCopy ? JSON.parse(JSON.stringify(objectToCopy)) : {};\r\n\r\nconst getPageWithoutAnyIteration = (currentPage) =>\r\n  currentPage\r\n    .split('.')\r\n    .map((e) => e.split('#')[0])\r\n    .join('.');\r\n\r\nconst filterPageLoop =\r\n  (currentPage) =>\r\n  ({ page, componentType }) => {\r\n    const currentPageWithoutIteration = getPageWithoutAnyIteration(currentPage);\r\n    return (\r\n      currentPageWithoutIteration.startsWith(page) && componentType === 'Loop'\r\n    );\r\n  };\r\n\r\nexport const isNewSequence = (components) =>\r\n  components.some((e) => e.componentType === 'Sequence');\r\n\r\nexport const getCurrentComponent = (components) => (currentPage) => {\r\n  const currentPageWithoutIteration = getPageWithoutAnyIteration(currentPage);\r\n  const filterComponentsLoop = components.filter((c) =>\r\n    filterPageLoop(currentPage)(c)\r\n  );\r\n  if (filterComponentsLoop.length > 0) {\r\n    const { maxPage, components: componentsOfLoop } = filterComponentsLoop[0];\r\n    if (maxPage) return getCurrentComponent(componentsOfLoop)(currentPage);\r\n  }\r\n  const comp = components\r\n    .filter(\r\n      ({ page, componentType }) =>\r\n        page === currentPageWithoutIteration &&\r\n        componentType !== 'FilterDescription'\r\n    )\r\n    .pop();\r\n  return comp || {};\r\n};\r\n","import Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { AppContext } from 'App';\nimport { AuthContext } from 'components/auth/provider';\nimport { LoaderSimple } from 'components/shared/loader';\nimport { useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport {\n  ORCHESTRATOR_COLLECT,\n  ORCHESTRATOR_READONLY,\n  READ_ONLY,\n} from 'utils/constants';\nimport {\n  EventsManager,\n  INIT_ORCHESTRATOR_EVENT,\n  INIT_SESSION_EVENT,\n} from 'utils/events';\nimport { useAPI, useAPIRemoteData } from 'utils/hooks';\nimport { buildSuggesterFromNomenclatures } from 'utils/questionnaire/nomenclatures';\nimport { Orchestrator } from './../collector';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    minHeight: '100%',\n    flexDirection: 'column',\n  },\n}));\n\nconst OrchestratorManager = () => {\n  const { apiUrl } = useContext(AppContext);\n\n  const classes = useStyles();\n  const [source, setSource] = useState(false);\n  const { readonly, idQ, idSU } = useParams();\n\n  const LOGGER = EventsManager.createEventLogger({\n    idQuestionnaire: idQ,\n    idSurveyUnit: idSU,\n    idOrchestrator:\n      readonly === READ_ONLY ? ORCHESTRATOR_READONLY : ORCHESTRATOR_COLLECT,\n  });\n\n  const {\n    suData,\n    questionnaire,\n    nomenclatures,\n    metadata,\n    loading,\n    errorMessage,\n  } = useAPIRemoteData(idSU, idQ);\n\n  const { putData, putStateData, postParadata } = useAPI(idSU, idQ);\n\n  const { logout, oidcUser, isUserLoggedIn } = useContext(AuthContext);\n\n  const [suggesters, setSuggesters] = useState(null);\n\n  const [errorSending, setErrorSending] = useState(null);\n\n  const sendData = async (dataToSave) => {\n    if (!readonly) {\n      const { data, stateData } = dataToSave;\n      const { /*status,*/ error: dataError } = await putData(data);\n      const { /*status,*/ error: stateDataError } = await putStateData(\n        stateData\n      );\n      const paradatas = LOGGER.getEventsToSend();\n      const { error: paradataPostError } = await postParadata(paradatas);\n      if (dataError || stateDataError || paradataPostError)\n        if (paradataPostError) setErrorSending('Error during sending');\n      LOGGER.clear();\n    }\n  };\n\n  const logoutAndClose = () => {\n    logout('portail');\n  };\n\n  useEffect(() => {\n    if (isUserLoggedIn && questionnaire) {\n      LOGGER.addMetadata({ idSession: oidcUser?.sub });\n      LOGGER.log(INIT_SESSION_EVENT);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isUserLoggedIn, LOGGER, questionnaire]);\n\n  useEffect(() => {\n    if (!loading && questionnaire && nomenclatures) {\n      const {\n        label: { value: questionnaireTitle },\n      } = questionnaire;\n      window.document.title = questionnaireTitle;\n      setSource(questionnaire);\n      const suggestersBuilt =\n        buildSuggesterFromNomenclatures(apiUrl)(nomenclatures);\n      setSuggesters(suggestersBuilt);\n      LOGGER.log(INIT_ORCHESTRATOR_EVENT);\n    }\n  }, [questionnaire, loading, nomenclatures, apiUrl, LOGGER]);\n\n  return (\n    <Box className={classes.root}>\n      {loading && <LoaderSimple />}\n      {!loading && errorMessage && <Typography>{errorMessage}</Typography>}\n      {!loading &&\n        metadata &&\n        suData &&\n        questionnaire &&\n        suggesters &&\n        source && (\n          <Orchestrator\n            stromaeData={suData}\n            source={source}\n            metadata={metadata}\n            logoutAndClose={logoutAndClose}\n            autoSuggesterLoading={true}\n            suggesters={suggesters}\n            save={sendData}\n            savingType='COLLECTED'\n            preferences={['COLLECTED']}\n            features={['VTL', 'MD']}\n            pagination={true}\n            activeControls={true}\n            readonly={readonly}\n          />\n        )}\n      {errorSending && <h2>Error lors de l'envoie</h2>}\n    </Box>\n  );\n};\nexport default OrchestratorManager;\n","const buildSuggesterUrl = (apiUrl) => (id) => ({\r\n  url: `${apiUrl}/api/nomenclature/${id}`,\r\n});\r\n\r\nexport const buildSuggesterFromNomenclatures =\r\n  (apiUrl) =>\r\n  (nomenclatures = []) => {\r\n    if (Array.isArray(nomenclatures)) {\r\n      return nomenclatures.reduce((suggesters, nomenclature) => {\r\n        return {\r\n          ...suggesters,\r\n          [nomenclature]: buildSuggesterUrl(apiUrl)(nomenclature),\r\n        };\r\n      }, {});\r\n    }\r\n    return {};\r\n  };\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\n\r\nimport { visualizeDictionary } from 'i18n';\r\nimport { MarkdownTypo } from 'components/designSystem';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  heading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    flexBasis: '4em',\r\n    flexShrink: 0,\r\n  },\r\n  secondaryHeading: {\r\n    fontSize: theme.typography.pxToRem(15),\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  accordionDetails: {\r\n    display: 'block',\r\n  },\r\n}));\r\n\r\nconst Helper = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Accordion>\r\n      <AccordionSummary\r\n        expandIcon={<ExpandMore />}\r\n        aria-controls='panel1a-content'\r\n        id='panel1a-header'\r\n      >\r\n        <MarkdownTypo className={classes.heading}>\r\n          {visualizeDictionary.accordionHelperTitle}\r\n        </MarkdownTypo>\r\n        <MarkdownTypo className={classes.secondaryHeading}>\r\n          {visualizeDictionary.accordionHelperSubtitle}\r\n        </MarkdownTypo>\r\n      </AccordionSummary>\r\n      <AccordionDetails className={classes.accordionDetails}>\r\n        <MarkdownTypo>{visualizeDictionary.accordionHelperBody}</MarkdownTypo>\r\n      </AccordionDetails>\r\n    </Accordion>\r\n  );\r\n};\r\nexport default Helper;\r\n","import FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport { visualizeDictionary } from 'i18n';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport React from 'react';\r\nimport { QUESTIONNAIRE_EXAMPLES } from 'utils/constants';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst Examples = ({ selected, setSelected, className }) => {\r\n  const classes = useStyles();\r\n  const handleChange = (event) => {\r\n    setSelected(event.target.value);\r\n  };\r\n  return (\r\n    <FormControl className={`${classes.formControl} ${className}`}>\r\n      <InputLabel htmlFor='native-simple'>\r\n        {visualizeDictionary.labelExamples}\r\n      </InputLabel>\r\n      <Select\r\n        native\r\n        value={selected}\r\n        onChange={handleChange}\r\n        inputProps={{\r\n          name: 'questionnaire',\r\n          id: 'native-simple',\r\n        }}\r\n      >\r\n        <option value=''>{visualizeDictionary.labelExamples}</option>\r\n        {QUESTIONNAIRE_EXAMPLES.map((v, i) => {\r\n          return (\r\n            <option key={v} value={v}>\r\n              {v.toUpperCase()}\r\n            </option>\r\n          );\r\n        })}\r\n      </Select>\r\n    </FormControl>\r\n  );\r\n};\r\n\r\nexport default Examples;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { visualizeDictionary, buttonDictionary } from 'i18n';\r\nimport {\r\n  QUESTIONNAIRE_EXAMPLE_URL,\r\n  METADATA_EXAMPLE_URL,\r\n  DATA_EXAMPLE_URL,\r\n  SIMPSONS,\r\n  DEFAULT_DATA_URL,\r\n  DEFAULT_NOMENCLATURE_URL,\r\n  DEFAULT_METADATA_URL,\r\n} from 'utils/constants';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Container from '@material-ui/core/Container';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { Button } from 'components/designSystem';\r\nimport Helper from './helper';\r\nimport Examples from './examples';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingBottom: theme.spacing(3),\r\n  },\r\n  title: {\r\n    textAlign: 'center',\r\n  },\r\n  selectionParent: {\r\n    display: 'flex',\r\n    alignItems: 'baseLine',\r\n  },\r\n  selection: {\r\n    marginLeft: theme.spacing(3),\r\n  },\r\n  buttonParent: {\r\n    marginTop: theme.spacing(1),\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n  button: {\r\n    paddingRight: theme.spacing(5),\r\n    paddingLeft: theme.spacing(5),\r\n  },\r\n}));\r\n\r\nconst QuestionnaireForm = () => {\r\n  const classes = useStyles();\r\n  const [questionnaire, setQuestionnaire] = useState('');\r\n  const [metadata, setMetadata] = useState('');\r\n  const [data, setData] = useState('');\r\n  const [nomenclature, setNomenclature] = useState('');\r\n  const [readonly, setReadonly] = useState(false);\r\n\r\n  const [selected, setSelected] = useState('');\r\n\r\n  useEffect(() => {\r\n    setQuestionnaire(selected ? QUESTIONNAIRE_EXAMPLE_URL(selected) : selected);\r\n    setMetadata(selected ? METADATA_EXAMPLE_URL(selected) : selected);\r\n    setData(selected ? DATA_EXAMPLE_URL(selected) : selected);\r\n  }, [selected]);\r\n\r\n  const history = useHistory();\r\n\r\n  const goToQuestionnaire = (e) => {\r\n    history.push({\r\n      pathname: '/visualize',\r\n      search: `?questionnaire=${encodeURIComponent(questionnaire)}\r\n      ${metadata ? `&metadata=${encodeURIComponent(metadata)}` : ''}${\r\n        data ? `&data=${encodeURIComponent(data)}` : ''\r\n      }${\r\n        nomenclature ? `&nomenclature=${encodeURIComponent(nomenclature)}` : ''\r\n      }\r\n      ${readonly ? `&readonly=${readonly}` : ''}`,\r\n    });\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth='lg' className={classes.root}>\r\n      <Typography variant='h3' className={classes.title}>\r\n        {visualizeDictionary.visualizationTitlePage}\r\n      </Typography>\r\n      <form onSubmit={goToQuestionnaire}>\r\n        <TextField\r\n          id='questionnaire-url-form'\r\n          required\r\n          label={visualizeDictionary.labelQuest}\r\n          placeholder={QUESTIONNAIRE_EXAMPLE_URL(SIMPSONS)}\r\n          helperText={visualizeDictionary.helperTextQuest}\r\n          fullWidth\r\n          margin='normal'\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          value={questionnaire}\r\n          onChange={({ target: { value: v } }) => {\r\n            setQuestionnaire(v);\r\n          }}\r\n          variant='outlined'\r\n        />\r\n        <TextField\r\n          id='metadata-url-form'\r\n          label={visualizeDictionary.labelMetadata}\r\n          placeholder={DEFAULT_METADATA_URL}\r\n          helperText={visualizeDictionary.helperTextMetadata}\r\n          fullWidth\r\n          margin='normal'\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          value={metadata}\r\n          onChange={({ target: { value: v } }) => {\r\n            setMetadata(v);\r\n          }}\r\n          variant='outlined'\r\n        />\r\n        <TextField\r\n          id='data-url-form'\r\n          label={visualizeDictionary.labelData}\r\n          placeholder={DEFAULT_DATA_URL}\r\n          helperText={visualizeDictionary.helperTextData}\r\n          fullWidth\r\n          margin='normal'\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          value={data}\r\n          onChange={({ target: { value: v } }) => {\r\n            setData(v);\r\n          }}\r\n          variant='outlined'\r\n        />\r\n        <TextField\r\n          id='nomenclature-url-form'\r\n          label={visualizeDictionary.labelNomenclature}\r\n          placeholder={JSON.stringify(DEFAULT_NOMENCLATURE_URL)}\r\n          helperText={visualizeDictionary.helperTextNomenclature}\r\n          fullWidth\r\n          margin='normal'\r\n          InputLabelProps={{\r\n            shrink: true,\r\n          }}\r\n          value={nomenclature}\r\n          onChange={({ target: { value: v } }) => {\r\n            setNomenclature(v);\r\n          }}\r\n          variant='outlined'\r\n        />\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox\r\n              checked={readonly}\r\n              onChange={({ target: { checked } }) => setReadonly(checked)}\r\n              name='readonly'\r\n              color='primary'\r\n            />\r\n          }\r\n          label={visualizeDictionary.labelReadonly}\r\n        />\r\n        <div className={classes.selectionParent}>\r\n          <Typography>{visualizeDictionary.chooseExamples}</Typography>\r\n          <Examples\r\n            className={classes.selection}\r\n            selected={selected}\r\n            setSelected={setSelected}\r\n          />\r\n        </div>\r\n        <div className={classes.buttonParent}>\r\n          <Button type='submit' className={classes.button}>\r\n            {buttonDictionary.visualize}\r\n          </Button>\r\n        </div>\r\n      </form>\r\n      <br />\r\n      <Helper />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default QuestionnaireForm;\r\n","import Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport { Orchestrator } from 'components/orchestrator/collector';\nimport { useEffect, useState } from 'react';\nimport { useRemoteData, useVisuQuery } from 'utils/hooks';\n\nimport { LoaderSimple } from 'components/shared/loader';\nimport { useHistory } from 'react-router';\nimport { ORCHESTRATOR_VIZUALISATION } from 'utils/constants';\nimport { EventsManager, INIT_ORCHESTRATOR_EVENT } from 'utils/events';\nimport { downloadDataAsJson } from 'utils/questionnaire';\nimport QuestionnaireForm from './questionnaireForm';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    minHeight: '100%',\n    flexDirection: 'column',\n    backgroundColor: 'whitesmoke',\n  },\n}));\n\nconst Visualizer = () => {\n  const classes = useStyles();\n  const [source, setSource] = useState(false);\n  const history = useHistory();\n\n  const LOGGER = EventsManager.createEventLogger({\n    idQuestionnaire: 'fake q',\n    idSurveyUnit: 'fake Su',\n    idOrchestrator: ORCHESTRATOR_VIZUALISATION,\n  });\n\n  const { questionnaireUrl, metadataUrl, dataUrl, readonly, nomenclatures } =\n    useVisuQuery();\n\n  const { suData, questionnaire, metadata, loading, errorMessage } =\n    useRemoteData(questionnaireUrl, metadataUrl, dataUrl);\n\n  const sendData = (surveyUnit) => {};\n\n  const buildSuggester = (nomenclatures) =>\n    nomenclatures\n      ? Object.entries(nomenclatures).reduce((newObj, [key, val]) => {\n          return { ...newObj, [key]: { url: val } };\n        }, {})\n      : {};\n\n  const logoutAndClose = async (surveyUnit) => {\n    downloadDataAsJson(surveyUnit, `data-${surveyUnit?.stateData?.date}`);\n    const paradatas = LOGGER.getEventsToSend();\n    downloadDataAsJson(paradatas, `paradata-${surveyUnit?.stateData?.date}`);\n    history.push('/');\n    LOGGER.clear();\n  };\n\n  useEffect(() => {\n    if (!loading && questionnaire) {\n      const {\n        label: { value: questionnaireTitle },\n      } = questionnaire;\n      window.document.title = questionnaireTitle;\n      setSource(questionnaire);\n      LOGGER.log(INIT_ORCHESTRATOR_EVENT);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [questionnaire, loading]);\n\n  return (\n    <>\n      {questionnaireUrl && (\n        <Box className={classes.root}>\n          {loading && <LoaderSimple />}\n          {!loading && errorMessage && <Typography>{errorMessage}</Typography>}\n          {!loading && metadata && suData && questionnaire && source && (\n            <Orchestrator\n              stromaeData={suData}\n              source={source}\n              metadata={metadata}\n              save={sendData}\n              autoSuggesterLoading={true}\n              suggesters={buildSuggester(nomenclatures)}\n              savingType='COLLECTED'\n              preferences={['COLLECTED']}\n              features={['VTL', 'MD']}\n              logoutAndClose={logoutAndClose}\n              pagination={true}\n              activeControls={true}\n              readonly={readonly}\n            />\n          )}\n        </Box>\n      )}\n      {!questionnaireUrl && <QuestionnaireForm />}\n    </>\n  );\n};\nexport default Visualizer;\n","import { useLocation } from 'react-router-dom';\r\n\r\nexport const useVisuQuery = () => {\r\n  const searchUrl = new URLSearchParams(useLocation().search);\r\n  const questionnaireUrl = searchUrl.get('questionnaire');\r\n  const metadataUrl = searchUrl.get('metadata');\r\n  const dataUrl = searchUrl.get('data');\r\n  const readonly = searchUrl.get('readonly') === 'true';\r\n  const stringNomenclature = searchUrl.get('nomenclature');\r\n  return {\r\n    questionnaireUrl,\r\n    metadataUrl,\r\n    dataUrl,\r\n    readonly,\r\n    nomenclatures: JSON.parse(stringNomenclature),\r\n  };\r\n};\r\n","import { Box, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport './component.css';\r\n\r\nexport const NotFound = () => {\r\n  return (\r\n    <div className='notFound'>\r\n      <div className='face'>\r\n        <div className='band'>\r\n          <div className='red'></div>\r\n          <div className='white'></div>\r\n          <div className='blue'></div>\r\n        </div>\r\n        <div className='eyes'></div>\r\n        <div className='dimples'></div>\r\n        <div className='mouth'></div>\r\n      </div>\r\n\r\n      <Typography component='div'>\r\n        <Box textAlign='center' fontSize='h3.fontSize' m={1}>\r\n          Oups! Page non trouvée !\r\n        </Box>\r\n      </Typography>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Redirect, Route, Switch } from 'react-router-dom';\r\nimport { OrchestratorManager } from 'components/orchestrator/manager';\r\nimport { secure } from 'components/auth';\r\nimport { READ_ONLY } from 'utils/constants';\r\nimport { Visualizer } from 'components/orchestrator/visualizer';\r\nimport { NotFound } from 'components/pages';\r\n\r\nconst Router = () => {\r\n  return (\r\n    <Switch>\r\n      <Route\r\n        path={`/:${READ_ONLY}?/questionnaire/:idQ/unite-enquetee/:idSU`}\r\n        component={secure(OrchestratorManager)}\r\n      />\r\n      <Route path='/visualize' component={Visualizer} />\r\n      <Route path='/404' component={NotFound} />\r\n      <Redirect to='/404' />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Router;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport Box from '@material-ui/core/Box';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport ExpandMore from '@material-ui/icons/ExpandMore';\r\nimport { Button } from 'components/designSystem';\r\nimport { defaultDictionary, errorDictionary, buttonDictionary } from 'i18n';\r\nimport { lunaticVersion, stromaeVersion } from 'utils/app';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    position: 'relative',\r\n    top: '3em',\r\n    padding: '1em',\r\n    textAlign: 'center',\r\n  },\r\n  error: {\r\n    backgroundColor: 'white',\r\n    textAlign: 'left',\r\n  },\r\n  resetButton: {\r\n    marginTop: '1em',\r\n  },\r\n  title: {\r\n    color: 'white',\r\n    margin: '0.5em',\r\n  },\r\n  alignBlock: {\r\n    textAlign: 'left',\r\n    display: 'block',\r\n  },\r\n}));\r\n\r\nconst ErrorFallback = ({ error, resetErrorBoundary }) => {\r\n  const classes = useStyles();\r\n  return (\r\n    <Container maxWidth='md'>\r\n      <Box className={classes.root} bgcolor='error.main' role='alert'>\r\n        <Typography variant='h4' className={classes.title}>\r\n          {errorDictionary.getUnknownError}\r\n        </Typography>\r\n        <Accordion>\r\n          <AccordionSummary\r\n            expandIcon={<ExpandMore />}\r\n            aria-controls='panel1a-content'\r\n            id='panel1a-header'\r\n          >\r\n            <Typography className={classes.heading}>\r\n              {errorDictionary.detailsError}\r\n            </Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails className={classes.alignBlock}>\r\n            <pre>{error.message}</pre>\r\n            <pre>{error.stack}</pre>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n        <Accordion>\r\n          <AccordionSummary\r\n            expandIcon={<ExpandMore />}\r\n            aria-controls='panel2a-content'\r\n            id='panel2a-header'\r\n          >\r\n            <Typography className={classes.heading}>\r\n              {defaultDictionary.appInfo}\r\n            </Typography>\r\n          </AccordionSummary>\r\n          <AccordionDetails className={classes.alignBlock}>\r\n            <Typography>\r\n              {`${defaultDictionary.appVersion} : `}\r\n              <b>{stromaeVersion}</b>\r\n            </Typography>\r\n            <Typography>\r\n              {`${defaultDictionary.lunaticVersion} : `}\r\n              <b>{lunaticVersion}</b>\r\n            </Typography>\r\n          </AccordionDetails>\r\n        </Accordion>\r\n        <Button className={classes.resetButton} onClick={resetErrorBoundary}>\r\n          {buttonDictionary.back}\r\n        </Button>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\nexport default ErrorFallback;\r\n","import { AuthProvider } from 'components/auth';\r\nimport { Router } from 'components/router';\r\nimport { ErrorFallback } from 'components/shared/error';\r\nimport { StyleProvider } from 'components/style';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { ErrorBoundary } from 'react-error-boundary';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { getConfiguration } from 'utils/configuration';\r\nimport './App.css';\r\n\r\nexport const AppContext = React.createContext();\r\n\r\nconst App = () => {\r\n  const [configuration, setConfiguration] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!configuration) {\r\n      getConfiguration().then((conf) => {\r\n        setConfiguration(conf);\r\n      });\r\n    }\r\n  }, [configuration]);\r\n\r\n  return (\r\n    <StyleProvider>\r\n      <ErrorBoundary\r\n        FallbackComponent={ErrorFallback}\r\n        onReset={() => setConfiguration(null)}\r\n        resetKeys={[configuration]}\r\n      >\r\n        {configuration && (\r\n          <AppContext.Provider value={configuration}>\r\n            <AuthProvider>\r\n              <BrowserRouter>\r\n                <Router />\r\n              </BrowserRouter>\r\n            </AuthProvider>\r\n          </AppContext.Provider>\r\n        )}\r\n      </ErrorBoundary>\r\n    </StyleProvider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import './wdyr';\r\nimport React from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst container = document.getElementById('root');\r\nconst root = createRoot(container);\r\n\r\nroot.render(<App />);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}